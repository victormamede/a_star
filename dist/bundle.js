!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.directions=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]],this.squareSize=40;const e=document.createElement("canvas");e.width=3*this.squareSize,e.height=3*this.squareSize,t.appendChild(e),e.addEventListener("mousedown",this.onClick.bind(this)),this.canvas=e,this.drawer=new n(this),this.drawer.draw()}onClick(t){const e=Math.floor(t.offsetX/this.squareSize),i=Math.floor(t.offsetY/this.squareSize);1===e&&1===i||(this.directions[i][e]=!this.directions[i][e],this.drawer.draw(),console.log(this))}getDirections(){let t=[];for(let e=0;e<3;e++)for(let i=0;i<3;i++)this.directions[i][e]&&t.push({x:e-1,y:i-1});return t}}class n{constructor(t){this.parent=t,this.ctx=t.canvas.getContext("2d")}draw(){const t=this.ctx;t.fillStyle="white",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.strokeStyle="black",t.lineWidth=1;for(let e=0;e<4;e++)t.moveTo(e*this.parent.squareSize,0),t.lineTo(e*this.parent.squareSize,t.canvas.height);for(let e=0;e<4;e++)t.moveTo(0,e*this.parent.squareSize),t.lineTo(t.canvas.width,e*this.parent.squareSize);t.stroke(),t.fillStyle="blue",t.beginPath(),t.arc(t.canvas.width/2,t.canvas.height/2,this.parent.squareSize/3,0,360),t.fill(),this.parent.getDirections().forEach(e=>{const i={x:t.canvas.width/2+e.x*this.parent.squareSize,y:t.canvas.height/2+e.y*this.parent.squareSize};t.fillStyle="red",t.beginPath(),t.arc(i.x,i.y,this.parent.squareSize/4,0,360),t.fill()})}}var a=function(t,e,i,s){return new(i||(i=Promise))((function(n,a){function r(t){try{h(s.next(t))}catch(t){a(t)}}function o(t){try{h(s.throw(t))}catch(t){a(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,o)}h((s=s.apply(t,e||[])).next())}))};class r{constructor(t,e){this.board=t,this.maxStep=100,this.minStep=0,this.stepInterval=50,this.open=[],this.closed=[],this.endNode=null,this.breakAll=null,this.possibleMoves=new s(document.getElementById("possible-moves-selector"));const i=document.createElement("input");i.type="range",i.className="custom-range",i.min=String(this.minStep),i.max=String(this.maxStep),i.value=String(this.stepInterval),i.addEventListener("change",t=>{this.stepInterval=+t.target.value});const n=document.createElement("label");n.innerHTML="Speed",n.appendChild(i),e.appendChild(n)}start(){this.calculate().then(t=>this.endNode=t)}draw(t,e){e.lineWidth=this.board.squareSize/4,e.lineCap="round",e.fillStyle="rgba(100, 100, 100, 0.2)",this.closed.forEach(i=>i.drawBox(t,e)),e.fillStyle="rgba(0, 32, 255, 0.2)",this.open.forEach(i=>i.drawBox(t,e)),e.strokeStyle="red",e.lineWidth=this.board.squareSize/3,null!=this.endNode&&this.endNode.drawLine(t,e)}calculate(){return a(this,void 0,void 0,(function*(){null!=this.breakAll&&this.breakAll();let t=!1;new Promise(t=>this.breakAll=t).then(()=>{t=!0});const[e,i]=this.board.findStartNode(),[s,n]=this.board.findEndNode();if(this.open=[],this.closed=[],this.endNode=null,null==i||null==n)return null;this.open.push(new o(this,i.pos));for(let e=0;e<1e3;e++){if(t)return null;yield new Promise(t=>setTimeout(t,this.maxStep-this.stepInterval));const[e,i]=this.lowestFInOpenList(n.pos);if(null==i)break;if(this.closed.push(i),this.open.splice(e,1),i.pos.x===n.pos.x&&i.pos.y===n.pos.y)return i;this.possibleMoves.getDirections().forEach(t=>{this.checkDirection(i,t)})}return this.breakAll=null,null}))}checkDirection(t,e){const i={x:e.x+t.pos.x,y:e.y+t.pos.y},[s,n]=this.board.getNode(i);if((null==n?void 0:n.stepMultiplier)===1/0)return;if(this.board.isOutOfBounds(i))return;if(null!=this.inClosedList(i)[1])return;const[a,r]=this.inOpenList(i);if(null!=r){if(!(t.distanceFromStart<r.distanceFromStart))return;this.open.splice(a,1)}const h=new o(this,i);h.parentNode=t;let l=t.distanceFromStart;return l+=null!=n?n.stepMultiplier:1,h.distanceFromStart=l,this.open.push(h),h}lowestFInOpenList(t){if(0===this.open.length)return[-1,void 0];let e=0,i=this.open[e].calculateF(t);return this.open.forEach((s,n)=>{const a=s.calculateF(t);a<i&&(e=n,i=a)}),[e,this.open[e]]}inOpenList(t){const e=this.open.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.open[e]]}inClosedList(t){const e=this.closed.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.closed[e]]}}class o{constructor(t,e){this.parent=t,this.distanceFromStart=0,this.parentNode=null,this.animationFrame=0,this.pos=Object.assign({},e),this.lineDrawer=new h(this),this.boxDrawer=new l(this)}calculateF(t){const e=Math.pow(t.x-this.pos.x,2)+Math.pow(t.y-this.pos.y,2);return Math.sqrt(e)+this.distanceFromStart}drawLine(t,e){this.lineDrawer.draw(t,e)}drawBox(t,e){this.boxDrawer.draw(t,e)}}class h{constructor(t){this.parent=t,this.animationFrame=0}trace(t,e){if(null==this.parent)return;if(null==this.parent.parentNode)return;const i=this.parent.parentNode.pos,s=this.parent.parent.board.squareSize,n=Math.max(this.parent.parent.maxStep-this.parent.parent.stepInterval,.01);this.animationFrame=Math.min(n,this.animationFrame);const a=this.animationFrame/n;e.lineTo(((1-a)*this.parent.pos.x+i.x*a)*s+s/2,((1-a)*this.parent.pos.y+i.y*a)*s+s/2),this.animationFrame<n?this.animationFrame+=t:this.parent.parentNode.lineDrawer.trace(t,e)}draw(t,e){const i=this.parent.parent.board.squareSize;null!=this.parent.parentNode&&(e.beginPath(),e.moveTo(this.parent.pos.x*i+i/2,this.parent.pos.y*i+i/2),this.parent.lineDrawer.trace(t,e),e.stroke())}}class l{constructor(t){this.parent=t,this.animationFrame=0,this.fallDownTime=100,this.animationTime=1e3}draw(t,e){const i=this.parent.parent.board.squareSize,s=this.parent.pos;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationFrame,this.animationTime));const n=Math.min(1,this.animationFrame/this.fallDownTime),a=this.animationFrame/this.animationTime;e.fillStyle="rgba(150, 0, 255, "+(1.2-a),e.fillRect(s.x*i-i/4*(1-n),s.y*i-i/4*(1-n),i,i)}}class c{constructor(){this.board=null,this.stepMultiplier=1/0}enter(t){this.board=t}}class d{constructor(t,e){this.from=t,this.to=e,this.animationFrame=0,this.animationTime=1e3,this.animationTime=1300*Math.random()+200}draw(t,e){this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime;e.lineWidth=1,e.strokeStyle=`rgba(0, 0, 0, ${.5*i})`,e.beginPath(),e.moveTo(this.from.x,this.from.y),e.lineTo((1-i)*this.from.x+i*this.to.x,(1-i)*this.from.y+i*this.to.y),e.stroke()}}class m extends c{constructor(t){super(),this.type="wall",this.pos=t,this.animator=new u(this)}draw(t,e){this.animator.draw(t,e)}}class u{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="black",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class p extends c{constructor(t){super(),this.type="start",this.stepMultiplier=1,this.pos=t,this.animator=new f(this)}enter(t){this.board=t;const[e]=this.board.findStartNode();e>=0&&this.board.nodes.splice(e,1)}draw(t,e){this.animator.draw(t,e)}}class f{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=4e3}draw(t,e){if(null==this.parent.board)return;this.animationFrame+=t,this.animationFrame%=this.animationTime;const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="green",e.lineWidth=1,e.strokeStyle="black";const a=[{x:.4,y:.8},{x:.6,y:.8},{x:.6,y:.2},{x:.4,y:.2},{x:.4,y:.25},{x:.2+.1*Math.sin(i*Math.PI*2),y:.4+.05*Math.abs(Math.cos(i*Math.PI*2))},{x:.4,y:.55}].map(t=>{return{x:((e=t).x+s.x)*n,y:(e.y+s.y)*n};var e});e.beginPath(),e.moveTo(a[0].x,a[0].y),a.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),e.stroke()}}class y extends c{constructor(t){super(),this.type="end",this.stepMultiplier=1,this.pos=t,this.animator=new x(this)}enter(t){this.board=t;const[e]=this.board.findEndNode();e>=0&&this.board.nodes.splice(e,1)}draw(t,e){this.animator.draw(t,e)}}class x{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=4e3}draw(t,e){if(null==this.parent.board)return;this.animationFrame+=t,this.animationFrame%=this.animationTime;const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="red",e.lineWidth=1,e.strokeStyle="black";const a=[{x:.4,y:.8},{x:.6,y:.8},{x:.6,y:.2},{x:.4,y:.2},{x:.4,y:.25},{x:.2+.1*Math.sin(i*Math.PI*2),y:.4+.05*Math.abs(Math.cos(i*Math.PI*2))},{x:.4,y:.55}].map(t=>{return{x:((e=t).x+s.x)*n,y:(e.y+s.y)*n};var e});e.beginPath(),e.moveTo(a[0].x,a[0].y),a.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),e.stroke()}}class w extends c{constructor(t){super(),this.type="water",this.stepMultiplier=2,this.pos=t,this.animator=new b(this)}draw(t,e){this.animator.draw(t,e)}}class b{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="rgba(0, 100, 150, 0.6)",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class S extends class extends class{}{constructor(t){super(),this.size=t,this.squareSize=32,this.boardLines=[],this.nodes=[],this.addLines(),this.pathFinder=new r(this,document.getElementById("speed-selector"))}addLines(){for(let t=0;t<this.size.x+1;t++)this.boardLines.push(new d({x:t*this.squareSize,y:0},{x:t*this.squareSize,y:this.size.y*this.squareSize}));for(let t=0;t<this.size.y+1;t++)this.boardLines.push(new d({x:0,y:t*this.squareSize},{x:this.size.x*this.squareSize,y:t*this.squareSize}))}addNode(t){const[e]=this.getNode(t.pos);e>=0||this.isOutOfBounds(t.pos)||(t.enter(this),this.nodes.push(t))}getNode(t){const e=this.nodes.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.nodes[e]]}isOutOfBounds(t){return t.x>=this.size.x||t.x<0||t.y>=this.size.y||t.y<0}findStartNode(){const t=this.nodes.findIndex(t=>"start"===t.type);return[t,this.nodes[t]]}findEndNode(){const t=this.nodes.findIndex(t=>"end"===t.type);return[t,this.nodes[t]]}draw(t,e){this.pathFinder.draw(t,e),this.boardLines.forEach(i=>i.draw(t,e)),this.nodes.forEach(i=>i.draw(t,e))}}{constructor(t){super(t),this.currentKey="",this.factories={start:{label:"Start Point",factory:t=>new p(t)},end:{label:"End Point",factory:t=>new y(t)},wall:{label:"Wall",factory:t=>new m(t)},water:{label:"Water",factory:t=>new w(t)}};const e=document.getElementById("toplace-selector");if(null!=e)for(let t of Object.keys(this.factories)){const i=document.createElement("input");i.type="radio",i.name="toplace",i.id="toplace-"+t,i.className="custom-control-input",i.addEventListener("change",()=>{this.currentKey=t});const s=document.createElement("label");s.className="custom-control-label",s.htmlFor="toplace-"+t,s.innerHTML=this.factories[t].label;const n=document.createElement("div");n.className="custom-control custom-radio",n.appendChild(i),n.appendChild(s),e.appendChild(n)}}onClick(t){const e={x:Math.floor(t.offsetX/this.squareSize),y:Math.floor(t.offsetY/this.squareSize)};if(this.currentKey in this.factories)switch(t.buttons){case 1:this.addNode(this.factories[this.currentKey].factory(e)),this.pathFinder.start();break;case 2:this.removeNode(e)}}removeNode(t){const[e]=this.getNode(t);-1!==e&&this.nodes.splice(e,1)}}class v{constructor(t){this.ctx=t,this.components=[],this.lastTime=0;const e=new S({x:26,y:22});t.canvas.width=e.size.x*e.squareSize,t.canvas.height=e.size.y*e.squareSize,t.canvas.addEventListener("contextmenu",t=>{t.preventDefault()}),t.canvas.addEventListener("mousemove",e.onClick.bind(e)),t.canvas.addEventListener("mousedown",e.onClick.bind(e)),this.addComponent(e)}addComponent(t){this.components.push(t)}draw(t){const e=this.ctx,i=t-this.lastTime;e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),this.components.forEach(t=>{t.draw(i,e)}),this.lastTime=t}}const F=document.getElementById("game-canvas").getContext("2d");if(null!=F){const t=new v(F),e=i=>{t.draw(i),window.requestAnimationFrame(e)};e(0)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcG9zc2libGVNb3Zlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wYXRoRmluZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vZGVzL3dhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm9kZXMvc3RhcnRwb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy9lbmRwb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy93YXRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ib2FyZExvZ2ljLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJQb3NzaWJsZU1vdmVzIiwiY29udGFpbnRlciIsImRpcmVjdGlvbnMiLCJzcXVhcmVTaXplIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJ0aGlzIiwiaGVpZ2h0IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwib25DbGljayIsImRyYXdlciIsIlBvc3NpYmxlTW92ZXNEcmF3ZXIiLCJkcmF3IiwiZSIsInNxdWFyZSIsIk1hdGgiLCJmbG9vciIsIm9mZnNldFgiLCJvZmZzZXRZIiwiY29uc29sZSIsImxvZyIsInRvUmV0dXJuIiwieCIsInkiLCJwdXNoIiwicGFyZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJhcmMiLCJmaWxsIiwiZ2V0RGlyZWN0aW9ucyIsImZvckVhY2giLCJkaXJlY3Rpb24iLCJwb3MiLCJib2FyZCIsInN0ZXBJbnRlcnZhbFNlbGVjdG9yQ29udGFpbmVyIiwibWF4U3RlcCIsIm1pblN0ZXAiLCJzdGVwSW50ZXJ2YWwiLCJvcGVuIiwiY2xvc2VkIiwiZW5kTm9kZSIsImJyZWFrQWxsIiwicG9zc2libGVNb3ZlcyIsImdldEVsZW1lbnRCeUlkIiwic3RlcEludGVydmFsU2VsZWN0b3IiLCJ0eXBlIiwiY2xhc3NOYW1lIiwibWluIiwiU3RyaW5nIiwibWF4IiwidmFsIiwidGFyZ2V0Iiwic3RlcEludGVydmFsTGFiZWwiLCJpbm5lckhUTUwiLCJjYWxjdWxhdGUiLCJ0aGVuIiwiZGVsdGFUaW1lIiwibGluZUNhcCIsIm5vZGUiLCJkcmF3Qm94IiwiZHJhd0xpbmUiLCJmb3JjZUJyZWFrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzdGFydEluZGV4Iiwic3RhcnROb2RlIiwiZmluZFN0YXJ0Tm9kZSIsImVuZEluZGV4IiwiZmluZEVuZE5vZGUiLCJQYXRoRmluZGVyTm9kZSIsInNldFRpbWVvdXQiLCJjdXJyZW50Tm9kZUluZGV4IiwiY3VycmVudE5vZGUiLCJsb3dlc3RGSW5PcGVuTGlzdCIsInNwbGljZSIsImNoZWNrRGlyZWN0aW9uIiwibmV3UG9zIiwiY3VycmVudEJvYXJkTm9kZUluZGV4IiwiY3VycmVudEJvYXJkTm9kZSIsImdldE5vZGUiLCJzdGVwTXVsdGlwbGllciIsIkluZmluaXR5IiwiaXNPdXRPZkJvdW5kcyIsImluQ2xvc2VkTGlzdCIsImluT3Blbkxpc3RJbmRleCIsImluT3Blbkxpc3QiLCJkaXN0YW5jZUZyb21TdGFydCIsIm5ld05vZGUiLCJwYXJlbnROb2RlIiwiZW5kUG9zIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibG93ZXN0IiwibG93ZXN0RiIsImNhbGN1bGF0ZUYiLCJpbmRleCIsIm5vZGVGIiwiZmluZEluZGV4IiwiX3BvcyIsImFuaW1hdGlvbkZyYW1lIiwibGluZURyYXdlciIsIlBhdGhGaW5kZXJOb2RlTGluZURyYXdlciIsImJveERyYXdlciIsIlBhdGhGaW5kZXJOb2RlQm94RHJhd2VyIiwiZGlzdGFuY2VFc3RpbWF0ZVNxdWFyZWQiLCJwb3ciLCJzcXJ0IiwibmV4dFBvcyIsImFuaW1hdGlvblRpbWUiLCJhbmltYXRpb25NdWx0aXBsaWVyIiwidHJhY2UiLCJmYWxsRG93blRpbWUiLCJmYWxsRG93bk11bHRpcGxpZXIiLCJOb2RlIiwiX2JvYXJkIiwiQm9hcmRMaW5lIiwiZnJvbSIsInRvIiwicmFuZG9tIiwic3VwZXIiLCJhbmltYXRvciIsIldhbGxBbmltYXRpb24iLCJTdGFydFBvaW50QW5pbWF0aW9uIiwibm9kZXMiLCJ3b3JsZFBhdGgiLCJzaW4iLCJQSSIsImFicyIsImNvcyIsIm1hcCIsInBvaW50IiwicG9zSW5TcXVhcmVUb1dvcmxkIiwiY2xvc2VQYXRoIiwiRW5kUG9pbnRBbmltYXRpb24iLCJXYXRlckFuaW1hdGlvbiIsInNpemUiLCJib2FyZExpbmVzIiwiYWRkTGluZXMiLCJwYXRoRmluZGVyIiwiZW50ZXIiLCJsaW5lIiwiX3NpemUiLCJjdXJyZW50S2V5IiwiZmFjdG9yaWVzIiwic3RhcnQiLCJsYWJlbCIsImZhY3RvcnkiLCJwb3NpdGlvbiIsImVuZCIsIndhbGwiLCJ3YXRlciIsInRvUGxhY2UiLCJrZXlzIiwibmV3RWxlbWVudCIsImlkIiwibGFiZWxFbGVtZW50IiwiaHRtbEZvciIsImRpdkVsZW1lbnQiLCJidXR0b25zIiwiYWRkTm9kZSIsInJlbW92ZU5vZGUiLCJjb21wb25lbnRzIiwibGFzdFRpbWUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZENvbXBvbmVudCIsImNvbXBvbmVudCIsInRpbWUiLCJjb250cm9sbGVyIiwidXBkYXRlIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixF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QUdqQixNQUFNakksRUFBUSxJQUFJLEVBQ2hCLENBQUNwQixFQUFHLEdBQUlDLEVBQUcsS0FHYkcsRUFBSXpCLE9BQU9HLE1BQVFzQyxFQUFNc0csS0FBSzFILEVBQUlvQixFQUFNMUMsV0FDeEMwQixFQUFJekIsT0FBT0ssT0FBU29DLEVBQU1zRyxLQUFLekgsRUFBSW1CLEVBQU0xQyxXQUV6QzBCLEVBQUl6QixPQUFPTyxpQkFBaUIsY0FBZ0JLLElBQVFBLEVBQUUrSixtQkFFdERsSixFQUFJekIsT0FBT08saUJBQWlCLFlBQWFrQyxFQUFNakMsUUFBUXBCLEtBQUtxRCxJQUM1RGhCLEVBQUl6QixPQUFPTyxpQkFBaUIsWUFBYWtDLEVBQU1qQyxRQUFRcEIsS0FBS3FELElBRzVEckMsS0FBS3dLLGFBQWFuSSxHQUdwQixhQUFhb0ksR0FDWHpLLEtBQUtxSyxXQUFXbEosS0FBS3NKLEdBR3ZCLEtBQUtDLEdBQ0gsTUFBTXJKLEVBQU1yQixLQUFLcUIsSUFFWHVDLEVBQVk4RyxFQUFLMUssS0FBS3NLLFNBRzVCakosRUFBSUUsVUFBWSxRQUNoQkYsRUFBSUcsU0FBUyxFQUFHLEVBQUdILEVBQUl6QixPQUFPRyxNQUFPc0IsRUFBSXpCLE9BQU9LLFFBRWhERCxLQUFLcUssV0FBV25JLFFBQVF1SSxJQUN0QkEsRUFBVWxLLEtBQUtxRCxFQUFXdkMsS0FHNUJyQixLQUFLc0ssU0FBVUksR0N2Q25CLE1BQ00sRUFENEI3SyxTQUFTa0QsZUFBZSxlQUN2Q3pCLFdBQVcsTUFFOUIsR0FBVSxNQUFQLEVBQWEsQ0FDZCxNQUFNcUosRUFBYSxJQUFJLEVBQVcsR0FFNUJDLEVBQVVGLElBQ2RDLEVBQVdwSyxLQUFLbUssR0FDaEJHLE9BQU9DLHNCQUFzQkYsSUFHL0JBLEVBQU8iLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi9nYW1lXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3NzaWJsZU1vdmVzIHtcclxuICBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50XHJcbiAgZHJhd2VyOiBQb3NzaWJsZU1vdmVzRHJhd2VyXHJcblxyXG4gIGRpcmVjdGlvbnMgPSBbXHJcbiAgICBbdHJ1ZSwgdHJ1ZSwgdHJ1ZV0sXHJcbiAgICBbdHJ1ZSwgZmFsc2UsIHRydWVdLFxyXG4gICAgW3RydWUsIHRydWUsIHRydWVdXHJcbiAgXVxyXG5cclxuICByZWFkb25seSBzcXVhcmVTaXplID0gNDBcclxuXHJcbiAgY29uc3RydWN0b3IoY29udGFpbnRlcjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxyXG4gICAgY2FudmFzLndpZHRoID0gdGhpcy5zcXVhcmVTaXplICogM1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHRoaXMuc3F1YXJlU2l6ZSAqIDNcclxuXHJcbiAgICBjb250YWludGVyLmFwcGVuZENoaWxkKGNhbnZhcylcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uQ2xpY2suYmluZCh0aGlzKSlcclxuXHJcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhc1xyXG5cclxuICAgIHRoaXMuZHJhd2VyID0gbmV3IFBvc3NpYmxlTW92ZXNEcmF3ZXIodGhpcylcclxuICAgIHRoaXMuZHJhd2VyLmRyYXcoKVxyXG4gIH1cclxuXHJcbiAgb25DbGljayhlOiBNb3VzZUV2ZW50KSB7XHJcbiAgICBjb25zdCBzcXVhcmUgPSB7XHJcbiAgICAgIHg6IE1hdGguZmxvb3IoZS5vZmZzZXRYIC8gdGhpcy5zcXVhcmVTaXplKSxcclxuICAgICAgeTogTWF0aC5mbG9vcihlLm9mZnNldFkgLyB0aGlzLnNxdWFyZVNpemUpXHJcbiAgICB9XHJcblxyXG4gICAgaWYoc3F1YXJlLnggPT09IDEgJiYgc3F1YXJlLnkgPT09IDEpIHsgXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGlyZWN0aW9uc1tzcXVhcmUueV1bc3F1YXJlLnhdID0gIXRoaXMuZGlyZWN0aW9uc1tzcXVhcmUueV1bc3F1YXJlLnhdXHJcbiAgICB0aGlzLmRyYXdlci5kcmF3KClcclxuICAgIGNvbnNvbGUubG9nKHRoaXMpXHJcbiAgfVxyXG5cclxuICBnZXREaXJlY3Rpb25zKCk6IENvb3JkaW5hdGVbXSB7XHJcbiAgICBsZXQgdG9SZXR1cm46IENvb3JkaW5hdGVbXSA9IFtdXHJcblxyXG4gICAgZm9yKGxldCB4ID0gMDsgeCA8IDM7IHgrKykge1xyXG4gICAgICBmb3IobGV0IHkgPSAwOyB5IDwgMzsgeSsrKSB7XHJcbiAgICAgICAgaWYodGhpcy5kaXJlY3Rpb25zW3ldW3hdKSB7XHJcbiAgICAgICAgICB0b1JldHVybi5wdXNoKHtcclxuICAgICAgICAgICAgeDogeCAtIDEsXHJcbiAgICAgICAgICAgIHk6IHkgLSAxXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0b1JldHVyblxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUG9zc2libGVNb3Zlc0RyYXdlciB7XHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IFBvc3NpYmxlTW92ZXMpIHtcclxuICAgIHRoaXMuY3R4ID0gPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD5wYXJlbnQuY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICB9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eFxyXG5cclxuICAgIC8vIGNsZWFyXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJ1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KVxyXG5cclxuICAgIC8vIGxpbmVzXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuICAgIGN0eC5zdHJva2VTdHlsZT0nYmxhY2snXHJcbiAgICBjdHgubGluZVdpZHRoID0gMVxyXG4gICAgZm9yKGxldCB4ID0gMDsgeCA8IDQ7IHgrKykge1xyXG4gICAgICBjdHgubW92ZVRvKHggKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplLCAwKVxyXG4gICAgICBjdHgubGluZVRvKHggKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplLCBjdHguY2FudmFzLmhlaWdodClcclxuICAgIH1cclxuICAgIGZvcihsZXQgeSA9IDA7IHkgPCA0OyB5KyspIHtcclxuICAgICAgY3R4Lm1vdmVUbygwLCB5ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZSlcclxuICAgICAgY3R4LmxpbmVUbyhjdHguY2FudmFzLndpZHRoLCB5ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZSlcclxuICAgIH1cclxuICAgIGN0eC5zdHJva2UoKVxyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmx1ZSdcclxuICAgIGN0eC5iZWdpblBhdGgoKVxyXG4gICAgY3R4LmFyYyhjdHguY2FudmFzLndpZHRoLzIsIGN0eC5jYW52YXMuaGVpZ2h0LzIsIHRoaXMucGFyZW50LnNxdWFyZVNpemUvMywgMCwgMzYwKVxyXG4gICAgY3R4LmZpbGwoKVxyXG5cclxuICAgIHRoaXMucGFyZW50LmdldERpcmVjdGlvbnMoKS5mb3JFYWNoKGRpcmVjdGlvbiA9PiB7XHJcbiAgICAgIGNvbnN0IHBvcyA9IHtcclxuICAgICAgICB4OiBjdHguY2FudmFzLndpZHRoLzIgKyBkaXJlY3Rpb24ueCAqIHRoaXMucGFyZW50LnNxdWFyZVNpemUsXHJcbiAgICAgICAgeTogY3R4LmNhbnZhcy5oZWlnaHQvMiArIGRpcmVjdGlvbi55ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjdHguZmlsbFN0eWxlID0gJ3JlZCdcclxuICAgICAgY3R4LmJlZ2luUGF0aCgpXHJcbiAgICAgIGN0eC5hcmMocG9zLngsIHBvcy55LCB0aGlzLnBhcmVudC5zcXVhcmVTaXplLzQsIDAsIDM2MClcclxuICAgICAgY3R4LmZpbGwoKVxyXG4gICAgfSlcclxuICB9XHJcbn0iLCJpbXBvcnQgQm9hcmQgZnJvbSBcIi4vYm9hcmRcIjtcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi9nYW1lXCI7XHJcbmltcG9ydCBQb3NzaWJsZU1vdmVzIGZyb20gXCIuL3Bvc3NpYmxlTW92ZXNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdGhGaW5kZXIge1xyXG4gIHJlYWRvbmx5IG1heFN0ZXAgPSAxMDBcclxuICByZWFkb25seSBtaW5TdGVwID0gMFxyXG4gIHN0ZXBJbnRlcnZhbDogbnVtYmVyID0gNTBcclxuXHJcbiAgb3BlbjogUGF0aEZpbmRlck5vZGVbXSA9IFtdXHJcbiAgY2xvc2VkOiBQYXRoRmluZGVyTm9kZVtdID0gW11cclxuXHJcbiAgZW5kTm9kZTogUGF0aEZpbmRlck5vZGUgfCBudWxsID0gbnVsbFxyXG4gIGJyZWFrQWxsOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbFxyXG4gIFxyXG4gIHBvc3NpYmxlTW92ZXM6IFBvc3NpYmxlTW92ZXMgPSBuZXcgUG9zc2libGVNb3Zlcyg8SFRNTERpdkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bvc3NpYmxlLW1vdmVzLXNlbGVjdG9yJykpXHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBib2FyZDogQm9hcmQsIHN0ZXBJbnRlcnZhbFNlbGVjdG9yQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgY29uc3Qgc3RlcEludGVydmFsU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3Rvci50eXBlID0gJ3JhbmdlJ1xyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3IuY2xhc3NOYW1lID0gJ2N1c3RvbS1yYW5nZSdcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yLm1pbiA9IFN0cmluZyh0aGlzLm1pblN0ZXApXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3Rvci5tYXggPSBTdHJpbmcodGhpcy5tYXhTdGVwKVxyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3IudmFsdWUgPSBTdHJpbmcodGhpcy5zdGVwSW50ZXJ2YWwpXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAodmFsKSA9PiB7XHJcbiAgICAgIHRoaXMuc3RlcEludGVydmFsID0gKyg8SFRNTElucHV0RWxlbWVudD52YWwudGFyZ2V0KS52YWx1ZVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBzdGVwSW50ZXJ2YWxMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJylcclxuICAgIHN0ZXBJbnRlcnZhbExhYmVsLmlubmVySFRNTCA9ICdTcGVlZCdcclxuXHJcbiAgICBzdGVwSW50ZXJ2YWxMYWJlbC5hcHBlbmRDaGlsZChzdGVwSW50ZXJ2YWxTZWxlY3RvcilcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKHN0ZXBJbnRlcnZhbExhYmVsKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHN0YXJ0KCkge1xyXG4gICAgdGhpcy5jYWxjdWxhdGUoKS50aGVuKGVuZE5vZGUgPT4gdGhpcy5lbmROb2RlID0gZW5kTm9kZSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9hcmQuc3F1YXJlU2l6ZSAvIDRcclxuICAgIGN0eC5saW5lQ2FwID0gJ3JvdW5kJ1xyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgxMDAsIDEwMCwgMTAwLCAwLjIpJ1xyXG4gICAgdGhpcy5jbG9zZWQuZm9yRWFjaChub2RlID0+IG5vZGUuZHJhd0JveChkZWx0YVRpbWUsIGN0eCkpXHJcblxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDMyLCAyNTUsIDAuMiknXHJcbiAgICB0aGlzLm9wZW4uZm9yRWFjaChub2RlID0+IG5vZGUuZHJhd0JveChkZWx0YVRpbWUsIGN0eCkpXHJcblxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JlZCdcclxuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmJvYXJkLnNxdWFyZVNpemUgLyAzXHJcbiAgICBpZih0aGlzLmVuZE5vZGUgIT0gbnVsbCl7XHJcbiAgICAgIHRoaXMuZW5kTm9kZS5kcmF3TGluZShkZWx0YVRpbWUsIGN0eClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgY2FsY3VsYXRlKCk6IFByb21pc2U8UGF0aEZpbmRlck5vZGUgfCBudWxsPiB7XHJcbiAgICBpZih0aGlzLmJyZWFrQWxsICE9IG51bGwpIHtcclxuICAgICAgdGhpcy5icmVha0FsbCgpXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGZvcmNlQnJlYWsgPSBmYWxzZVxyXG4gICAgbmV3IFByb21pc2UocmVzb2x2ZSA9PiB0aGlzLmJyZWFrQWxsID0gcmVzb2x2ZSkudGhlbigoKT0+IHsgZm9yY2VCcmVhayA9IHRydWUgfSlcclxuXHJcbiAgICBjb25zdCBbc3RhcnRJbmRleCwgc3RhcnROb2RlXSA9IHRoaXMuYm9hcmQuZmluZFN0YXJ0Tm9kZSgpXHJcbiAgICBjb25zdCBbZW5kSW5kZXgsIGVuZE5vZGVdID0gdGhpcy5ib2FyZC5maW5kRW5kTm9kZSgpXHJcblxyXG4gICAgdGhpcy5vcGVuID0gW11cclxuICAgIHRoaXMuY2xvc2VkID0gW11cclxuICAgIHRoaXMuZW5kTm9kZSA9IG51bGxcclxuXHJcbiAgICBpZihzdGFydE5vZGUgPT0gbnVsbCB8fCBlbmROb2RlID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9wZW4ucHVzaChuZXcgUGF0aEZpbmRlck5vZGUodGhpcywgc3RhcnROb2RlLnBvcykpXHJcblxyXG4gICAgLy8gcmVwZWF0XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgMTAwMDsgaSsrKSB7XHJcbiAgICAgIGlmKGZvcmNlQnJlYWspIHtcclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9XHJcblxyXG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgKHRoaXMubWF4U3RlcC10aGlzLnN0ZXBJbnRlcnZhbCkpKVxyXG5cclxuICAgICAgY29uc3QgW2N1cnJlbnROb2RlSW5kZXgsIGN1cnJlbnROb2RlXSA9IHRoaXMubG93ZXN0RkluT3Blbkxpc3QoZW5kTm9kZS5wb3MpXHJcbiAgICAgIGlmKGN1cnJlbnROb2RlID09IG51bGwpIHtcclxuICAgICAgICBicmVha1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLmNsb3NlZC5wdXNoKGN1cnJlbnROb2RlKVxyXG4gICAgICB0aGlzLm9wZW4uc3BsaWNlKGN1cnJlbnROb2RlSW5kZXgsIDEpXHJcblxyXG4gICAgICBpZihjdXJyZW50Tm9kZS5wb3MueCA9PT0gZW5kTm9kZS5wb3MueCAmJiBjdXJyZW50Tm9kZS5wb3MueSA9PT0gZW5kTm9kZS5wb3MueSkge1xyXG4gICAgICAgIHJldHVybiBjdXJyZW50Tm9kZVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLnBvc3NpYmxlTW92ZXMuZ2V0RGlyZWN0aW9ucygpLmZvckVhY2goKGRpcmVjdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hlY2tEaXJlY3Rpb24oY3VycmVudE5vZGUsIGRpcmVjdGlvbilcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIC8vIC0tLVxyXG5cclxuICAgIHRoaXMuYnJlYWtBbGwgPSBudWxsXHJcbiAgICByZXR1cm4gbnVsbFxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGVja0RpcmVjdGlvbihjdXJyZW50Tm9kZTogUGF0aEZpbmRlck5vZGUsIGRpcmVjdGlvbjogQ29vcmRpbmF0ZSkge1xyXG4gICAgY29uc3QgbmV3UG9zOiBDb29yZGluYXRlID0geyB4OiBkaXJlY3Rpb24ueCArIGN1cnJlbnROb2RlLnBvcy54LCB5OiBkaXJlY3Rpb24ueSArIGN1cnJlbnROb2RlLnBvcy55IH1cclxuXHJcbiAgICBjb25zdCBbY3VycmVudEJvYXJkTm9kZUluZGV4LCBjdXJyZW50Qm9hcmROb2RlXSA9IHRoaXMuYm9hcmQuZ2V0Tm9kZShuZXdQb3MpXHJcblxyXG4gICAgLy8gY2hlY2sgaWYgd2Fsa2FibGVcclxuICAgIGlmKGN1cnJlbnRCb2FyZE5vZGU/LnN0ZXBNdWx0aXBsaWVyID09PSBJbmZpbml0eSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiBvdXQgb2YgYm91bmRzXHJcbiAgICBpZih0aGlzLmJvYXJkLmlzT3V0T2ZCb3VuZHMobmV3UG9zKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiBpbiBjbG9zZWQgbGlzdFxyXG4gICAgY29uc3QgaW5DbG9zZWRMaXN0ID0gdGhpcy5pbkNsb3NlZExpc3QobmV3UG9zKVsxXVxyXG4gICAgaWYoaW5DbG9zZWRMaXN0ICE9IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgaW4gb3BlbiBsaXN0XHJcbiAgICBjb25zdCBbaW5PcGVuTGlzdEluZGV4LCBpbk9wZW5MaXN0XSA9IHRoaXMuaW5PcGVuTGlzdChuZXdQb3MpXHJcbiAgICBpZihpbk9wZW5MaXN0ICE9IG51bGwpIHtcclxuICAgICAgaWYoY3VycmVudE5vZGUuZGlzdGFuY2VGcm9tU3RhcnQgPCBpbk9wZW5MaXN0LmRpc3RhbmNlRnJvbVN0YXJ0KSB7XHJcbiAgICAgICAgdGhpcy5vcGVuLnNwbGljZShpbk9wZW5MaXN0SW5kZXgsIDEpXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdOb2RlID0gbmV3IFBhdGhGaW5kZXJOb2RlKHRoaXMsIG5ld1BvcylcclxuICAgIG5ld05vZGUucGFyZW50Tm9kZSA9IGN1cnJlbnROb2RlXHJcblxyXG4gICAgLy8gY2FsY3VsYXRlIGRpc3RhbmNlXHJcbiAgICBsZXQgZGlzdGFuY2VGcm9tU3RhcnQgPSBjdXJyZW50Tm9kZS5kaXN0YW5jZUZyb21TdGFydFxyXG4gICAgaWYoY3VycmVudEJvYXJkTm9kZSAhPSBudWxsKSB7XHJcbiAgICAgIGRpc3RhbmNlRnJvbVN0YXJ0ICs9IGN1cnJlbnRCb2FyZE5vZGUuc3RlcE11bHRpcGxpZXJcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICBkaXN0YW5jZUZyb21TdGFydCArPSAxXHJcbiAgICB9XHJcblxyXG4gICAgbmV3Tm9kZS5kaXN0YW5jZUZyb21TdGFydCA9IGRpc3RhbmNlRnJvbVN0YXJ0XHJcblxyXG4gICAgdGhpcy5vcGVuLnB1c2gobmV3Tm9kZSlcclxuICAgIHJldHVybiBuZXdOb2RlXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGxvd2VzdEZJbk9wZW5MaXN0KGVuZFBvczogQ29vcmRpbmF0ZSk6IFtudW1iZXIsIFBhdGhGaW5kZXJOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBpZih0aGlzLm9wZW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBbLTEsIHVuZGVmaW5lZF1cclxuICAgIH1cclxuXHJcbiAgICBsZXQgbG93ZXN0ID0gMFxyXG4gICAgbGV0IGxvd2VzdEYgPSB0aGlzLm9wZW5bbG93ZXN0XS5jYWxjdWxhdGVGKGVuZFBvcylcclxuICAgIHRoaXMub3Blbi5mb3JFYWNoKChub2RlLCBpbmRleCkgPT4ge1xyXG4gICAgICBjb25zdCBub2RlRiA9IG5vZGUuY2FsY3VsYXRlRihlbmRQb3MpXHJcbiAgICAgIGlmKG5vZGVGIDwgbG93ZXN0Rikge1xyXG4gICAgICAgIGxvd2VzdCA9IGluZGV4XHJcbiAgICAgICAgbG93ZXN0RiA9IG5vZGVGXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIFtsb3dlc3QsIHRoaXMub3Blbltsb3dlc3RdXVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpbk9wZW5MaXN0KHBvczogQ29vcmRpbmF0ZSk6IFtudW1iZXIsIFBhdGhGaW5kZXJOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMub3Blbi5maW5kSW5kZXgobm9kZSA9PiAobm9kZS5wb3MueCA9PT0gcG9zLnggJiYgbm9kZS5wb3MueSA9PT0gcG9zLnkpKVxyXG4gICAgcmV0dXJuIFtpbmRleCwgdGhpcy5vcGVuW2luZGV4XV1cclxuICB9XHJcbiAgcHJpdmF0ZSBpbkNsb3NlZExpc3QocG9zOiBDb29yZGluYXRlKTogW251bWJlciwgUGF0aEZpbmRlck5vZGUgfCB1bmRlZmluZWRdIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jbG9zZWQuZmluZEluZGV4KG5vZGUgPT4gKG5vZGUucG9zLnggPT09IHBvcy54ICYmIG5vZGUucG9zLnkgPT09IHBvcy55KSlcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMuY2xvc2VkW2luZGV4XV1cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhdGhGaW5kZXJOb2RlIHtcclxuICBwdWJsaWMgZGlzdGFuY2VGcm9tU3RhcnQ6IG51bWJlciA9IDBcclxuICBwdWJsaWMgcGFyZW50Tm9kZTogUGF0aEZpbmRlck5vZGUgfCBudWxsID0gbnVsbFxyXG4gIHB1YmxpYyBsaW5lRHJhd2VyOiBQYXRoRmluZGVyTm9kZUxpbmVEcmF3ZXJcclxuICBwdWJsaWMgYm94RHJhd2VyOiBQYXRoRmluZGVyTm9kZUJveERyYXdlclxyXG5cclxuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lID0gMFxyXG4gIFxyXG4gIHBvczogQ29vcmRpbmF0ZVxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyZW50OiBQYXRoRmluZGVyLCBfcG9zOiBDb29yZGluYXRlKXtcclxuICAgIHRoaXMucG9zID0gey4uLl9wb3N9XHJcbiAgICBcclxuICAgIHRoaXMubGluZURyYXdlciA9IG5ldyBQYXRoRmluZGVyTm9kZUxpbmVEcmF3ZXIodGhpcylcclxuICAgIHRoaXMuYm94RHJhd2VyID0gbmV3IFBhdGhGaW5kZXJOb2RlQm94RHJhd2VyKHRoaXMpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgY2FsY3VsYXRlRihlbmRQb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIGNvbnN0IGRpc3RhbmNlRXN0aW1hdGVTcXVhcmVkID0gTWF0aC5wb3coZW5kUG9zLnggLSB0aGlzLnBvcy54LCAyKSArIE1hdGgucG93KGVuZFBvcy55IC0gdGhpcy5wb3MueSwgMilcclxuICAgIGNvbnN0IGRpc3RhbmNlRXN0aW1hdGUgPSBNYXRoLnNxcnQoZGlzdGFuY2VFc3RpbWF0ZVNxdWFyZWQpXHJcbiAgICByZXR1cm4gZGlzdGFuY2VFc3RpbWF0ZSArIHRoaXMuZGlzdGFuY2VGcm9tU3RhcnRcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3TGluZShkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIHRoaXMubGluZURyYXdlci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdCb3goZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICB0aGlzLmJveERyYXdlci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGF0aEZpbmRlck5vZGVMaW5lRHJhd2VyIHtcclxuICBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyZW50OiBQYXRoRmluZGVyTm9kZSl7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgdHJhY2UoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLnBhcmVudCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZih0aGlzLnBhcmVudC5wYXJlbnROb2RlID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICBjb25zdCBuZXh0UG9zID0gdGhpcy5wYXJlbnQucGFyZW50Tm9kZS5wb3NcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5wYXJlbnQuYm9hcmQuc3F1YXJlU2l6ZVxyXG4gICAgY29uc3QgYW5pbWF0aW9uVGltZSA9IE1hdGgubWF4KHRoaXMucGFyZW50LnBhcmVudC5tYXhTdGVwIC0gdGhpcy5wYXJlbnQucGFyZW50LnN0ZXBJbnRlcnZhbCwgMC4wMSlcclxuXHJcbiAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTWF0aC5taW4oYW5pbWF0aW9uVGltZSwgdGhpcy5hbmltYXRpb25GcmFtZSlcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gYW5pbWF0aW9uVGltZVxyXG5cclxuICAgIGN0eC5saW5lVG8oXHJcbiAgICAgICgoMS1hbmltYXRpb25NdWx0aXBsaWVyKSp0aGlzLnBhcmVudC5wb3MueCArIG5leHRQb3MueCAqIGFuaW1hdGlvbk11bHRpcGxpZXIpICogc3F1YXJlU2l6ZSArIHNxdWFyZVNpemUvMiwgXHJcbiAgICAgICgoMS1hbmltYXRpb25NdWx0aXBsaWVyKSp0aGlzLnBhcmVudC5wb3MueSArIG5leHRQb3MueSAqIGFuaW1hdGlvbk11bHRpcGxpZXIpICogc3F1YXJlU2l6ZSArIHNxdWFyZVNpemUvMlxyXG4gICAgKVxyXG5cclxuICAgIGlmKHRoaXMuYW5pbWF0aW9uRnJhbWUgPCBhbmltYXRpb25UaW1lKSB7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgKz0gZGVsdGFUaW1lXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICB0aGlzLnBhcmVudC5wYXJlbnROb2RlLmxpbmVEcmF3ZXIudHJhY2UoZGVsdGFUaW1lLCBjdHgpXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMucGFyZW50LnBhcmVudFxyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHBhcmVudC5ib2FyZC5zcXVhcmVTaXplXHJcblxyXG4gICAgaWYodGhpcy5wYXJlbnQucGFyZW50Tm9kZSA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKVxyXG5cclxuICAgIGN0eC5tb3ZlVG8oXHJcbiAgICAgIHRoaXMucGFyZW50LnBvcy54ICogc3F1YXJlU2l6ZSArIHNxdWFyZVNpemUvMiwgXHJcbiAgICAgIHRoaXMucGFyZW50LnBvcy55ICogc3F1YXJlU2l6ZSArIHNxdWFyZVNpemUvMlxyXG4gICAgKVxyXG5cclxuICAgIHRoaXMucGFyZW50LmxpbmVEcmF3ZXIudHJhY2UoZGVsdGFUaW1lLCBjdHgpXHJcbiAgICBjdHguc3Ryb2tlKClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhdGhGaW5kZXJOb2RlQm94RHJhd2VyIHtcclxuICBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIGZhbGxEb3duVGltZTogbnVtYmVyID0gMTAwXHJcbiAgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gMTAwMFxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgcGFyZW50OiBQYXRoRmluZGVyTm9kZSl7XHJcblxyXG4gIH1cclxuXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5wYXJlbnQuYm9hcmQuc3F1YXJlU2l6ZVxyXG4gICAgY29uc3QgcG9zID0gdGhpcy5wYXJlbnQucG9zXHJcblxyXG4gICAgaWYodGhpcy5hbmltYXRpb25GcmFtZSA8IHRoaXMuYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTWF0aC5taW4odGhpcy5hbmltYXRpb25GcmFtZSwgdGhpcy5hbmltYXRpb25UaW1lKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZhbGxEb3duTXVsdGlwbGllciA9IE1hdGgubWluKDEsIHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmZhbGxEb3duVGltZSlcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcblxyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGByZ2JhKDE1MCwgMCwgMjU1LCAkezEuMi1hbmltYXRpb25NdWx0aXBsaWVyfWBcclxuICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgcG9zLnggKiBzcXVhcmVTaXplIC0gKChzcXVhcmVTaXplLzQpICogKDEtZmFsbERvd25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHBvcy55ICogc3F1YXJlU2l6ZSAtICgoc3F1YXJlU2l6ZS80KSAqICgxLWZhbGxEb3duTXVsdGlwbGllcikpLFxyXG4gICAgICBzcXVhcmVTaXplLFxyXG4gICAgICBzcXVhcmVTaXplXHJcbiAgICApXHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50XCJcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi9nYW1lXCJcclxuaW1wb3J0IFN0YXJ0UG9pbnQgZnJvbSBcIi4vbm9kZXMvc3RhcnRwb2ludFwiXHJcbmltcG9ydCBQYXRoRmluZGVyIGZyb20gXCIuL3BhdGhGaW5kZXJcIlxyXG5cclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBOb2RlIHtcclxuICBhYnN0cmFjdCB0eXBlOiBzdHJpbmdcclxuICBhYnN0cmFjdCBwb3M6IENvb3JkaW5hdGVcclxuICBwdWJsaWMgc3RlcE11bHRpcGxpZXI6IG51bWJlclxyXG4gIHB1YmxpYyBib2FyZDogQm9hcmQgfCBudWxsID0gbnVsbFxyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuc3RlcE11bHRpcGxpZXIgPSBJbmZpbml0eVxyXG4gIH1cclxuXHJcbiAgZW50ZXIoX2JvYXJkOiBCb2FyZCk6IHZvaWQge1xyXG4gICAgdGhpcy5ib2FyZCA9IF9ib2FyZFxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFic3RyYWN0IGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZFxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBCb2FyZCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgc3F1YXJlU2l6ZTogbnVtYmVyID0gMzJcclxuXHJcbiAgYm9hcmRMaW5lczogQm9hcmRMaW5lW10gPSBbXVxyXG5cclxuICBub2RlczogTm9kZVtdID0gW11cclxuICBwYXRoRmluZGVyOiBQYXRoRmluZGVyXHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBzaXplOiBDb29yZGluYXRlKSB7XHJcbiAgICBzdXBlcigpXHJcblxyXG4gICAgdGhpcy5hZGRMaW5lcygpXHJcbiAgICB0aGlzLnBhdGhGaW5kZXIgPSBuZXcgUGF0aEZpbmRlcih0aGlzLCA8SFRNTERpdkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwZWVkLXNlbGVjdG9yJykpXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFkZExpbmVzKCkge1xyXG4gICAgZm9yIChsZXQgeCA9IDA7IHggPCB0aGlzLnNpemUueCArIDE7IHgrKykge1xyXG4gICAgICB0aGlzLmJvYXJkTGluZXMucHVzaChuZXcgQm9hcmRMaW5lKHtcclxuICAgICAgICB4OiB4ICogdGhpcy5zcXVhcmVTaXplLFxyXG4gICAgICAgIHk6IDBcclxuICAgICAgfSwge1xyXG4gICAgICAgIHg6IHggKiB0aGlzLnNxdWFyZVNpemUsXHJcbiAgICAgICAgeTogdGhpcy5zaXplLnkgKiB0aGlzLnNxdWFyZVNpemVcclxuICAgICAgfSkpXHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCB5ID0gMDsgeSA8IHRoaXMuc2l6ZS55ICsgMTsgeSsrKSB7XHJcbiAgICAgIHRoaXMuYm9hcmRMaW5lcy5wdXNoKG5ldyBCb2FyZExpbmUoe1xyXG4gICAgICAgIHg6IDAsXHJcbiAgICAgICAgeTogeSAqIHRoaXMuc3F1YXJlU2l6ZSxcclxuICAgICAgfSwge1xyXG4gICAgICAgIHg6IHRoaXMuc2l6ZS54ICogdGhpcy5zcXVhcmVTaXplLFxyXG4gICAgICAgIHk6IHkgKiB0aGlzLnNxdWFyZVNpemVcclxuICAgICAgfSkpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWRkTm9kZShub2RlOiBOb2RlKSB7XHJcbiAgICBjb25zdCBbaW5kZXhdID0gdGhpcy5nZXROb2RlKG5vZGUucG9zKVxyXG4gICAgaWYoaW5kZXggPj0gMCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBpZih0aGlzLmlzT3V0T2ZCb3VuZHMobm9kZS5wb3MpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIG5vZGUuZW50ZXIodGhpcylcclxuXHJcbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXROb2RlKHBvczogQ29vcmRpbmF0ZSk6IFtudW1iZXIsIE5vZGUgfCB1bmRlZmluZWRdIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5ub2Rlcy5maW5kSW5kZXgobm9kZSA9PiAobm9kZS5wb3MueCA9PT0gcG9zLnggJiYgbm9kZS5wb3MueSA9PT0gcG9zLnkpKVxyXG4gICAgcmV0dXJuIFtpbmRleCwgdGhpcy5ub2Rlc1tpbmRleF1dXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaXNPdXRPZkJvdW5kcyhwb3M6IENvb3JkaW5hdGUpOiBib29sZWFuIHtcclxuICAgIHJldHVybiBwb3MueCA+PSB0aGlzLnNpemUueCB8fCBwb3MueCA8IDAgfHwgcG9zLnkgPj0gdGhpcy5zaXplLnkgfHwgcG9zLnkgPCAwXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZmluZFN0YXJ0Tm9kZSgpOiBbbnVtYmVyLCBOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMuZmluZEluZGV4KG5vZGUgPT4gbm9kZS50eXBlID09PSAnc3RhcnQnKVxyXG4gICAgcmV0dXJuIFtpbmRleCwgdGhpcy5ub2Rlc1tpbmRleF1dXHJcbiAgfVxyXG4gIHB1YmxpYyBmaW5kRW5kTm9kZSgpOiBbbnVtYmVyLCBOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMuZmluZEluZGV4KG5vZGUgPT4gbm9kZS50eXBlID09PSAnZW5kJylcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMubm9kZXNbaW5kZXhdXVxyXG4gIH1cclxuXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIHRoaXMucGF0aEZpbmRlci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gICAgdGhpcy5ib2FyZExpbmVzLmZvckVhY2gobGluZSA9PiBsaW5lLmRyYXcoZGVsdGFUaW1lLCBjdHgpKVxyXG4gICAgdGhpcy5ub2Rlcy5mb3JFYWNoKG5vZGUgPT4gbm9kZS5kcmF3KGRlbHRhVGltZSwgY3R4KSlcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEJvYXJkTGluZSB7XHJcbiAgLy8gQW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gMTAwMFxyXG5cclxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBmcm9tOiBDb29yZGluYXRlLCByZWFkb25seSB0bzogQ29vcmRpbmF0ZSkge1xyXG4gICAgdGhpcy5hbmltYXRpb25UaW1lID0gTWF0aC5yYW5kb20oKSAqIDEzMDAgKyAyMDBcclxuICB9XHJcblxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLmFuaW1hdGlvbkZyYW1lIDwgdGhpcy5hbmltYXRpb25UaW1lKSB7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgKz0gZGVsdGFUaW1lXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBNYXRoLm1pbih0aGlzLmFuaW1hdGlvblRpbWUsIHRoaXMuYW5pbWF0aW9uRnJhbWUpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuXHJcbiAgICAvLyBzdHlsaW5nXHJcbiAgICBjdHgubGluZVdpZHRoPTFcclxuICAgIGN0eC5zdHJva2VTdHlsZT1gcmdiYSgwLCAwLCAwLCAke2FuaW1hdGlvbk11bHRpcGxpZXIgKiAwLjV9KWBcclxuICAgIGN0eC5iZWdpblBhdGgoKVxyXG5cclxuICAgIGN0eC5tb3ZlVG8odGhpcy5mcm9tLngsIHRoaXMuZnJvbS55KVxyXG4gICAgY3R4LmxpbmVUbyhcclxuICAgICAgKDEtYW5pbWF0aW9uTXVsdGlwbGllcikgKiB0aGlzLmZyb20ueCArIGFuaW1hdGlvbk11bHRpcGxpZXIgKiB0aGlzLnRvLngsXHJcbiAgICAgICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpICogdGhpcy5mcm9tLnkgKyBhbmltYXRpb25NdWx0aXBsaWVyICogdGhpcy50by55XHJcbiAgICApXHJcblxyXG4gICAgY3R4LnN0cm9rZSgpXHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgTm9kZSB9IGZyb20gJy4uL2JvYXJkJ1xyXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSAnLi4vLi4vZ2FtZSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdhbGwgZXh0ZW5kcyBOb2RlIHtcclxuICB0eXBlOiBzdHJpbmcgPSAnd2FsbCdcclxuICBwb3M6IENvb3JkaW5hdGVcclxuICBhbmltYXRvcjogV2FsbEFuaW1hdGlvblxyXG5cclxuICBjb25zdHJ1Y3RvcihfcG9zOiBDb29yZGluYXRlKSB7XHJcbiAgICBzdXBlcigpXHJcblxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IFdhbGxBbmltYXRpb24odGhpcylcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgdGhpcy5hbmltYXRvci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgV2FsbEFuaW1hdGlvbiB7XHJcbiAgLy8gQW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gMTAwXHJcbiAgXHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcGFyZW50OiBXYWxsKSB7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGlmKHRoaXMucGFyZW50LmJvYXJkID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHRoaXMuYW5pbWF0aW9uRnJhbWUgPCB0aGlzLmFuaW1hdGlvblRpbWUpIHtcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IE1hdGgubWluKHRoaXMuYW5pbWF0aW9uVGltZSwgdGhpcy5hbmltYXRpb25GcmFtZSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdibGFjaydcclxuXHJcbiAgICBjdHguZmlsbFJlY3QoXHJcbiAgICAgIHBvcy54ICogc3F1YXJlU2l6ZSAtICgoc3F1YXJlU2l6ZS80KSAqICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpKSxcclxuICAgICAgcG9zLnkgKiBzcXVhcmVTaXplIC0gKChzcXVhcmVTaXplLzQpICogKDEtYW5pbWF0aW9uTXVsdGlwbGllcikpLFxyXG4gICAgICBzcXVhcmVTaXplLFxyXG4gICAgICBzcXVhcmVTaXplXHJcbiAgICApXHJcbiAgfVxyXG59IiwiaW1wb3J0IEJvYXJkLCB7IE5vZGUgfSBmcm9tICcuLi9ib2FyZCdcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2dhbWUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFydFBvaW50IGV4dGVuZHMgTm9kZSB7XHJcbiAgdHlwZTogc3RyaW5nID0gJ3N0YXJ0J1xyXG4gIHBvczogQ29vcmRpbmF0ZVxyXG4gIGFuaW1hdG9yOiBTdGFydFBvaW50QW5pbWF0aW9uXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9wb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIHN1cGVyKClcclxuXHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gMVxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IFN0YXJ0UG9pbnRBbmltYXRpb24odGhpcylcclxuICB9XHJcblxyXG4gIGVudGVyKF9ib2FyZDogQm9hcmQpIHtcclxuICAgIHRoaXMuYm9hcmQgPSBfYm9hcmRcclxuXHJcbiAgICAvLyByZW1vdmUgYW55IG90aGVyIHN0YXJ0IHBvaW50c1xyXG4gICAgY29uc3QgW2luZGV4XSA9IHRoaXMuYm9hcmQuZmluZFN0YXJ0Tm9kZSgpXHJcbiAgICBpZihpbmRleCA+PSAwKSB7XHJcbiAgICAgIHRoaXMuYm9hcmQubm9kZXMuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICB0aGlzLmFuaW1hdG9yLmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBTdGFydFBvaW50QW5pbWF0aW9uIHtcclxuICAvLyBBbmltYXRpb25cclxuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25UaW1lOiBudW1iZXIgPSA0MDAwXHJcbiAgXHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcGFyZW50OiBTdGFydFBvaW50KSB7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGlmKHRoaXMucGFyZW50LmJvYXJkID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgKz0gZGVsdGFUaW1lXHJcbiAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICU9IHRoaXMuYW5pbWF0aW9uVGltZVxyXG4gICAgXHJcbiAgICBjb25zdCBhbmltYXRpb25NdWx0aXBsaWVyID0gdGhpcy5hbmltYXRpb25GcmFtZSAvIHRoaXMuYW5pbWF0aW9uVGltZVxyXG4gICAgY29uc3QgcG9zID0gdGhpcy5wYXJlbnQucG9zXHJcbiAgICBjb25zdCBzcXVhcmVTaXplID0gdGhpcy5wYXJlbnQuYm9hcmQuc3F1YXJlU2l6ZVxyXG4gICAgXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ2dyZWVuJ1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDFcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibGFjaydcclxuXHJcbiAgICBjb25zdCBwb3NJblNxdWFyZVRvV29ybGQgPSAoX3BvczogQ29vcmRpbmF0ZSk6IENvb3JkaW5hdGUgPT4gKHtcclxuICAgICAgeDogKF9wb3MueCArIHBvcy54KSAqIHNxdWFyZVNpemUsXHJcbiAgICAgIHk6IChfcG9zLnkgKyBwb3MueSkgKiBzcXVhcmVTaXplXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHBhdGg6IENvb3JkaW5hdGVbXSA9IFtcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuOCB9LFxyXG4gICAgICB7IHg6IDAuNiwgeTogMC44IH0sXHJcbiAgICAgIHsgeDogMC42LCB5OiAwLjIgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuMiB9LFxyXG4gICAgICB7IHg6IDAuNCwgeTogMC4yNSB9LFxyXG4gICAgICB7IHg6IDAuMiArICgwLjEgKiBNYXRoLnNpbihhbmltYXRpb25NdWx0aXBsaWVyICogTWF0aC5QSSAqIDIpKSwgeTogMC40ICsgKDAuMDUgKiBNYXRoLmFicyhNYXRoLmNvcyhhbmltYXRpb25NdWx0aXBsaWVyICogTWF0aC5QSSAqIDIpKSkgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuNTUgfVxyXG4gICAgXVxyXG4gICAgY29uc3Qgd29ybGRQYXRoID0gcGF0aC5tYXAocG9pbnQgPT4gcG9zSW5TcXVhcmVUb1dvcmxkKHBvaW50KSlcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuICAgIGN0eC5tb3ZlVG8od29ybGRQYXRoWzBdLngsIHdvcmxkUGF0aFswXS55KVxyXG4gICAgd29ybGRQYXRoLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICBjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpXHJcbiAgICB9KVxyXG4gICAgY3R4LmNsb3NlUGF0aCgpXHJcbiAgICBjdHguZmlsbCgpXHJcbiAgICBjdHguc3Ryb2tlKClcclxuICB9XHJcbn0iLCJpbXBvcnQgQm9hcmQsIHsgTm9kZSB9IGZyb20gJy4uL2JvYXJkJ1xyXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSAnLi4vLi4vZ2FtZSdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVuZFBvaW50IGV4dGVuZHMgTm9kZSB7XHJcbiAgdHlwZTogc3RyaW5nID0gJ2VuZCdcclxuICBwb3M6IENvb3JkaW5hdGVcclxuICBhbmltYXRvcjogRW5kUG9pbnRBbmltYXRpb25cclxuXHJcbiAgY29uc3RydWN0b3IoX3BvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMuc3RlcE11bHRpcGxpZXIgPSAxXHJcbiAgICB0aGlzLnBvcyA9IF9wb3NcclxuICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgRW5kUG9pbnRBbmltYXRpb24odGhpcylcclxuICB9XHJcblxyXG4gIGVudGVyKF9ib2FyZDogQm9hcmQpIHtcclxuICAgIHRoaXMuYm9hcmQgPSBfYm9hcmRcclxuXHJcbiAgICAvLyByZW1vdmUgYW55IG90aGVyIGVuZCBwb2ludHNcclxuICAgIGNvbnN0IFtpbmRleF0gPSB0aGlzLmJvYXJkLmZpbmRFbmROb2RlKClcclxuICAgIGlmKGluZGV4ID49IDApIHtcclxuICAgICAgdGhpcy5ib2FyZC5ub2Rlcy5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5pbWF0b3IuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIEVuZFBvaW50QW5pbWF0aW9uIHtcclxuICAvLyBBbmltYXRpb25cclxuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25UaW1lOiBudW1iZXIgPSA0MDAwXHJcbiAgXHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgcGFyZW50OiBFbmRQb2ludCkge1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLnBhcmVudC5ib2FyZCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSAlPSB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnXHJcbiAgICBjdHgubGluZVdpZHRoID0gMVxyXG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ2JsYWNrJ1xyXG5cclxuICAgIGNvbnN0IHBvc0luU3F1YXJlVG9Xb3JsZCA9IChfcG9zOiBDb29yZGluYXRlKTogQ29vcmRpbmF0ZSA9PiAoe1xyXG4gICAgICB4OiAoX3Bvcy54ICsgcG9zLngpICogc3F1YXJlU2l6ZSxcclxuICAgICAgeTogKF9wb3MueSArIHBvcy55KSAqIHNxdWFyZVNpemVcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgcGF0aDogQ29vcmRpbmF0ZVtdID0gW1xyXG4gICAgICB7IHg6IDAuNCwgeTogMC44IH0sXHJcbiAgICAgIHsgeDogMC42LCB5OiAwLjggfSxcclxuICAgICAgeyB4OiAwLjYsIHk6IDAuMiB9LFxyXG4gICAgICB7IHg6IDAuNCwgeTogMC4yIH0sXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjI1IH0sXHJcbiAgICAgIHsgeDogMC4yICsgKDAuMSAqIE1hdGguc2luKGFuaW1hdGlvbk11bHRpcGxpZXIgKiBNYXRoLlBJICogMikpLCB5OiAwLjQgKyAoMC4wNSAqIE1hdGguYWJzKE1hdGguY29zKGFuaW1hdGlvbk11bHRpcGxpZXIgKiBNYXRoLlBJICogMikpKSB9LFxyXG4gICAgICB7IHg6IDAuNCwgeTogMC41NSB9XHJcbiAgICBdXHJcbiAgICBjb25zdCB3b3JsZFBhdGggPSBwYXRoLm1hcChwb2ludCA9PiBwb3NJblNxdWFyZVRvV29ybGQocG9pbnQpKVxyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKVxyXG4gICAgY3R4Lm1vdmVUbyh3b3JsZFBhdGhbMF0ueCwgd29ybGRQYXRoWzBdLnkpXHJcbiAgICB3b3JsZFBhdGguZm9yRWFjaChwb2ludCA9PiB7XHJcbiAgICAgIGN0eC5saW5lVG8ocG9pbnQueCwgcG9pbnQueSlcclxuICAgIH0pXHJcbiAgICBjdHguY2xvc2VQYXRoKClcclxuICAgIGN0eC5maWxsKClcclxuICAgIGN0eC5zdHJva2UoKVxyXG4gIH1cclxufSIsImltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi9ib2FyZCdcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2dhbWUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYXRlciBleHRlbmRzIE5vZGUge1xyXG4gIHR5cGU6IHN0cmluZyA9ICd3YXRlcidcclxuICBwb3M6IENvb3JkaW5hdGVcclxuICBhbmltYXRvcjogV2F0ZXJBbmltYXRpb25cclxuXHJcbiAgY29uc3RydWN0b3IoX3BvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMuc3RlcE11bHRpcGxpZXIgPSAyXHJcbiAgICB0aGlzLnBvcyA9IF9wb3NcclxuICAgIHRoaXMuYW5pbWF0b3IgPSBuZXcgV2F0ZXJBbmltYXRpb24odGhpcylcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgdGhpcy5hbmltYXRvci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgV2F0ZXJBbmltYXRpb24ge1xyXG4gIC8vIEFuaW1hdGlvblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBwcml2YXRlIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogV2F0ZXIpIHtcclxuICAgIFxyXG4gIH1cclxuICBcclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgaWYodGhpcy5wYXJlbnQuYm9hcmQgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYodGhpcy5hbmltYXRpb25GcmFtZSA8IHRoaXMuYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTWF0aC5taW4odGhpcy5hbmltYXRpb25UaW1lLCB0aGlzLmFuaW1hdGlvbkZyYW1lKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBhbmltYXRpb25NdWx0aXBsaWVyID0gdGhpcy5hbmltYXRpb25GcmFtZSAvIHRoaXMuYW5pbWF0aW9uVGltZVxyXG4gICAgY29uc3QgcG9zID0gdGhpcy5wYXJlbnQucG9zXHJcbiAgICBjb25zdCBzcXVhcmVTaXplID0gdGhpcy5wYXJlbnQuYm9hcmQuc3F1YXJlU2l6ZVxyXG4gICAgXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMTAwLCAxNTAsIDAuNiknXHJcblxyXG4gICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICBwb3MueCAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHBvcy55ICogc3F1YXJlU2l6ZSAtICgoc3F1YXJlU2l6ZS80KSAqICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpKSxcclxuICAgICAgc3F1YXJlU2l6ZSxcclxuICAgICAgc3F1YXJlU2l6ZVxyXG4gICAgKVxyXG4gIH1cclxufSIsImltcG9ydCBCb2FyZCwgeyBOb2RlIH0gZnJvbSBcIi4vYm9hcmRcIlxyXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSBcIi4uL2dhbWVcIlxyXG5pbXBvcnQgV2FsbCBmcm9tIFwiLi9ub2Rlcy93YWxsXCJcclxuaW1wb3J0IFN0YXJ0UG9pbnQgZnJvbSBcIi4vbm9kZXMvc3RhcnRwb2ludFwiXHJcbmltcG9ydCBFbmRQb2ludCBmcm9tIFwiLi9ub2Rlcy9lbmRwb2ludFwiXHJcbmltcG9ydCBXYXRlciBmcm9tIFwiLi9ub2Rlcy93YXRlclwiXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmRMb2dpYyBleHRlbmRzIEJvYXJkIHtcclxuICBmYWN0b3JpZXM6IHsgW2tleTogc3RyaW5nXTogeyBsYWJlbDogc3RyaW5nLCBmYWN0b3J5OiAocG9zOiBDb29yZGluYXRlKSA9PiBOb2RlIH0gfVxyXG4gIGN1cnJlbnRLZXk6IHN0cmluZyA9ICcnXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9zaXplOiBDb29yZGluYXRlKSB7XHJcbiAgICBzdXBlcihfc2l6ZSlcclxuXHJcblxyXG4gICAgdGhpcy5mYWN0b3JpZXMgPSB7XHJcbiAgICAgIHN0YXJ0OiB7IGxhYmVsOiAnU3RhcnQgUG9pbnQnLCBmYWN0b3J5OiBwb3NpdGlvbiA9PiBuZXcgU3RhcnRQb2ludChwb3NpdGlvbikgfSxcclxuICAgICAgZW5kOiB7IGxhYmVsOiAnRW5kIFBvaW50JywgZmFjdG9yeTogcG9zaXRpb24gPT4gbmV3IEVuZFBvaW50KHBvc2l0aW9uKSB9LFxyXG4gICAgICB3YWxsOiB7IGxhYmVsOiAnV2FsbCcsIGZhY3Rvcnk6IHBvc2l0aW9uID0+IG5ldyBXYWxsKHBvc2l0aW9uKSB9LFxyXG4gICAgICB3YXRlcjogeyBsYWJlbDogJ1dhdGVyJywgZmFjdG9yeTogcG9zaXRpb24gPT4gbmV3IFdhdGVyKHBvc2l0aW9uKSB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0IHRvUGxhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9wbGFjZS1zZWxlY3RvcicpXHJcbiAgICBpZih0b1BsYWNlICE9IG51bGwpe1xyXG4gICAgICBmb3IobGV0IGtleSBvZiBPYmplY3Qua2V5cyh0aGlzLmZhY3RvcmllcykpIHtcclxuICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxyXG4gICAgICAgIG5ld0VsZW1lbnQudHlwZSA9ICdyYWRpbydcclxuICAgICAgICBuZXdFbGVtZW50Lm5hbWUgPSAndG9wbGFjZSdcclxuICAgICAgICBuZXdFbGVtZW50LmlkID0gJ3RvcGxhY2UtJyArIGtleVxyXG4gICAgICAgIG5ld0VsZW1lbnQuY2xhc3NOYW1lID0gJ2N1c3RvbS1jb250cm9sLWlucHV0J1xyXG4gICAgICAgIG5ld0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50S2V5ID0ga2V5XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXHJcbiAgICAgICAgbGFiZWxFbGVtZW50LmNsYXNzTmFtZSA9ICdjdXN0b20tY29udHJvbC1sYWJlbCdcclxuICAgICAgICBsYWJlbEVsZW1lbnQuaHRtbEZvciA9ICd0b3BsYWNlLScgKyBrZXlcclxuICAgICAgICBsYWJlbEVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5mYWN0b3JpZXNba2V5XS5sYWJlbFxyXG4gICAgICAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxyXG4gICAgICAgIGRpdkVsZW1lbnQuY2xhc3NOYW1lID0gJ2N1c3RvbS1jb250cm9sIGN1c3RvbS1yYWRpbydcclxuICAgICAgICBkaXZFbGVtZW50LmFwcGVuZENoaWxkKG5ld0VsZW1lbnQpXHJcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChsYWJlbEVsZW1lbnQpXHJcbiAgXHJcbiAgICAgICAgdG9QbGFjZS5hcHBlbmRDaGlsZChkaXZFbGVtZW50KVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgb25DbGljayhlOiBNb3VzZUV2ZW50KSB7XHJcbiAgICBjb25zdCBwb3NpdGlvbjogQ29vcmRpbmF0ZSA9IHtcclxuICAgICAgeDogTWF0aC5mbG9vcihlLm9mZnNldFgvdGhpcy5zcXVhcmVTaXplKSxcclxuICAgICAgeTogTWF0aC5mbG9vcihlLm9mZnNldFkvdGhpcy5zcXVhcmVTaXplKVxyXG4gICAgfVxyXG5cclxuICAgIGlmKCEodGhpcy5jdXJyZW50S2V5IGluIHRoaXMuZmFjdG9yaWVzKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgc3dpdGNoKGUuYnV0dG9ucykge1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgdGhpcy5hZGROb2RlKHRoaXMuZmFjdG9yaWVzW3RoaXMuY3VycmVudEtleV0uZmFjdG9yeShwb3NpdGlvbikpXHJcbiAgICAgICAgdGhpcy5wYXRoRmluZGVyLnN0YXJ0KClcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIDI6XHJcbiAgICAgICAgdGhpcy5yZW1vdmVOb2RlKHBvc2l0aW9uKVxyXG4gICAgICAgIGJyZWFrXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHJlbW92ZU5vZGUocG9zOiBDb29yZGluYXRlKSB7XHJcbiAgICBjb25zdCBbaW5kZXhdID0gdGhpcy5nZXROb2RlKHBvcylcclxuICAgIGlmKGluZGV4ID09PSAtMSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm5vZGVzLnNwbGljZShpbmRleCwgMSlcclxuICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29tcG9uZW50IHtcclxuICBwdWJsaWMgYWJzdHJhY3QgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb21wb25lbnRcIjtcclxuaW1wb3J0IEJvYXJkTG9naWMgZnJvbSBcIi4vY29tcG9uZW50cy9ib2FyZExvZ2ljXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcclxuICBjb21wb25lbnRzOiBDb21wb25lbnRbXSA9IFtdXHJcbiAgbGFzdFRpbWU6IG51bWJlciA9IDBcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgY29uc3QgYm9hcmQgPSBuZXcgQm9hcmRMb2dpYyhcclxuICAgICAge3g6IDI2LCB5OiAyMn1cclxuICAgIClcclxuXHJcbiAgICBjdHguY2FudmFzLndpZHRoID0gYm9hcmQuc2l6ZS54ICogYm9hcmQuc3F1YXJlU2l6ZVxyXG4gICAgY3R4LmNhbnZhcy5oZWlnaHQgPSBib2FyZC5zaXplLnkgKiBib2FyZC5zcXVhcmVTaXplXHJcblxyXG4gICAgY3R4LmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7IGUucHJldmVudERlZmF1bHQoKSB9KVxyXG5cclxuICAgIGN0eC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgYm9hcmQub25DbGljay5iaW5kKGJvYXJkKSlcclxuICAgIGN0eC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgYm9hcmQub25DbGljay5iaW5kKGJvYXJkKSlcclxuICAgIFxyXG5cclxuICAgIHRoaXMuYWRkQ29tcG9uZW50KGJvYXJkKVxyXG4gIH1cclxuXHJcbiAgYWRkQ29tcG9uZW50KGNvbXBvbmVudDogQ29tcG9uZW50KSB7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMucHVzaChjb21wb25lbnQpXHJcbiAgfVxyXG5cclxuICBkcmF3KHRpbWU6IG51bWJlcikge1xyXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHhcclxuXHJcbiAgICBjb25zdCBkZWx0YVRpbWUgPSB0aW1lLXRoaXMubGFzdFRpbWVcclxuXHJcbiAgICAvLyBDbGVhclxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSdcclxuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodClcclxuXHJcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaChjb21wb25lbnQgPT4ge1xyXG4gICAgICBjb21wb25lbnQuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICAgIH0pXHJcblxyXG4gICAgdGhpcy5sYXN0VGltZT0gdGltZVxyXG4gIH1cclxufSIsImltcG9ydCBDb250cm9sbGVyIGZyb20gXCIuL2NvbnRyb2xsZXJcIlxyXG5cclxuY29uc3QgY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYW1lLWNhbnZhcycpXHJcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcblxyXG5pZihjdHggIT0gbnVsbCkge1xyXG4gIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihjdHgpXHJcblxyXG4gIGNvbnN0IHVwZGF0ZSA9ICh0aW1lOiBudW1iZXIpID0+IHtcclxuICAgIGNvbnRyb2xsZXIuZHJhdyh0aW1lKVxyXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh1cGRhdGUpXHJcbiAgfVxyXG5cclxuICB1cGRhdGUoMClcclxufSJdLCJzb3VyY2VSb290IjoiIn0=