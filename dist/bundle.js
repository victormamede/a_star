!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.directions=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]],this.squareSize=40;const e=document.createElement("canvas");e.width=3*this.squareSize,e.height=3*this.squareSize,t.appendChild(e),e.addEventListener("mousedown",this.onClick.bind(this)),this.canvas=e,this.drawer=new n(this),this.drawer.draw()}onClick(t){const e=Math.floor(t.offsetX/this.squareSize),i=Math.floor(t.offsetY/this.squareSize);1===e&&1===i||(this.directions[i][e]=!this.directions[i][e],this.drawer.draw(),console.log(this))}getDirections(){let t=[];for(let e=0;e<3;e++)for(let i=0;i<3;i++)if(this.directions[i][e]){const s={x:e-1,y:i-1},n=Math.sqrt(s.x*s.x+s.y*s.y);t.push({pos:s,weight:n})}return console.log(t),t}}class n{constructor(t){this.parent=t,this.ctx=t.canvas.getContext("2d")}draw(){const t=this.ctx;t.fillStyle="white",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.strokeStyle="black",t.lineWidth=1;for(let e=0;e<4;e++)t.moveTo(e*this.parent.squareSize,0),t.lineTo(e*this.parent.squareSize,t.canvas.height);for(let e=0;e<4;e++)t.moveTo(0,e*this.parent.squareSize),t.lineTo(t.canvas.width,e*this.parent.squareSize);t.stroke(),t.fillStyle="blue",t.beginPath(),t.arc(t.canvas.width/2,t.canvas.height/2,this.parent.squareSize/3,0,360),t.fill(),this.parent.getDirections().forEach(e=>{const i={x:t.canvas.width/2+e.pos.x*this.parent.squareSize,y:t.canvas.height/2+e.pos.y*this.parent.squareSize};t.fillStyle="red",t.beginPath(),t.arc(i.x,i.y,this.parent.squareSize/4,0,360),t.fill()})}}var a=function(t,e,i,s){return new(i||(i=Promise))((function(n,a){function r(t){try{h(s.next(t))}catch(t){a(t)}}function o(t){try{h(s.throw(t))}catch(t){a(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,o)}h((s=s.apply(t,e||[])).next())}))};class r{constructor(t,e){this.board=t,this.maxStep=100,this.minStep=0,this.stepInterval=50,this.open=[],this.closed=[],this.endNode=null,this.breakAll=null,this.possibleMoves=new s(document.getElementById("possible-moves-selector"));const i=document.createElement("input");i.type="range",i.className="custom-range",i.min=String(this.minStep),i.max=String(this.maxStep),i.value=String(this.stepInterval),i.addEventListener("change",t=>{this.stepInterval=+t.target.value});const n=document.createElement("label");n.innerHTML="Speed",n.appendChild(i),e.appendChild(n)}start(){this.calculate().then(t=>this.endNode=t)}draw(t,e){e.lineWidth=this.board.squareSize/4,e.lineCap="round",this.closed.forEach(i=>i.drawBox(t,e,{r:100,g:100,b:100})),this.open.forEach(i=>i.drawBox(t,e,{r:150,g:0,b:255})),e.strokeStyle="red",e.lineWidth=this.board.squareSize/3,null!=this.endNode&&this.endNode.drawLine(t,e)}calculate(){return a(this,void 0,void 0,(function*(){null!=this.breakAll&&this.breakAll();let t=!1;new Promise(t=>this.breakAll=t).then(()=>{t=!0});const[e,i]=this.board.findStartNode(),[s,n]=this.board.findEndNode();if(this.open=[],this.closed=[],this.endNode=null,null==i||null==n)return null;this.open.push(new o(this,i.pos));for(let e=0;e<1e3;e++){if(t)return null;yield new Promise(t=>setTimeout(t,this.maxStep-this.stepInterval));const[e,i]=this.lowestFInOpenList(n.pos);if(null==i)break;if(this.closed.push(i),this.open.splice(e,1),i.pos.x===n.pos.x&&i.pos.y===n.pos.y)return i;this.possibleMoves.getDirections().forEach(t=>{this.checkDirection(i,t)})}return this.breakAll=null,null}))}checkDirection(t,e){const i={x:e.pos.x+t.pos.x,y:e.pos.y+t.pos.y},[s,n]=this.board.getNode(i);if((null==n?void 0:n.stepMultiplier)===1/0)return;if(this.board.isOutOfBounds(i))return;if(null!=this.inClosedList(i)[1])return;const a=new o(this,i);a.parentNode=t;let r=t.distanceFromStart,h=e.weight;null!=n&&(h*=n.stepMultiplier),r+=h,a.distanceFromStart=r;const[l,c]=this.inOpenList(i);if(null!=c){if(!(a.distanceFromStart<c.distanceFromStart))return;this.open.splice(l,1)}return this.open.push(a),a}lowestFInOpenList(t){if(0===this.open.length)return[-1,void 0];let e=0,i=this.open[e].calculateF(t);return this.open.forEach((s,n)=>{const a=s.calculateF(t);a<i&&(e=n,i=a)}),[e,this.open[e]]}inOpenList(t){const e=this.open.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.open[e]]}inClosedList(t){const e=this.closed.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.closed[e]]}}class o{constructor(t,e){this.parent=t,this.distanceFromStart=0,this.parentNode=null,this.animationFrame=0,this.pos=Object.assign({},e),this.lineDrawer=new h(this),this.boxDrawer=new l(this)}calculateF(t){const e=t.x-this.pos.x,i=t.y-this.pos.y,s=e*e+i*i,n=Math.sqrt(s);return this.distanceFromStart+n}drawLine(t,e){this.lineDrawer.draw(t,e)}drawBox(t,e,i){this.boxDrawer.draw(t,e,i)}}class h{constructor(t){this.parent=t,this.animationFrame=0}trace(t,e){if(null==this.parent)return;if(null==this.parent.parentNode)return;const i=this.parent.parentNode.pos,s=this.parent.parent.board.squareSize,n=Math.max(this.parent.parent.maxStep-this.parent.parent.stepInterval,.01);this.animationFrame=Math.min(n,this.animationFrame);const a=this.animationFrame/n;e.lineTo(((1-a)*this.parent.pos.x+i.x*a)*s+s/2,((1-a)*this.parent.pos.y+i.y*a)*s+s/2),this.animationFrame<n?this.animationFrame+=t:this.parent.parentNode.lineDrawer.trace(t,e)}draw(t,e){const i=this.parent.parent.board.squareSize;null!=this.parent.parentNode&&(e.beginPath(),e.moveTo(this.parent.pos.x*i+i/2,this.parent.pos.y*i+i/2),this.parent.lineDrawer.trace(t,e),e.stroke())}}class l{constructor(t){this.parent=t,this.animationFrame=0,this.fallDownTime=100,this.animationTime=1e3}draw(t,e,i){const s=this.parent.parent.board.squareSize,n=this.parent.pos;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationFrame,this.animationTime));const a=Math.min(1,this.animationFrame/this.fallDownTime),r=this.animationFrame/this.animationTime;e.fillStyle=`rgba(${i.r}, ${i.g}, ${i.b}, ${1.2-r}`,e.fillRect(n.x*s-s/4*(1-a),n.y*s-s/4*(1-a),s,s)}}class c{constructor(){this.board=null,this.stepMultiplier=1/0}enter(t){this.board=t}}class d{constructor(t,e){this.from=t,this.to=e,this.animationFrame=0,this.animationTime=1e3,this.animationTime=1300*Math.random()+200}draw(t,e){this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime;e.lineWidth=1,e.strokeStyle=`rgba(0, 0, 0, ${.5*i})`,e.beginPath(),e.moveTo(this.from.x,this.from.y),e.lineTo((1-i)*this.from.x+i*this.to.x,(1-i)*this.from.y+i*this.to.y),e.stroke()}}class m extends c{constructor(t){super(),this.type="wall",this.pos=t,this.animator=new u(this)}draw(t,e){this.animator.draw(t,e)}}class u{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="black",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class p extends c{constructor(t){super(),this.type="start",this.stepMultiplier=1,this.pos=t,this.animator=new f(this)}enter(t){this.board=t;const[e]=this.board.findStartNode();e>=0&&this.board.nodes.splice(e,1)}draw(t,e){this.animator.draw(t,e)}}class f{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=4e3}draw(t,e){if(null==this.parent.board)return;this.animationFrame+=t,this.animationFrame%=this.animationTime;const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="green",e.lineWidth=1,e.strokeStyle="black";const a=[{x:.4,y:.8},{x:.6,y:.8},{x:.6,y:.2},{x:.4,y:.2},{x:.4,y:.25},{x:.2+.1*Math.sin(i*Math.PI*2),y:.4+.05*Math.abs(Math.cos(i*Math.PI*2))},{x:.4,y:.55}].map(t=>{return{x:((e=t).x+s.x)*n,y:(e.y+s.y)*n};var e});e.beginPath(),e.moveTo(a[0].x,a[0].y),a.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),e.stroke()}}class y extends c{constructor(t){super(),this.type="end",this.stepMultiplier=1,this.pos=t,this.animator=new x(this)}enter(t){this.board=t;const[e]=this.board.findEndNode();e>=0&&this.board.nodes.splice(e,1)}draw(t,e){this.animator.draw(t,e)}}class x{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=4e3}draw(t,e){if(null==this.parent.board)return;this.animationFrame+=t,this.animationFrame%=this.animationTime;const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="red",e.lineWidth=1,e.strokeStyle="black";const a=[{x:.4,y:.8},{x:.6,y:.8},{x:.6,y:.2},{x:.4,y:.2},{x:.4,y:.25},{x:.2+.1*Math.sin(i*Math.PI*2),y:.4+.05*Math.abs(Math.cos(i*Math.PI*2))},{x:.4,y:.55}].map(t=>{return{x:((e=t).x+s.x)*n,y:(e.y+s.y)*n};var e});e.beginPath(),e.moveTo(a[0].x,a[0].y),a.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),e.stroke()}}class w extends c{constructor(t){super(),this.type="water",this.stepMultiplier=4,this.pos=t,this.animator=new b(this)}draw(t,e){this.animator.draw(t,e)}}class b{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="rgba(0, 100, 150, 0.6)",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class S extends c{constructor(t){super(),this.type="mud",this.stepMultiplier=8,this.pos=t,this.animator=new v(this)}draw(t,e){this.animator.draw(t,e)}}class v{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="rgba(101, 67, 42, 0.8)",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class F extends class extends class{}{constructor(t,e){super(),this.size=t,this.squareSize=e,this.boardLines=[],this.nodes=[],this.addLines(),this.pathFinder=new r(this,document.getElementById("speed-selector"))}addLines(){for(let t=0;t<this.size.x+1;t++)this.boardLines.push(new d({x:t*this.squareSize,y:0},{x:t*this.squareSize,y:this.size.y*this.squareSize}));for(let t=0;t<this.size.y+1;t++)this.boardLines.push(new d({x:0,y:t*this.squareSize},{x:this.size.x*this.squareSize,y:t*this.squareSize}))}addNode(t){const[e]=this.getNode(t.pos);e>=0||this.isOutOfBounds(t.pos)||(t.enter(this),this.nodes.push(t))}getNode(t){const e=this.nodes.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.nodes[e]]}isOutOfBounds(t){return t.x>=this.size.x||t.x<0||t.y>=this.size.y||t.y<0}findStartNode(){const t=this.nodes.findIndex(t=>"start"===t.type);return[t,this.nodes[t]]}findEndNode(){const t=this.nodes.findIndex(t=>"end"===t.type);return[t,this.nodes[t]]}draw(t,e){this.pathFinder.draw(t,e),this.boardLines.forEach(i=>i.draw(t,e)),this.nodes.forEach(i=>i.draw(t,e))}}{constructor(t,e){super(t,e),this.currentKey="",this.factories={start:{label:"Start Point",factory:t=>new p(t)},end:{label:"End Point",factory:t=>new y(t)},wall:{label:"Wall",factory:t=>new m(t)},water:{label:"Water",factory:t=>new w(t)},mud:{label:"Mud",factory:t=>new S(t)}};const i=document.getElementById("toplace-selector");if(null!=i)for(let t of Object.keys(this.factories)){const e=document.createElement("input");e.type="radio",e.name="toplace",e.id="toplace-"+t,e.className="custom-control-input",e.addEventListener("change",()=>{this.currentKey=t});const s=document.createElement("label");s.className="custom-control-label",s.htmlFor="toplace-"+t,s.innerHTML=this.factories[t].label;const n=document.createElement("div");n.className="custom-control custom-radio",n.appendChild(e),n.appendChild(s),i.appendChild(n)}}onClick(t){const e={x:Math.floor(t.offsetX/this.squareSize),y:Math.floor(t.offsetY/this.squareSize)};if(this.currentKey in this.factories)switch(t.buttons){case 1:this.addNode(this.factories[this.currentKey].factory(e)),this.pathFinder.start();break;case 2:this.removeNode(e)}}removeNode(t){const[e]=this.getNode(t);-1!==e&&this.nodes.splice(e,1)}}class g{constructor(t){this.ctx=t,this.components=[],this.lastTime=0;const e=new F({x:t.canvas.width/32,y:t.canvas.height/32},32);t.canvas.addEventListener("contextmenu",t=>{t.preventDefault()}),t.canvas.addEventListener("mousemove",e.onClick.bind(e)),t.canvas.addEventListener("mousedown",e.onClick.bind(e)),this.addComponent(e)}addComponent(t){this.components.push(t)}draw(t){const e=this.ctx,i=t-this.lastTime;e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),this.components.forEach(t=>{t.draw(i,e)}),this.lastTime=t}}const T=document.getElementById("game-canvas").getContext("2d");if(null!=T){T.imageSmoothingEnabled=!1;const t=new g(T),e=i=>{t.draw(i),window.requestAnimationFrame(e)};e(0)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcG9zc2libGVNb3Zlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wYXRoRmluZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vZGVzL3dhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm9kZXMvc3RhcnRwb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy9lbmRwb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy93YXRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy9tdWQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvYm9hcmRMb2dpYy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUG9zc2libGVNb3ZlcyIsImNvbnRhaW50ZXIiLCJkaXJlY3Rpb25zIiwic3F1YXJlU2l6ZSIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIndpZHRoIiwidGhpcyIsImhlaWdodCIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9uQ2xpY2siLCJkcmF3ZXIiLCJQb3NzaWJsZU1vdmVzRHJhd2VyIiwiZHJhdyIsImUiLCJzcXVhcmUiLCJNYXRoIiwiZmxvb3IiLCJvZmZzZXRYIiwib2Zmc2V0WSIsImNvbnNvbGUiLCJsb2ciLCJ0b1JldHVybiIsIngiLCJ5IiwicG9zIiwid2VpZ2h0Iiwic3FydCIsInB1c2giLCJwYXJlbnQiLCJjdHgiLCJnZXRDb250ZXh0IiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJiZWdpblBhdGgiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFyYyIsImZpbGwiLCJnZXREaXJlY3Rpb25zIiwiZm9yRWFjaCIsImRpcmVjdGlvbiIsImJvYXJkIiwic3RlcEludGVydmFsU2VsZWN0b3JDb250YWluZXIiLCJtYXhTdGVwIiwibWluU3RlcCIsInN0ZXBJbnRlcnZhbCIsIm9wZW4iLCJjbG9zZWQiLCJlbmROb2RlIiwiYnJlYWtBbGwiLCJwb3NzaWJsZU1vdmVzIiwiZ2V0RWxlbWVudEJ5SWQiLCJzdGVwSW50ZXJ2YWxTZWxlY3RvciIsInR5cGUiLCJjbGFzc05hbWUiLCJtaW4iLCJTdHJpbmciLCJtYXgiLCJ2YWwiLCJ0YXJnZXQiLCJzdGVwSW50ZXJ2YWxMYWJlbCIsImlubmVySFRNTCIsImNhbGN1bGF0ZSIsInRoZW4iLCJkZWx0YVRpbWUiLCJsaW5lQ2FwIiwibm9kZSIsImRyYXdCb3giLCJnIiwiYiIsImRyYXdMaW5lIiwiZm9yY2VCcmVhayIsIlByb21pc2UiLCJyZXNvbHZlIiwic3RhcnRJbmRleCIsInN0YXJ0Tm9kZSIsImZpbmRTdGFydE5vZGUiLCJlbmRJbmRleCIsImZpbmRFbmROb2RlIiwiUGF0aEZpbmRlck5vZGUiLCJzZXRUaW1lb3V0IiwiY3VycmVudE5vZGVJbmRleCIsImN1cnJlbnROb2RlIiwibG93ZXN0RkluT3Blbkxpc3QiLCJzcGxpY2UiLCJjaGVja0RpcmVjdGlvbiIsIm5ld1BvcyIsImN1cnJlbnRCb2FyZE5vZGVJbmRleCIsImN1cnJlbnRCb2FyZE5vZGUiLCJnZXROb2RlIiwic3RlcE11bHRpcGxpZXIiLCJJbmZpbml0eSIsImlzT3V0T2ZCb3VuZHMiLCJpbkNsb3NlZExpc3QiLCJuZXdOb2RlIiwicGFyZW50Tm9kZSIsImRpc3RhbmNlRnJvbVN0YXJ0Iiwic3RlcFdlaWdodCIsImluT3Blbkxpc3RJbmRleCIsImluT3Blbkxpc3QiLCJlbmRQb3MiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJsb3dlc3QiLCJsb3dlc3RGIiwiY2FsY3VsYXRlRiIsImluZGV4Iiwibm9kZUYiLCJmaW5kSW5kZXgiLCJfcG9zIiwiYW5pbWF0aW9uRnJhbWUiLCJsaW5lRHJhd2VyIiwiUGF0aEZpbmRlck5vZGVMaW5lRHJhd2VyIiwiYm94RHJhd2VyIiwiUGF0aEZpbmRlck5vZGVCb3hEcmF3ZXIiLCJkaXN0YW5jZVZlY3RvciIsImRpc3RhbmNlRXN0aW1hdGVTcXVhcmVkIiwiZGlzdGFuY2VFc3RpbWF0ZSIsImNvbG9yIiwibmV4dFBvcyIsImFuaW1hdGlvblRpbWUiLCJhbmltYXRpb25NdWx0aXBsaWVyIiwidHJhY2UiLCJmYWxsRG93blRpbWUiLCJmYWxsRG93bk11bHRpcGxpZXIiLCJOb2RlIiwiX2JvYXJkIiwiQm9hcmRMaW5lIiwiZnJvbSIsInRvIiwicmFuZG9tIiwic3VwZXIiLCJhbmltYXRvciIsIldhbGxBbmltYXRpb24iLCJTdGFydFBvaW50QW5pbWF0aW9uIiwibm9kZXMiLCJ3b3JsZFBhdGgiLCJzaW4iLCJQSSIsImFicyIsImNvcyIsIm1hcCIsInBvaW50IiwicG9zSW5TcXVhcmVUb1dvcmxkIiwiY2xvc2VQYXRoIiwiRW5kUG9pbnRBbmltYXRpb24iLCJXYXRlckFuaW1hdGlvbiIsIk11ZEFuaW1hdGlvbiIsInNpemUiLCJib2FyZExpbmVzIiwiYWRkTGluZXMiLCJwYXRoRmluZGVyIiwiZW50ZXIiLCJsaW5lIiwiX3NpemUiLCJfc3F1YXJlU2l6ZSIsImN1cnJlbnRLZXkiLCJmYWN0b3JpZXMiLCJzdGFydCIsImxhYmVsIiwiZmFjdG9yeSIsInBvc2l0aW9uIiwiZW5kIiwid2FsbCIsIndhdGVyIiwibXVkIiwidG9QbGFjZSIsImtleXMiLCJuZXdFbGVtZW50IiwiaWQiLCJsYWJlbEVsZW1lbnQiLCJodG1sRm9yIiwiZGl2RWxlbWVudCIsImJ1dHRvbnMiLCJhZGROb2RlIiwicmVtb3ZlTm9kZSIsImNvbXBvbmVudHMiLCJsYXN0VGltZSIsInByZXZlbnREZWZhdWx0IiwiYWRkQ29tcG9uZW50IiwiY29tcG9uZW50IiwidGltZSIsImltYWdlU21vb3RoaW5nRW5hYmxlZCIsImNvbnRyb2xsZXIiLCJ1cGRhdGUiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FB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QUFhLElBQUksRUFBVyxHQUU1QkMsRUFBVUgsSUFDZEUsRUFBVzlLLEtBQUs0SyxHQUNoQkksT0FBT0Msc0JBQXNCRixJQUcvQkEsRUFBTyIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSBcIi4uL2dhbWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvc3NpYmxlTW92ZXMge1xyXG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnRcclxuICBkcmF3ZXI6IFBvc3NpYmxlTW92ZXNEcmF3ZXJcclxuXHJcbiAgZGlyZWN0aW9ucyA9IFtcclxuICAgIFt0cnVlLCB0cnVlLCB0cnVlXSxcclxuICAgIFt0cnVlLCBmYWxzZSwgdHJ1ZV0sXHJcbiAgICBbdHJ1ZSwgdHJ1ZSwgdHJ1ZV1cclxuICBdXHJcblxyXG4gIHJlYWRvbmx5IHNxdWFyZVNpemUgPSA0MFxyXG5cclxuICBjb25zdHJ1Y3Rvcihjb250YWludGVyOiBIVE1MRGl2RWxlbWVudCkge1xyXG4gICAgY29uc3QgY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXHJcbiAgICBjYW52YXMud2lkdGggPSB0aGlzLnNxdWFyZVNpemUgKiAzXHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gdGhpcy5zcXVhcmVTaXplICogM1xyXG5cclxuICAgIGNvbnRhaW50ZXIuYXBwZW5kQ2hpbGQoY2FudmFzKVxyXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25DbGljay5iaW5kKHRoaXMpKVxyXG5cclxuICAgIHRoaXMuY2FudmFzID0gY2FudmFzXHJcblxyXG4gICAgdGhpcy5kcmF3ZXIgPSBuZXcgUG9zc2libGVNb3Zlc0RyYXdlcih0aGlzKVxyXG4gICAgdGhpcy5kcmF3ZXIuZHJhdygpXHJcbiAgfVxyXG5cclxuICBvbkNsaWNrKGU6IE1vdXNlRXZlbnQpIHtcclxuICAgIGNvbnN0IHNxdWFyZSA9IHtcclxuICAgICAgeDogTWF0aC5mbG9vcihlLm9mZnNldFggLyB0aGlzLnNxdWFyZVNpemUpLFxyXG4gICAgICB5OiBNYXRoLmZsb29yKGUub2Zmc2V0WSAvIHRoaXMuc3F1YXJlU2l6ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZihzcXVhcmUueCA9PT0gMSAmJiBzcXVhcmUueSA9PT0gMSkgeyBcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5kaXJlY3Rpb25zW3NxdWFyZS55XVtzcXVhcmUueF0gPSAhdGhpcy5kaXJlY3Rpb25zW3NxdWFyZS55XVtzcXVhcmUueF1cclxuICAgIHRoaXMuZHJhd2VyLmRyYXcoKVxyXG4gICAgY29uc29sZS5sb2codGhpcylcclxuICB9XHJcblxyXG4gIGdldERpcmVjdGlvbnMoKTogeyBwb3M6IENvb3JkaW5hdGUsIHdlaWdodDogbnVtYmVyIH1bXSB7XHJcbiAgICBsZXQgdG9SZXR1cm46IHsgcG9zOiBDb29yZGluYXRlLCB3ZWlnaHQ6IG51bWJlciB9W10gPSBbXVxyXG5cclxuICAgIGZvcihsZXQgeCA9IDA7IHggPCAzOyB4KyspIHtcclxuICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IDM7IHkrKykge1xyXG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uc1t5XVt4XSkge1xyXG4gICAgICAgICAgY29uc3QgcG9zID0ge1xyXG4gICAgICAgICAgICB4OiB4IC0gMSxcclxuICAgICAgICAgICAgeTogeSAtIDFcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB3ZWlnaHQgPSBNYXRoLnNxcnQocG9zLnggKiBwb3MueCArIHBvcy55ICogcG9zLnkpXHJcblxyXG4gICAgICAgICAgdG9SZXR1cm4ucHVzaCh7XHJcbiAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICB3ZWlnaHQ6IHdlaWdodFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyh0b1JldHVybilcclxuICAgIHJldHVybiB0b1JldHVyblxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUG9zc2libGVNb3Zlc0RyYXdlciB7XHJcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkRcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBwYXJlbnQ6IFBvc3NpYmxlTW92ZXMpIHtcclxuICAgIHRoaXMuY3R4ID0gPENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRD5wYXJlbnQuY2FudmFzLmdldENvbnRleHQoJzJkJylcclxuICB9XHJcblxyXG4gIGRyYXcoKSB7XHJcbiAgICBjb25zdCBjdHggPSB0aGlzLmN0eFxyXG5cclxuICAgIC8vIGNsZWFyXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ3doaXRlJ1xyXG4gICAgY3R4LmZpbGxSZWN0KDAsIDAsIGN0eC5jYW52YXMud2lkdGgsIGN0eC5jYW52YXMuaGVpZ2h0KVxyXG5cclxuICAgIC8vIGxpbmVzXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuICAgIGN0eC5zdHJva2VTdHlsZT0nYmxhY2snXHJcbiAgICBjdHgubGluZVdpZHRoID0gMVxyXG4gICAgZm9yKGxldCB4ID0gMDsgeCA8IDQ7IHgrKykge1xyXG4gICAgICBjdHgubW92ZVRvKHggKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplLCAwKVxyXG4gICAgICBjdHgubGluZVRvKHggKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplLCBjdHguY2FudmFzLmhlaWdodClcclxuICAgIH1cclxuICAgIGZvcihsZXQgeSA9IDA7IHkgPCA0OyB5KyspIHtcclxuICAgICAgY3R4Lm1vdmVUbygwLCB5ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZSlcclxuICAgICAgY3R4LmxpbmVUbyhjdHguY2FudmFzLndpZHRoLCB5ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZSlcclxuICAgIH1cclxuICAgIGN0eC5zdHJva2UoKVxyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmx1ZSdcclxuICAgIGN0eC5iZWdpblBhdGgoKVxyXG4gICAgY3R4LmFyYyhjdHguY2FudmFzLndpZHRoLzIsIGN0eC5jYW52YXMuaGVpZ2h0LzIsIHRoaXMucGFyZW50LnNxdWFyZVNpemUvMywgMCwgMzYwKVxyXG4gICAgY3R4LmZpbGwoKVxyXG5cclxuICAgIHRoaXMucGFyZW50LmdldERpcmVjdGlvbnMoKS5mb3JFYWNoKGRpcmVjdGlvbiA9PiB7XHJcbiAgICAgIGNvbnN0IHBvcyA9IHtcclxuICAgICAgICB4OiBjdHguY2FudmFzLndpZHRoLzIgKyBkaXJlY3Rpb24ucG9zLnggKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplLFxyXG4gICAgICAgIHk6IGN0eC5jYW52YXMuaGVpZ2h0LzIgKyBkaXJlY3Rpb24ucG9zLnkgKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJ1xyXG4gICAgICBjdHguYmVnaW5QYXRoKClcclxuICAgICAgY3R4LmFyYyhwb3MueCwgcG9zLnksIHRoaXMucGFyZW50LnNxdWFyZVNpemUvNCwgMCwgMzYwKVxyXG4gICAgICBjdHguZmlsbCgpXHJcbiAgICB9KVxyXG4gIH1cclxufSIsImltcG9ydCBCb2FyZCBmcm9tIFwiLi9ib2FyZFwiO1xyXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSBcIi4uL2dhbWVcIjtcclxuaW1wb3J0IFBvc3NpYmxlTW92ZXMgZnJvbSBcIi4vcG9zc2libGVNb3Zlc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF0aEZpbmRlciB7XHJcbiAgcmVhZG9ubHkgbWF4U3RlcCA9IDEwMFxyXG4gIHJlYWRvbmx5IG1pblN0ZXAgPSAwXHJcbiAgc3RlcEludGVydmFsOiBudW1iZXIgPSA1MFxyXG5cclxuICBvcGVuOiBQYXRoRmluZGVyTm9kZVtdID0gW11cclxuICBjbG9zZWQ6IFBhdGhGaW5kZXJOb2RlW10gPSBbXVxyXG5cclxuICBlbmROb2RlOiBQYXRoRmluZGVyTm9kZSB8IG51bGwgPSBudWxsXHJcbiAgYnJlYWtBbGw6ICgoKSA9PiB2b2lkKSB8IG51bGwgPSBudWxsXHJcbiAgXHJcbiAgcG9zc2libGVNb3ZlczogUG9zc2libGVNb3ZlcyA9IG5ldyBQb3NzaWJsZU1vdmVzKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zc2libGUtbW92ZXMtc2VsZWN0b3InKSlcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIGJvYXJkOiBCb2FyZCwgc3RlcEludGVydmFsU2VsZWN0b3JDb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICBjb25zdCBzdGVwSW50ZXJ2YWxTZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yLnR5cGUgPSAncmFuZ2UnXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3Rvci5jbGFzc05hbWUgPSAnY3VzdG9tLXJhbmdlJ1xyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3IubWluID0gU3RyaW5nKHRoaXMubWluU3RlcClcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yLm1heCA9IFN0cmluZyh0aGlzLm1heFN0ZXApXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3Rvci52YWx1ZSA9IFN0cmluZyh0aGlzLnN0ZXBJbnRlcnZhbClcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICh2YWwpID0+IHtcclxuICAgICAgdGhpcy5zdGVwSW50ZXJ2YWwgPSArKDxIVE1MSW5wdXRFbGVtZW50PnZhbC50YXJnZXQpLnZhbHVlXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHN0ZXBJbnRlcnZhbExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxyXG4gICAgc3RlcEludGVydmFsTGFiZWwuaW5uZXJIVE1MID0gJ1NwZWVkJ1xyXG5cclxuICAgIHN0ZXBJbnRlcnZhbExhYmVsLmFwcGVuZENoaWxkKHN0ZXBJbnRlcnZhbFNlbGVjdG9yKVxyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3JDb250YWluZXIuYXBwZW5kQ2hpbGQoc3RlcEludGVydmFsTGFiZWwpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgc3RhcnQoKSB7XHJcbiAgICB0aGlzLmNhbGN1bGF0ZSgpLnRoZW4oZW5kTm9kZSA9PiB0aGlzLmVuZE5vZGUgPSBlbmROb2RlKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5ib2FyZC5zcXVhcmVTaXplIC8gNFxyXG4gICAgY3R4LmxpbmVDYXAgPSAncm91bmQnXHJcblxyXG4gICAgdGhpcy5jbG9zZWQuZm9yRWFjaChub2RlID0+IG5vZGUuZHJhd0JveChkZWx0YVRpbWUsIGN0eCwgeyByOiAxMDAsIGc6IDEwMCwgYjogMTAwfSkpXHJcbiAgICB0aGlzLm9wZW4uZm9yRWFjaChub2RlID0+IG5vZGUuZHJhd0JveChkZWx0YVRpbWUsIGN0eCwgeyByOiAxNTAsIGc6IDAsIGI6IDI1NSB9KSlcclxuXHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmVkJ1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IHRoaXMuYm9hcmQuc3F1YXJlU2l6ZSAvIDNcclxuICAgIGlmKHRoaXMuZW5kTm9kZSAhPSBudWxsKXtcclxuICAgICAgdGhpcy5lbmROb2RlLmRyYXdMaW5lKGRlbHRhVGltZSwgY3R4KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhc3luYyBjYWxjdWxhdGUoKTogUHJvbWlzZTxQYXRoRmluZGVyTm9kZSB8IG51bGw+IHtcclxuICAgIGlmKHRoaXMuYnJlYWtBbGwgIT0gbnVsbCkge1xyXG4gICAgICB0aGlzLmJyZWFrQWxsKClcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZm9yY2VCcmVhayA9IGZhbHNlXHJcbiAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHRoaXMuYnJlYWtBbGwgPSByZXNvbHZlKS50aGVuKCgpPT4geyBmb3JjZUJyZWFrID0gdHJ1ZSB9KVxyXG5cclxuICAgIGNvbnN0IFtzdGFydEluZGV4LCBzdGFydE5vZGVdID0gdGhpcy5ib2FyZC5maW5kU3RhcnROb2RlKClcclxuICAgIGNvbnN0IFtlbmRJbmRleCwgZW5kTm9kZV0gPSB0aGlzLmJvYXJkLmZpbmRFbmROb2RlKClcclxuXHJcbiAgICB0aGlzLm9wZW4gPSBbXVxyXG4gICAgdGhpcy5jbG9zZWQgPSBbXVxyXG4gICAgdGhpcy5lbmROb2RlID0gbnVsbFxyXG5cclxuICAgIGlmKHN0YXJ0Tm9kZSA9PSBudWxsIHx8IGVuZE5vZGUgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIHRoaXMub3Blbi5wdXNoKG5ldyBQYXRoRmluZGVyTm9kZSh0aGlzLCBzdGFydE5vZGUucG9zKSlcclxuXHJcbiAgICAvLyByZXBlYXRcclxuICAgIGZvcihsZXQgaSA9IDA7IGkgPCAxMDAwOyBpKyspIHtcclxuICAgICAgaWYoZm9yY2VCcmVhaykge1xyXG4gICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAodGhpcy5tYXhTdGVwLXRoaXMuc3RlcEludGVydmFsKSkpXHJcblxyXG4gICAgICBjb25zdCBbY3VycmVudE5vZGVJbmRleCwgY3VycmVudE5vZGVdID0gdGhpcy5sb3dlc3RGSW5PcGVuTGlzdChlbmROb2RlLnBvcylcclxuICAgICAgaWYoY3VycmVudE5vZGUgPT0gbnVsbCkge1xyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRoaXMuY2xvc2VkLnB1c2goY3VycmVudE5vZGUpXHJcbiAgICAgIHRoaXMub3Blbi5zcGxpY2UoY3VycmVudE5vZGVJbmRleCwgMSlcclxuXHJcbiAgICAgIGlmKGN1cnJlbnROb2RlLnBvcy54ID09PSBlbmROb2RlLnBvcy54ICYmIGN1cnJlbnROb2RlLnBvcy55ID09PSBlbmROb2RlLnBvcy55KSB7XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnROb2RlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMucG9zc2libGVNb3Zlcy5nZXREaXJlY3Rpb25zKCkuZm9yRWFjaCgoZGlyZWN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGVja0RpcmVjdGlvbihjdXJyZW50Tm9kZSwgZGlyZWN0aW9uKVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gICAgLy8gLS0tXHJcblxyXG4gICAgdGhpcy5icmVha0FsbCA9IG51bGxcclxuICAgIHJldHVybiBudWxsXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrRGlyZWN0aW9uKGN1cnJlbnROb2RlOiBQYXRoRmluZGVyTm9kZSwgZGlyZWN0aW9uOiB7IHBvczogQ29vcmRpbmF0ZSwgd2VpZ2h0OiBudW1iZXIgfSkge1xyXG4gICAgY29uc3QgbmV3UG9zOiBDb29yZGluYXRlID0geyB4OiBkaXJlY3Rpb24ucG9zLnggKyBjdXJyZW50Tm9kZS5wb3MueCwgeTogZGlyZWN0aW9uLnBvcy55ICsgY3VycmVudE5vZGUucG9zLnkgfVxyXG5cclxuICAgIGNvbnN0IFtjdXJyZW50Qm9hcmROb2RlSW5kZXgsIGN1cnJlbnRCb2FyZE5vZGVdID0gdGhpcy5ib2FyZC5nZXROb2RlKG5ld1BvcylcclxuXHJcbiAgICAvLyBjaGVjayBpZiB3YWxrYWJsZVxyXG4gICAgaWYoY3VycmVudEJvYXJkTm9kZT8uc3RlcE11bHRpcGxpZXIgPT09IEluZmluaXR5KSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIG91dCBvZiBib3VuZHNcclxuICAgIGlmKHRoaXMuYm9hcmQuaXNPdXRPZkJvdW5kcyhuZXdQb3MpKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIGluIGNsb3NlZCBsaXN0XHJcbiAgICBjb25zdCBpbkNsb3NlZExpc3QgPSB0aGlzLmluQ2xvc2VkTGlzdChuZXdQb3MpWzFdXHJcbiAgICBpZihpbkNsb3NlZExpc3QgIT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdOb2RlID0gbmV3IFBhdGhGaW5kZXJOb2RlKHRoaXMsIG5ld1BvcylcclxuICAgIG5ld05vZGUucGFyZW50Tm9kZSA9IGN1cnJlbnROb2RlXHJcblxyXG4gICAgLy8gY2FsY3VsYXRlIGRpc3RhbmNlXHJcbiAgICBsZXQgZGlzdGFuY2VGcm9tU3RhcnQgPSBjdXJyZW50Tm9kZS5kaXN0YW5jZUZyb21TdGFydFxyXG4gICAgbGV0IHN0ZXBXZWlnaHQgPSBkaXJlY3Rpb24ud2VpZ2h0XHJcbiAgICBpZihjdXJyZW50Qm9hcmROb2RlICE9IG51bGwpIHtcclxuICAgICAgc3RlcFdlaWdodCAqPSBjdXJyZW50Qm9hcmROb2RlLnN0ZXBNdWx0aXBsaWVyXHJcbiAgICB9XHJcblxyXG4gICAgZGlzdGFuY2VGcm9tU3RhcnQgKz0gc3RlcFdlaWdodFxyXG4gICAgbmV3Tm9kZS5kaXN0YW5jZUZyb21TdGFydCA9IGRpc3RhbmNlRnJvbVN0YXJ0XHJcblxyXG5cclxuICAgIC8vIGNoZWNrIGlmIGluIG9wZW4gbGlzdFxyXG4gICAgY29uc3QgW2luT3Blbkxpc3RJbmRleCwgaW5PcGVuTGlzdF0gPSB0aGlzLmluT3Blbkxpc3QobmV3UG9zKVxyXG4gICAgaWYoaW5PcGVuTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgIGlmKG5ld05vZGUuZGlzdGFuY2VGcm9tU3RhcnQgPCBpbk9wZW5MaXN0LmRpc3RhbmNlRnJvbVN0YXJ0KSB7XHJcbiAgICAgICAgdGhpcy5vcGVuLnNwbGljZShpbk9wZW5MaXN0SW5kZXgsIDEpXHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLm9wZW4ucHVzaChuZXdOb2RlKVxyXG4gICAgcmV0dXJuIG5ld05vZGVcclxuICB9XHJcblxyXG4gIHByaXZhdGUgbG93ZXN0RkluT3Blbkxpc3QoZW5kUG9zOiBDb29yZGluYXRlKTogW251bWJlciwgUGF0aEZpbmRlck5vZGUgfCB1bmRlZmluZWRdIHtcclxuICAgIGlmKHRoaXMub3Blbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIFstMSwgdW5kZWZpbmVkXVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBsb3dlc3QgPSAwXHJcbiAgICBsZXQgbG93ZXN0RiA9IHRoaXMub3Blbltsb3dlc3RdLmNhbGN1bGF0ZUYoZW5kUG9zKVxyXG4gICAgdGhpcy5vcGVuLmZvckVhY2goKG5vZGUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IG5vZGVGID0gbm9kZS5jYWxjdWxhdGVGKGVuZFBvcylcclxuICAgICAgaWYobm9kZUYgPCBsb3dlc3RGKSB7XHJcbiAgICAgICAgbG93ZXN0ID0gaW5kZXhcclxuICAgICAgICBsb3dlc3RGID0gbm9kZUZcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gW2xvd2VzdCwgdGhpcy5vcGVuW2xvd2VzdF1dXHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGluT3Blbkxpc3QocG9zOiBDb29yZGluYXRlKTogW251bWJlciwgUGF0aEZpbmRlck5vZGUgfCB1bmRlZmluZWRdIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5vcGVuLmZpbmRJbmRleChub2RlID0+IChub2RlLnBvcy54ID09PSBwb3MueCAmJiBub2RlLnBvcy55ID09PSBwb3MueSkpXHJcbiAgICByZXR1cm4gW2luZGV4LCB0aGlzLm9wZW5baW5kZXhdXVxyXG4gIH1cclxuICBwcml2YXRlIGluQ2xvc2VkTGlzdChwb3M6IENvb3JkaW5hdGUpOiBbbnVtYmVyLCBQYXRoRmluZGVyTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmNsb3NlZC5maW5kSW5kZXgobm9kZSA9PiAobm9kZS5wb3MueCA9PT0gcG9zLnggJiYgbm9kZS5wb3MueSA9PT0gcG9zLnkpKVxyXG4gICAgcmV0dXJuIFtpbmRleCwgdGhpcy5jbG9zZWRbaW5kZXhdXVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGF0aEZpbmRlck5vZGUge1xyXG4gIHB1YmxpYyBkaXN0YW5jZUZyb21TdGFydDogbnVtYmVyID0gMFxyXG4gIHB1YmxpYyBwYXJlbnROb2RlOiBQYXRoRmluZGVyTm9kZSB8IG51bGwgPSBudWxsXHJcbiAgcHVibGljIGxpbmVEcmF3ZXI6IFBhdGhGaW5kZXJOb2RlTGluZURyYXdlclxyXG4gIHB1YmxpYyBib3hEcmF3ZXI6IFBhdGhGaW5kZXJOb2RlQm94RHJhd2VyXHJcblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWUgPSAwXHJcbiAgXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFBhdGhGaW5kZXIsIF9wb3M6IENvb3JkaW5hdGUpe1xyXG4gICAgdGhpcy5wb3MgPSB7Li4uX3Bvc31cclxuICAgIFxyXG4gICAgdGhpcy5saW5lRHJhd2VyID0gbmV3IFBhdGhGaW5kZXJOb2RlTGluZURyYXdlcih0aGlzKVxyXG4gICAgdGhpcy5ib3hEcmF3ZXIgPSBuZXcgUGF0aEZpbmRlck5vZGVCb3hEcmF3ZXIodGhpcylcclxuICB9XHJcblxyXG4gIHB1YmxpYyBjYWxjdWxhdGVGKGVuZFBvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgY29uc3QgZGlzdGFuY2VWZWN0b3IgPSB7XHJcbiAgICAgIHg6IChlbmRQb3MueCAtIHRoaXMucG9zLngpLFxyXG4gICAgICB5OiAoZW5kUG9zLnkgLSB0aGlzLnBvcy55KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRpc3RhbmNlRXN0aW1hdGVTcXVhcmVkID0gZGlzdGFuY2VWZWN0b3IueCAqIGRpc3RhbmNlVmVjdG9yLnggKyBkaXN0YW5jZVZlY3Rvci55ICogZGlzdGFuY2VWZWN0b3IueVxyXG4gICAgY29uc3QgZGlzdGFuY2VFc3RpbWF0ZSA9IE1hdGguc3FydChkaXN0YW5jZUVzdGltYXRlU3F1YXJlZClcclxuICAgIHJldHVybiB0aGlzLmRpc3RhbmNlRnJvbVN0YXJ0ICsgZGlzdGFuY2VFc3RpbWF0ZVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXdMaW5lKGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgdGhpcy5saW5lRHJhd2VyLmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhd0JveChkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNvbG9yOiB7IHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIgfSkge1xyXG4gICAgdGhpcy5ib3hEcmF3ZXIuZHJhdyhkZWx0YVRpbWUsIGN0eCwgY29sb3IpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXRoRmluZGVyTm9kZUxpbmVEcmF3ZXIge1xyXG4gIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwXHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFBhdGhGaW5kZXJOb2RlKXtcclxuICAgIFxyXG4gIH1cclxuICBcclxuICB0cmFjZShkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGlmKHRoaXMucGFyZW50ID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHRoaXMucGFyZW50LnBhcmVudE5vZGUgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGNvbnN0IG5leHRQb3MgPSB0aGlzLnBhcmVudC5wYXJlbnROb2RlLnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LnBhcmVudC5ib2FyZC5zcXVhcmVTaXplXHJcbiAgICBjb25zdCBhbmltYXRpb25UaW1lID0gTWF0aC5tYXgodGhpcy5wYXJlbnQucGFyZW50Lm1heFN0ZXAgLSB0aGlzLnBhcmVudC5wYXJlbnQuc3RlcEludGVydmFsLCAwLjAxKVxyXG5cclxuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBNYXRoLm1pbihhbmltYXRpb25UaW1lLCB0aGlzLmFuaW1hdGlvbkZyYW1lKVxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyBhbmltYXRpb25UaW1lXHJcblxyXG4gICAgY3R4LmxpbmVUbyhcclxuICAgICAgKCgxLWFuaW1hdGlvbk11bHRpcGxpZXIpKnRoaXMucGFyZW50LnBvcy54ICsgbmV4dFBvcy54ICogYW5pbWF0aW9uTXVsdGlwbGllcikgKiBzcXVhcmVTaXplICsgc3F1YXJlU2l6ZS8yLCBcclxuICAgICAgKCgxLWFuaW1hdGlvbk11bHRpcGxpZXIpKnRoaXMucGFyZW50LnBvcy55ICsgbmV4dFBvcy55ICogYW5pbWF0aW9uTXVsdGlwbGllcikgKiBzcXVhcmVTaXplICsgc3F1YXJlU2l6ZS8yXHJcbiAgICApXHJcblxyXG4gICAgaWYodGhpcy5hbmltYXRpb25GcmFtZSA8IGFuaW1hdGlvblRpbWUpIHtcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgIHRoaXMucGFyZW50LnBhcmVudE5vZGUubGluZURyYXdlci50cmFjZShkZWx0YVRpbWUsIGN0eClcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5wYXJlbnQucGFyZW50XHJcbiAgICBjb25zdCBzcXVhcmVTaXplID0gcGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuXHJcbiAgICBpZih0aGlzLnBhcmVudC5wYXJlbnROb2RlID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgY3R4LmJlZ2luUGF0aCgpXHJcblxyXG4gICAgY3R4Lm1vdmVUbyhcclxuICAgICAgdGhpcy5wYXJlbnQucG9zLnggKiBzcXVhcmVTaXplICsgc3F1YXJlU2l6ZS8yLCBcclxuICAgICAgdGhpcy5wYXJlbnQucG9zLnkgKiBzcXVhcmVTaXplICsgc3F1YXJlU2l6ZS8yXHJcbiAgICApXHJcblxyXG4gICAgdGhpcy5wYXJlbnQubGluZURyYXdlci50cmFjZShkZWx0YVRpbWUsIGN0eClcclxuICAgIGN0eC5zdHJva2UoKVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgUGF0aEZpbmRlck5vZGVCb3hEcmF3ZXIge1xyXG4gIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwXHJcbiAgZmFsbERvd25UaW1lOiBudW1iZXIgPSAxMDBcclxuICBhbmltYXRpb25UaW1lOiBudW1iZXIgPSAxMDAwXHJcblxyXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBwYXJlbnQ6IFBhdGhGaW5kZXJOb2RlKXtcclxuXHJcbiAgfVxyXG5cclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY29sb3I6IHsgcjogbnVtYmVyLCBnOiBudW1iZXIsIGI6IG51bWJlcn0pIHtcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5wYXJlbnQuYm9hcmQuc3F1YXJlU2l6ZVxyXG4gICAgY29uc3QgcG9zID0gdGhpcy5wYXJlbnQucG9zXHJcblxyXG4gICAgaWYodGhpcy5hbmltYXRpb25GcmFtZSA8IHRoaXMuYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTWF0aC5taW4odGhpcy5hbmltYXRpb25GcmFtZSwgdGhpcy5hbmltYXRpb25UaW1lKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZhbGxEb3duTXVsdGlwbGllciA9IE1hdGgubWluKDEsIHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmZhbGxEb3duVGltZSlcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcblxyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGByZ2JhKCR7Y29sb3Iucn0sICR7Y29sb3IuZ30sICR7Y29sb3IuYn0sICR7MS4yLWFuaW1hdGlvbk11bHRpcGxpZXJ9YFxyXG4gICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICBwb3MueCAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1mYWxsRG93bk11bHRpcGxpZXIpKSxcclxuICAgICAgcG9zLnkgKiBzcXVhcmVTaXplIC0gKChzcXVhcmVTaXplLzQpICogKDEtZmFsbERvd25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHNxdWFyZVNpemUsXHJcbiAgICAgIHNxdWFyZVNpemVcclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRcIlxyXG5pbXBvcnQgeyBDb29yZGluYXRlIH0gZnJvbSBcIi4uL2dhbWVcIlxyXG5pbXBvcnQgU3RhcnRQb2ludCBmcm9tIFwiLi9ub2Rlcy9zdGFydHBvaW50XCJcclxuaW1wb3J0IFBhdGhGaW5kZXIgZnJvbSBcIi4vcGF0aEZpbmRlclwiXHJcblxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE5vZGUge1xyXG4gIGFic3RyYWN0IHR5cGU6IHN0cmluZ1xyXG4gIGFic3RyYWN0IHBvczogQ29vcmRpbmF0ZVxyXG4gIHB1YmxpYyBzdGVwTXVsdGlwbGllcjogbnVtYmVyXHJcbiAgcHVibGljIGJvYXJkOiBCb2FyZCB8IG51bGwgPSBudWxsXHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5zdGVwTXVsdGlwbGllciA9IEluZmluaXR5XHJcbiAgfVxyXG5cclxuICBlbnRlcihfYm9hcmQ6IEJvYXJkKTogdm9pZCB7XHJcbiAgICB0aGlzLmJvYXJkID0gX2JvYXJkXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYWJzdHJhY3QgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEJvYXJkIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBib2FyZExpbmVzOiBCb2FyZExpbmVbXSA9IFtdXHJcblxyXG4gIG5vZGVzOiBOb2RlW10gPSBbXVxyXG4gIHBhdGhGaW5kZXI6IFBhdGhGaW5kZXJcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHNpemU6IENvb3JkaW5hdGUsIHJlYWRvbmx5IHNxdWFyZVNpemU6IG51bWJlcikge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMuYWRkTGluZXMoKVxyXG4gICAgdGhpcy5wYXRoRmluZGVyID0gbmV3IFBhdGhGaW5kZXIodGhpcywgPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlZC1zZWxlY3RvcicpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRMaW5lcygpIHtcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5zaXplLnggKyAxOyB4KyspIHtcclxuICAgICAgdGhpcy5ib2FyZExpbmVzLnB1c2gobmV3IEJvYXJkTGluZSh7XHJcbiAgICAgICAgeDogeCAqIHRoaXMuc3F1YXJlU2l6ZSxcclxuICAgICAgICB5OiAwXHJcbiAgICAgIH0sIHtcclxuICAgICAgICB4OiB4ICogdGhpcy5zcXVhcmVTaXplLFxyXG4gICAgICAgIHk6IHRoaXMuc2l6ZS55ICogdGhpcy5zcXVhcmVTaXplXHJcbiAgICAgIH0pKVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNpemUueSArIDE7IHkrKykge1xyXG4gICAgICB0aGlzLmJvYXJkTGluZXMucHVzaChuZXcgQm9hcmRMaW5lKHtcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IHkgKiB0aGlzLnNxdWFyZVNpemUsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICB4OiB0aGlzLnNpemUueCAqIHRoaXMuc3F1YXJlU2l6ZSxcclxuICAgICAgICB5OiB5ICogdGhpcy5zcXVhcmVTaXplXHJcbiAgICAgIH0pKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZE5vZGUobm9kZTogTm9kZSkge1xyXG4gICAgY29uc3QgW2luZGV4XSA9IHRoaXMuZ2V0Tm9kZShub2RlLnBvcylcclxuICAgIGlmKGluZGV4ID49IDApIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5pc091dE9mQm91bmRzKG5vZGUucG9zKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBub2RlLmVudGVyKHRoaXMpXHJcblxyXG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Tm9kZShwb3M6IENvb3JkaW5hdGUpOiBbbnVtYmVyLCBOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMuZmluZEluZGV4KG5vZGUgPT4gKG5vZGUucG9zLnggPT09IHBvcy54ICYmIG5vZGUucG9zLnkgPT09IHBvcy55KSlcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMubm9kZXNbaW5kZXhdXVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzT3V0T2ZCb3VuZHMocG9zOiBDb29yZGluYXRlKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gcG9zLnggPj0gdGhpcy5zaXplLnggfHwgcG9zLnggPCAwIHx8IHBvcy55ID49IHRoaXMuc2l6ZS55IHx8IHBvcy55IDwgMFxyXG4gIH1cclxuXHJcbiAgcHVibGljIGZpbmRTdGFydE5vZGUoKTogW251bWJlciwgTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUudHlwZSA9PT0gJ3N0YXJ0JylcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMubm9kZXNbaW5kZXhdXVxyXG4gIH1cclxuICBwdWJsaWMgZmluZEVuZE5vZGUoKTogW251bWJlciwgTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUudHlwZSA9PT0gJ2VuZCcpXHJcbiAgICByZXR1cm4gW2luZGV4LCB0aGlzLm5vZGVzW2luZGV4XV1cclxuICB9XHJcblxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICB0aGlzLnBhdGhGaW5kZXIuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICAgIHRoaXMuYm9hcmRMaW5lcy5mb3JFYWNoKGxpbmUgPT4gbGluZS5kcmF3KGRlbHRhVGltZSwgY3R4KSlcclxuICAgIHRoaXMubm9kZXMuZm9yRWFjaChub2RlID0+IG5vZGUuZHJhdyhkZWx0YVRpbWUsIGN0eCkpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBCb2FyZExpbmUge1xyXG4gIC8vIEFuaW1hdGlvblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBwcml2YXRlIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMDBcclxuXHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgZnJvbTogQ29vcmRpbmF0ZSwgcmVhZG9ubHkgdG86IENvb3JkaW5hdGUpIHtcclxuICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IE1hdGgucmFuZG9tKCkgKiAxMzAwICsgMjAwXHJcbiAgfVxyXG5cclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgaWYodGhpcy5hbmltYXRpb25GcmFtZSA8IHRoaXMuYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTWF0aC5taW4odGhpcy5hbmltYXRpb25UaW1lLCB0aGlzLmFuaW1hdGlvbkZyYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcblxyXG4gICAgLy8gc3R5bGluZ1xyXG4gICAgY3R4LmxpbmVXaWR0aD0xXHJcbiAgICBjdHguc3Ryb2tlU3R5bGU9YHJnYmEoMCwgMCwgMCwgJHthbmltYXRpb25NdWx0aXBsaWVyICogMC41fSlgXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuXHJcbiAgICBjdHgubW92ZVRvKHRoaXMuZnJvbS54LCB0aGlzLmZyb20ueSlcclxuICAgIGN0eC5saW5lVG8oXHJcbiAgICAgICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpICogdGhpcy5mcm9tLnggKyBhbmltYXRpb25NdWx0aXBsaWVyICogdGhpcy50by54LFxyXG4gICAgICAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSAqIHRoaXMuZnJvbS55ICsgYW5pbWF0aW9uTXVsdGlwbGllciAqIHRoaXMudG8ueVxyXG4gICAgKVxyXG5cclxuICAgIGN0eC5zdHJva2UoKVxyXG4gIH1cclxufSIsImltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi9ib2FyZCdcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2dhbWUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsIGV4dGVuZHMgTm9kZSB7XHJcbiAgdHlwZTogc3RyaW5nID0gJ3dhbGwnXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcbiAgYW5pbWF0b3I6IFdhbGxBbmltYXRpb25cclxuXHJcbiAgY29uc3RydWN0b3IoX3BvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMucG9zID0gX3Bvc1xyXG4gICAgdGhpcy5hbmltYXRvciA9IG5ldyBXYWxsQW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5pbWF0b3IuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFdhbGxBbmltYXRpb24ge1xyXG4gIC8vIEFuaW1hdGlvblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBwcml2YXRlIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogV2FsbCkge1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLnBhcmVudC5ib2FyZCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZih0aGlzLmFuaW1hdGlvbkZyYW1lIDwgdGhpcy5hbmltYXRpb25UaW1lKSB7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgKz0gZGVsdGFUaW1lXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBNYXRoLm1pbih0aGlzLmFuaW1hdGlvblRpbWUsIHRoaXMuYW5pbWF0aW9uRnJhbWUpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcbiAgICBjb25zdCBwb3MgPSB0aGlzLnBhcmVudC5wb3NcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5ib2FyZC5zcXVhcmVTaXplXHJcbiAgICBcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snXHJcblxyXG4gICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICBwb3MueCAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHBvcy55ICogc3F1YXJlU2l6ZSAtICgoc3F1YXJlU2l6ZS80KSAqICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpKSxcclxuICAgICAgc3F1YXJlU2l6ZSxcclxuICAgICAgc3F1YXJlU2l6ZVxyXG4gICAgKVxyXG4gIH1cclxufSIsImltcG9ydCBCb2FyZCwgeyBOb2RlIH0gZnJvbSAnLi4vYm9hcmQnXHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9nYW1lJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhcnRQb2ludCBleHRlbmRzIE5vZGUge1xyXG4gIHR5cGU6IHN0cmluZyA9ICdzdGFydCdcclxuICBwb3M6IENvb3JkaW5hdGVcclxuICBhbmltYXRvcjogU3RhcnRQb2ludEFuaW1hdGlvblxyXG5cclxuICBjb25zdHJ1Y3RvcihfcG9zOiBDb29yZGluYXRlKSB7XHJcbiAgICBzdXBlcigpXHJcblxyXG4gICAgdGhpcy5zdGVwTXVsdGlwbGllciA9IDFcclxuICAgIHRoaXMucG9zID0gX3Bvc1xyXG4gICAgdGhpcy5hbmltYXRvciA9IG5ldyBTdGFydFBvaW50QW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBlbnRlcihfYm9hcmQ6IEJvYXJkKSB7XHJcbiAgICB0aGlzLmJvYXJkID0gX2JvYXJkXHJcblxyXG4gICAgLy8gcmVtb3ZlIGFueSBvdGhlciBzdGFydCBwb2ludHNcclxuICAgIGNvbnN0IFtpbmRleF0gPSB0aGlzLmJvYXJkLmZpbmRTdGFydE5vZGUoKVxyXG4gICAgaWYoaW5kZXggPj0gMCkge1xyXG4gICAgICB0aGlzLmJvYXJkLm5vZGVzLnNwbGljZShpbmRleCwgMSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgdGhpcy5hbmltYXRvci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgU3RhcnRQb2ludEFuaW1hdGlvbiB7XHJcbiAgLy8gQW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gNDAwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogU3RhcnRQb2ludCkge1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLnBhcmVudC5ib2FyZCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSAlPSB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdncmVlbidcclxuICAgIGN0eC5saW5lV2lkdGggPSAxXHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snXHJcblxyXG4gICAgY29uc3QgcG9zSW5TcXVhcmVUb1dvcmxkID0gKF9wb3M6IENvb3JkaW5hdGUpOiBDb29yZGluYXRlID0+ICh7XHJcbiAgICAgIHg6IChfcG9zLnggKyBwb3MueCkgKiBzcXVhcmVTaXplLFxyXG4gICAgICB5OiAoX3Bvcy55ICsgcG9zLnkpICogc3F1YXJlU2l6ZVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBwYXRoOiBDb29yZGluYXRlW10gPSBbXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjggfSxcclxuICAgICAgeyB4OiAwLjYsIHk6IDAuOCB9LFxyXG4gICAgICB7IHg6IDAuNiwgeTogMC4yIH0sXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjIgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuMjUgfSxcclxuICAgICAgeyB4OiAwLjIgKyAoMC4xICogTWF0aC5zaW4oYW5pbWF0aW9uTXVsdGlwbGllciAqIE1hdGguUEkgKiAyKSksIHk6IDAuNCArICgwLjA1ICogTWF0aC5hYnMoTWF0aC5jb3MoYW5pbWF0aW9uTXVsdGlwbGllciAqIE1hdGguUEkgKiAyKSkpIH0sXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjU1IH1cclxuICAgIF1cclxuICAgIGNvbnN0IHdvcmxkUGF0aCA9IHBhdGgubWFwKHBvaW50ID0+IHBvc0luU3F1YXJlVG9Xb3JsZChwb2ludCkpXHJcblxyXG4gICAgY3R4LmJlZ2luUGF0aCgpXHJcbiAgICBjdHgubW92ZVRvKHdvcmxkUGF0aFswXS54LCB3b3JsZFBhdGhbMF0ueSlcclxuICAgIHdvcmxkUGF0aC5mb3JFYWNoKHBvaW50ID0+IHtcclxuICAgICAgY3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KVxyXG4gICAgfSlcclxuICAgIGN0eC5jbG9zZVBhdGgoKVxyXG4gICAgY3R4LmZpbGwoKVxyXG4gICAgY3R4LnN0cm9rZSgpXHJcbiAgfVxyXG59IiwiaW1wb3J0IEJvYXJkLCB7IE5vZGUgfSBmcm9tICcuLi9ib2FyZCdcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2dhbWUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmRQb2ludCBleHRlbmRzIE5vZGUge1xyXG4gIHR5cGU6IHN0cmluZyA9ICdlbmQnXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcbiAgYW5pbWF0b3I6IEVuZFBvaW50QW5pbWF0aW9uXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9wb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIHN1cGVyKClcclxuXHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gMVxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IEVuZFBvaW50QW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBlbnRlcihfYm9hcmQ6IEJvYXJkKSB7XHJcbiAgICB0aGlzLmJvYXJkID0gX2JvYXJkXHJcblxyXG4gICAgLy8gcmVtb3ZlIGFueSBvdGhlciBlbmQgcG9pbnRzXHJcbiAgICBjb25zdCBbaW5kZXhdID0gdGhpcy5ib2FyZC5maW5kRW5kTm9kZSgpXHJcbiAgICBpZihpbmRleCA+PSAwKSB7XHJcbiAgICAgIHRoaXMuYm9hcmQubm9kZXMuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICB0aGlzLmFuaW1hdG9yLmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBFbmRQb2ludEFuaW1hdGlvbiB7XHJcbiAgLy8gQW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gNDAwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogRW5kUG9pbnQpIHtcclxuICAgIFxyXG4gIH1cclxuICBcclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgaWYodGhpcy5wYXJlbnQuYm9hcmQgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgJT0gdGhpcy5hbmltYXRpb25UaW1lXHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcbiAgICBjb25zdCBwb3MgPSB0aGlzLnBhcmVudC5wb3NcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5ib2FyZC5zcXVhcmVTaXplXHJcbiAgICBcclxuICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJ1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDFcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibGFjaydcclxuXHJcbiAgICBjb25zdCBwb3NJblNxdWFyZVRvV29ybGQgPSAoX3BvczogQ29vcmRpbmF0ZSk6IENvb3JkaW5hdGUgPT4gKHtcclxuICAgICAgeDogKF9wb3MueCArIHBvcy54KSAqIHNxdWFyZVNpemUsXHJcbiAgICAgIHk6IChfcG9zLnkgKyBwb3MueSkgKiBzcXVhcmVTaXplXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHBhdGg6IENvb3JkaW5hdGVbXSA9IFtcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuOCB9LFxyXG4gICAgICB7IHg6IDAuNiwgeTogMC44IH0sXHJcbiAgICAgIHsgeDogMC42LCB5OiAwLjIgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuMiB9LFxyXG4gICAgICB7IHg6IDAuNCwgeTogMC4yNSB9LFxyXG4gICAgICB7IHg6IDAuMiArICgwLjEgKiBNYXRoLnNpbihhbmltYXRpb25NdWx0aXBsaWVyICogTWF0aC5QSSAqIDIpKSwgeTogMC40ICsgKDAuMDUgKiBNYXRoLmFicyhNYXRoLmNvcyhhbmltYXRpb25NdWx0aXBsaWVyICogTWF0aC5QSSAqIDIpKSkgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuNTUgfVxyXG4gICAgXVxyXG4gICAgY29uc3Qgd29ybGRQYXRoID0gcGF0aC5tYXAocG9pbnQgPT4gcG9zSW5TcXVhcmVUb1dvcmxkKHBvaW50KSlcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuICAgIGN0eC5tb3ZlVG8od29ybGRQYXRoWzBdLngsIHdvcmxkUGF0aFswXS55KVxyXG4gICAgd29ybGRQYXRoLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICBjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpXHJcbiAgICB9KVxyXG4gICAgY3R4LmNsb3NlUGF0aCgpXHJcbiAgICBjdHguZmlsbCgpXHJcbiAgICBjdHguc3Ryb2tlKClcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi4vYm9hcmQnXHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9nYW1lJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2F0ZXIgZXh0ZW5kcyBOb2RlIHtcclxuICB0eXBlOiBzdHJpbmcgPSAnd2F0ZXInXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcbiAgYW5pbWF0b3I6IFdhdGVyQW5pbWF0aW9uXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9wb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIHN1cGVyKClcclxuXHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gNFxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IFdhdGVyQW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5pbWF0b3IuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFdhdGVyQW5pbWF0aW9uIHtcclxuICAvLyBBbmltYXRpb25cclxuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25UaW1lOiBudW1iZXIgPSAxMDBcclxuICBcclxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBwYXJlbnQ6IFdhdGVyKSB7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGlmKHRoaXMucGFyZW50LmJvYXJkID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHRoaXMuYW5pbWF0aW9uRnJhbWUgPCB0aGlzLmFuaW1hdGlvblRpbWUpIHtcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IE1hdGgubWluKHRoaXMuYW5pbWF0aW9uVGltZSwgdGhpcy5hbmltYXRpb25GcmFtZSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDEwMCwgMTUwLCAwLjYpJ1xyXG5cclxuICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgcG9zLnggKiBzcXVhcmVTaXplIC0gKChzcXVhcmVTaXplLzQpICogKDEtYW5pbWF0aW9uTXVsdGlwbGllcikpLFxyXG4gICAgICBwb3MueSAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHNxdWFyZVNpemUsXHJcbiAgICAgIHNxdWFyZVNpemVcclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi4vYm9hcmQnXHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9nYW1lJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXVkIGV4dGVuZHMgTm9kZSB7XHJcbiAgdHlwZTogc3RyaW5nID0gJ211ZCdcclxuICBwb3M6IENvb3JkaW5hdGVcclxuICBhbmltYXRvcjogTXVkQW5pbWF0aW9uXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9wb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIHN1cGVyKClcclxuXHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gOFxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IE11ZEFuaW1hdGlvbih0aGlzKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICB0aGlzLmFuaW1hdG9yLmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBNdWRBbmltYXRpb24ge1xyXG4gIC8vIEFuaW1hdGlvblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBwcml2YXRlIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogTXVkKSB7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGlmKHRoaXMucGFyZW50LmJvYXJkID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHRoaXMuYW5pbWF0aW9uRnJhbWUgPCB0aGlzLmFuaW1hdGlvblRpbWUpIHtcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IE1hdGgubWluKHRoaXMuYW5pbWF0aW9uVGltZSwgdGhpcy5hbmltYXRpb25GcmFtZSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDEwMSwgNjcsIDQyLCAwLjgpJ1xyXG5cclxuICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgcG9zLnggKiBzcXVhcmVTaXplIC0gKChzcXVhcmVTaXplLzQpICogKDEtYW5pbWF0aW9uTXVsdGlwbGllcikpLFxyXG4gICAgICBwb3MueSAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHNxdWFyZVNpemUsXHJcbiAgICAgIHNxdWFyZVNpemVcclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgQm9hcmQsIHsgTm9kZSB9IGZyb20gXCIuL2JvYXJkXCJcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi9nYW1lXCJcclxuaW1wb3J0IFdhbGwgZnJvbSBcIi4vbm9kZXMvd2FsbFwiXHJcbmltcG9ydCBTdGFydFBvaW50IGZyb20gXCIuL25vZGVzL3N0YXJ0cG9pbnRcIlxyXG5pbXBvcnQgRW5kUG9pbnQgZnJvbSBcIi4vbm9kZXMvZW5kcG9pbnRcIlxyXG5pbXBvcnQgV2F0ZXIgZnJvbSBcIi4vbm9kZXMvd2F0ZXJcIlxyXG5pbXBvcnQgTXVkIGZyb20gXCIuL25vZGVzL211ZFwiXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmRMb2dpYyBleHRlbmRzIEJvYXJkIHtcclxuICBmYWN0b3JpZXM6IHsgW2tleTogc3RyaW5nXTogeyBsYWJlbDogc3RyaW5nLCBmYWN0b3J5OiAocG9zOiBDb29yZGluYXRlKSA9PiBOb2RlIH0gfVxyXG4gIGN1cnJlbnRLZXk6IHN0cmluZyA9ICcnXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9zaXplOiBDb29yZGluYXRlLCBfc3F1YXJlU2l6ZTogbnVtYmVyKSB7XHJcbiAgICBzdXBlcihfc2l6ZSwgX3NxdWFyZVNpemUpXHJcblxyXG5cclxuICAgIHRoaXMuZmFjdG9yaWVzID0ge1xyXG4gICAgICBzdGFydDogeyBsYWJlbDogJ1N0YXJ0IFBvaW50JywgZmFjdG9yeTogcG9zaXRpb24gPT4gbmV3IFN0YXJ0UG9pbnQocG9zaXRpb24pIH0sXHJcbiAgICAgIGVuZDogeyBsYWJlbDogJ0VuZCBQb2ludCcsIGZhY3Rvcnk6IHBvc2l0aW9uID0+IG5ldyBFbmRQb2ludChwb3NpdGlvbikgfSxcclxuICAgICAgd2FsbDogeyBsYWJlbDogJ1dhbGwnLCBmYWN0b3J5OiBwb3NpdGlvbiA9PiBuZXcgV2FsbChwb3NpdGlvbikgfSxcclxuICAgICAgd2F0ZXI6IHsgbGFiZWw6ICdXYXRlcicsIGZhY3Rvcnk6IHBvc2l0aW9uID0+IG5ldyBXYXRlcihwb3NpdGlvbikgfSxcclxuICAgICAgbXVkOiB7IGxhYmVsOiAnTXVkJywgZmFjdG9yeTogcG9zaXRpb24gPT4gbmV3IE11ZChwb3NpdGlvbikgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCB0b1BsYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvcGxhY2Utc2VsZWN0b3InKVxyXG4gICAgaWYodG9QbGFjZSAhPSBudWxsKXtcclxuICAgICAgZm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5mYWN0b3JpZXMpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICAgICAgICBuZXdFbGVtZW50LnR5cGUgPSAncmFkaW8nXHJcbiAgICAgICAgbmV3RWxlbWVudC5uYW1lID0gJ3RvcGxhY2UnXHJcbiAgICAgICAgbmV3RWxlbWVudC5pZCA9ICd0b3BsYWNlLScgKyBrZXlcclxuICAgICAgICBuZXdFbGVtZW50LmNsYXNzTmFtZSA9ICdjdXN0b20tY29udHJvbC1pbnB1dCdcclxuICAgICAgICBuZXdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY3VycmVudEtleSA9IGtleVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxyXG4gICAgICAgIGxhYmVsRWxlbWVudC5jbGFzc05hbWUgPSAnY3VzdG9tLWNvbnRyb2wtbGFiZWwnXHJcbiAgICAgICAgbGFiZWxFbGVtZW50Lmh0bWxGb3IgPSAndG9wbGFjZS0nICsga2V5XHJcbiAgICAgICAgbGFiZWxFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuZmFjdG9yaWVzW2tleV0ubGFiZWxcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW8nXHJcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChuZXdFbGVtZW50KVxyXG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KVxyXG4gIFxyXG4gICAgICAgIHRvUGxhY2UuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uQ2xpY2soZTogTW91c2VFdmVudCkge1xyXG4gICAgY29uc3QgcG9zaXRpb246IENvb3JkaW5hdGUgPSB7XHJcbiAgICAgIHg6IE1hdGguZmxvb3IoZS5vZmZzZXRYL3RoaXMuc3F1YXJlU2l6ZSksXHJcbiAgICAgIHk6IE1hdGguZmxvb3IoZS5vZmZzZXRZL3RoaXMuc3F1YXJlU2l6ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZighKHRoaXMuY3VycmVudEtleSBpbiB0aGlzLmZhY3RvcmllcykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN3aXRjaChlLmJ1dHRvbnMpIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLmZhY3Rvcmllc1t0aGlzLmN1cnJlbnRLZXldLmZhY3RvcnkocG9zaXRpb24pKVxyXG4gICAgICAgIHRoaXMucGF0aEZpbmRlci5zdGFydCgpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShwb3NpdGlvbilcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVOb2RlKHBvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgY29uc3QgW2luZGV4XSA9IHRoaXMuZ2V0Tm9kZShwb3MpXHJcbiAgICBpZihpbmRleCA9PT0gLTEpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ub2Rlcy5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgfVxyXG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgcHVibGljIGFic3RyYWN0IGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZDtcclxufSIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29tcG9uZW50XCI7XHJcbmltcG9ydCBCb2FyZExvZ2ljIGZyb20gXCIuL2NvbXBvbmVudHMvYm9hcmRMb2dpY1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XHJcbiAgY29tcG9uZW50czogQ29tcG9uZW50W10gPSBbXVxyXG4gIGxhc3RUaW1lOiBudW1iZXIgPSAwXHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSAzMlxyXG5cclxuICAgIGNvbnN0IGJvYXJkID0gbmV3IEJvYXJkTG9naWMoXHJcbiAgICAgIHt4OiBjdHguY2FudmFzLndpZHRoIC8gc3F1YXJlU2l6ZSwgeTogY3R4LmNhbnZhcy5oZWlnaHQgLyBzcXVhcmVTaXplfSxcclxuICAgICAgc3F1YXJlU2l6ZVxyXG4gICAgKVxyXG5cclxuICAgIGN0eC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCkgfSlcclxuXHJcbiAgICBjdHguY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGJvYXJkLm9uQ2xpY2suYmluZChib2FyZCkpXHJcbiAgICBjdHguY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGJvYXJkLm9uQ2xpY2suYmluZChib2FyZCkpXHJcbiAgICBcclxuXHJcbiAgICB0aGlzLmFkZENvbXBvbmVudChib2FyZClcclxuICB9XHJcblxyXG4gIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCkge1xyXG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KVxyXG4gIH1cclxuXHJcbiAgZHJhdyh0aW1lOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4XHJcblxyXG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGltZS10aGlzLmxhc3RUaW1lXHJcblxyXG4gICAgLy8gQ2xlYXJcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnXHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpXHJcblxyXG4gICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcclxuICAgICAgY29tcG9uZW50LmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMubGFzdFRpbWU9IHRpbWVcclxuICB9XHJcbn0iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVyXCJcclxuXHJcbmNvbnN0IGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKVxyXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG5cclxuaWYoY3R4ICE9IG51bGwpIHtcclxuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcclxuICBjb25zdCBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoY3R4KVxyXG5cclxuICBjb25zdCB1cGRhdGUgPSAodGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICBjb250cm9sbGVyLmRyYXcodGltZSlcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKDApXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9