!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);class s{constructor(t){this.directions=[[!0,!0,!0],[!0,!1,!0],[!0,!0,!0]],this.squareSize=40;const e=document.createElement("canvas");e.width=3*this.squareSize,e.height=3*this.squareSize,t.appendChild(e),e.addEventListener("mousedown",this.onClick.bind(this)),this.canvas=e,this.drawer=new n(this),this.drawer.draw()}onClick(t){const e=Math.floor(t.offsetX/this.squareSize),i=Math.floor(t.offsetY/this.squareSize);1===e&&1===i||(this.directions[i][e]=!this.directions[i][e],this.drawer.draw(),console.log(this))}getDirections(){let t=[];for(let e=0;e<3;e++)for(let i=0;i<3;i++)this.directions[i][e]&&t.push({x:e-1,y:i-1});return t}}class n{constructor(t){this.parent=t,this.ctx=t.canvas.getContext("2d")}draw(){const t=this.ctx;t.fillStyle="white",t.fillRect(0,0,t.canvas.width,t.canvas.height),t.beginPath(),t.strokeStyle="black",t.lineWidth=1;for(let e=0;e<4;e++)t.moveTo(e*this.parent.squareSize,0),t.lineTo(e*this.parent.squareSize,t.canvas.height);for(let e=0;e<4;e++)t.moveTo(0,e*this.parent.squareSize),t.lineTo(t.canvas.width,e*this.parent.squareSize);t.stroke(),t.fillStyle="blue",t.beginPath(),t.arc(t.canvas.width/2,t.canvas.height/2,this.parent.squareSize/3,0,360),t.fill(),this.parent.getDirections().forEach(e=>{const i={x:t.canvas.width/2+e.x*this.parent.squareSize,y:t.canvas.height/2+e.y*this.parent.squareSize};t.fillStyle="red",t.beginPath(),t.arc(i.x,i.y,this.parent.squareSize/4,0,360),t.fill()})}}var a=function(t,e,i,s){return new(i||(i=Promise))((function(n,a){function r(t){try{h(s.next(t))}catch(t){a(t)}}function o(t){try{h(s.throw(t))}catch(t){a(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,o)}h((s=s.apply(t,e||[])).next())}))};class r{constructor(t,e){this.board=t,this.maxStep=100,this.minStep=0,this.stepInterval=50,this.open=[],this.closed=[],this.endNode=null,this.breakAll=null,this.possibleMoves=new s(document.getElementById("possible-moves-selector"));const i=document.createElement("input");i.type="range",i.className="custom-range",i.min=String(this.minStep),i.max=String(this.maxStep),i.value=String(this.stepInterval),i.addEventListener("change",t=>{this.stepInterval=+t.target.value});const n=document.createElement("label");n.innerHTML="Speed",n.appendChild(i),e.appendChild(n)}start(){this.calculate().then(t=>this.endNode=t)}draw(t,e){e.lineWidth=this.board.squareSize/4,e.lineCap="round",e.fillStyle="rgba(100, 100, 100, 0.2)",this.closed.forEach(i=>i.drawBox(t,e)),e.fillStyle="rgba(0, 32, 255, 0.2)",this.open.forEach(i=>i.drawBox(t,e)),e.strokeStyle="red",e.lineWidth=this.board.squareSize/3,null!=this.endNode&&this.endNode.drawLine(t,e)}calculate(){return a(this,void 0,void 0,(function*(){null!=this.breakAll&&this.breakAll();let t=!1;new Promise(t=>this.breakAll=t).then(()=>{t=!0});const[e,i]=this.board.findStartNode(),[s,n]=this.board.findEndNode();if(this.open=[],this.closed=[],this.endNode=null,null==i||null==n)return null;this.open.push(new o(this,i.pos));for(let e=0;e<1e3;e++){if(t)return null;yield new Promise(t=>setTimeout(t,this.maxStep-this.stepInterval));const[e,i]=this.lowestFInOpenList(n.pos);if(null==i)break;if(this.closed.push(i),this.open.splice(e,1),i.pos.x===n.pos.x&&i.pos.y===n.pos.y)return i;this.possibleMoves.getDirections().forEach(t=>{this.checkDirection(i,t)})}return this.breakAll=null,null}))}checkDirection(t,e){const i={x:e.x+t.pos.x,y:e.y+t.pos.y},[s,n]=this.board.getNode(i);if((null==n?void 0:n.stepMultiplier)===1/0)return;if(this.board.isOutOfBounds(i))return;if(null!=this.inClosedList(i)[1])return;const[a,r]=this.inOpenList(i);if(null!=r){if(!(t.distanceFromStart<r.distanceFromStart))return;this.open.splice(a,1)}const h=new o(this,i);h.parentNode=t;let l=t.distanceFromStart;return l+=null!=n?n.stepMultiplier:1,h.distanceFromStart=l,this.open.push(h),h}lowestFInOpenList(t){if(0===this.open.length)return[-1,void 0];let e=0,i=this.open[e].calculateF(t);return this.open.forEach((s,n)=>{const a=s.calculateF(t);a<i&&(e=n,i=a)}),[e,this.open[e]]}inOpenList(t){const e=this.open.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.open[e]]}inClosedList(t){const e=this.closed.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.closed[e]]}}class o{constructor(t,e){this.parent=t,this.distanceFromStart=0,this.parentNode=null,this.animationFrame=0,this.pos=Object.assign({},e),this.lineDrawer=new h(this),this.boxDrawer=new l(this)}calculateF(t){const e=Math.pow(t.x-this.pos.x,2)+Math.pow(t.y-this.pos.y,2);return Math.sqrt(e)+this.distanceFromStart}drawLine(t,e){this.lineDrawer.draw(t,e)}drawBox(t,e){this.boxDrawer.draw(t,e)}}class h{constructor(t){this.parent=t,this.animationFrame=0}trace(t,e){if(null==this.parent)return;if(null==this.parent.parentNode)return;const i=this.parent.parentNode.pos,s=this.parent.parent.board.squareSize,n=Math.max(this.parent.parent.maxStep-this.parent.parent.stepInterval,.01);this.animationFrame=Math.min(n,this.animationFrame);const a=this.animationFrame/n;e.lineTo(((1-a)*this.parent.pos.x+i.x*a)*s+s/2,((1-a)*this.parent.pos.y+i.y*a)*s+s/2),this.animationFrame<n?this.animationFrame+=t:this.parent.parentNode.lineDrawer.trace(t,e)}draw(t,e){const i=this.parent.parent.board.squareSize;null!=this.parent.parentNode&&(e.beginPath(),e.moveTo(this.parent.pos.x*i+i/2,this.parent.pos.y*i+i/2),this.parent.lineDrawer.trace(t,e),e.stroke())}}class l{constructor(t){this.parent=t,this.animationFrame=0,this.fallDownTime=100,this.animationTime=1e3}draw(t,e){const i=this.parent.parent.board.squareSize,s=this.parent.pos;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationFrame,this.animationTime));const n=Math.min(1,this.animationFrame/this.fallDownTime),a=this.animationFrame/this.animationTime;e.fillStyle="rgba(150, 0, 255, "+(1.2-a),e.fillRect(s.x*i-i/4*(1-n),s.y*i-i/4*(1-n),i,i)}}class c{constructor(){this.board=null,this.stepMultiplier=1/0}enter(t){this.board=t}}class d{constructor(t,e){this.from=t,this.to=e,this.animationFrame=0,this.animationTime=1e3,this.animationTime=1300*Math.random()+200}draw(t,e){this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime;e.lineWidth=1,e.strokeStyle=`rgba(0, 0, 0, ${.5*i})`,e.beginPath(),e.moveTo(this.from.x,this.from.y),e.lineTo((1-i)*this.from.x+i*this.to.x,(1-i)*this.from.y+i*this.to.y),e.stroke()}}class m extends c{constructor(t){super(),this.type="wall",this.pos=t,this.animator=new u(this)}draw(t,e){this.animator.draw(t,e)}}class u{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="black",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class p extends c{constructor(t){super(),this.type="start",this.stepMultiplier=1,this.pos=t,this.animator=new f(this)}enter(t){this.board=t;const[e]=this.board.findStartNode();e>=0&&this.board.nodes.splice(e,1)}draw(t,e){this.animator.draw(t,e)}}class f{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=4e3}draw(t,e){if(null==this.parent.board)return;this.animationFrame+=t,this.animationFrame%=this.animationTime;const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="green",e.lineWidth=1,e.strokeStyle="black";const a=[{x:.4,y:.8},{x:.6,y:.8},{x:.6,y:.2},{x:.4,y:.2},{x:.4,y:.25},{x:.2+.1*Math.sin(i*Math.PI*2),y:.4+.05*Math.abs(Math.cos(i*Math.PI*2))},{x:.4,y:.55}].map(t=>{return{x:((e=t).x+s.x)*n,y:(e.y+s.y)*n};var e});e.beginPath(),e.moveTo(a[0].x,a[0].y),a.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),e.stroke()}}class y extends c{constructor(t){super(),this.type="end",this.stepMultiplier=1,this.pos=t,this.animator=new x(this)}enter(t){this.board=t;const[e]=this.board.findEndNode();e>=0&&this.board.nodes.splice(e,1)}draw(t,e){this.animator.draw(t,e)}}class x{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=4e3}draw(t,e){if(null==this.parent.board)return;this.animationFrame+=t,this.animationFrame%=this.animationTime;const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="red",e.lineWidth=1,e.strokeStyle="black";const a=[{x:.4,y:.8},{x:.6,y:.8},{x:.6,y:.2},{x:.4,y:.2},{x:.4,y:.25},{x:.2+.1*Math.sin(i*Math.PI*2),y:.4+.05*Math.abs(Math.cos(i*Math.PI*2))},{x:.4,y:.55}].map(t=>{return{x:((e=t).x+s.x)*n,y:(e.y+s.y)*n};var e});e.beginPath(),e.moveTo(a[0].x,a[0].y),a.forEach(t=>{e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),e.stroke()}}class w extends c{constructor(t){super(),this.type="water",this.stepMultiplier=2,this.pos=t,this.animator=new b(this)}draw(t,e){this.animator.draw(t,e)}}class b{constructor(t){this.parent=t,this.animationFrame=0,this.animationTime=100}draw(t,e){if(null==this.parent.board)return;this.animationFrame<this.animationTime&&(this.animationFrame+=t,this.animationFrame=Math.min(this.animationTime,this.animationFrame));const i=this.animationFrame/this.animationTime,s=this.parent.pos,n=this.parent.board.squareSize;e.fillStyle="rgba(0, 100, 150, 0.6)",e.fillRect(s.x*n-n/4*(1-i),s.y*n-n/4*(1-i),n,n)}}class S extends class extends class{}{constructor(t){super(),this.size=t,this.squareSize=32,this.boardLines=[],this.nodes=[],this.addLines(),this.pathFinder=new r(this,document.getElementById("speed-selector"))}addLines(){for(let t=0;t<this.size.x+1;t++)this.boardLines.push(new d({x:t*this.squareSize,y:0},{x:t*this.squareSize,y:this.size.y*this.squareSize}));for(let t=0;t<this.size.y+1;t++)this.boardLines.push(new d({x:0,y:t*this.squareSize},{x:this.size.x*this.squareSize,y:t*this.squareSize}))}addNode(t){const[e]=this.getNode(t.pos);e>=0||this.isOutOfBounds(t.pos)||(t.enter(this),this.nodes.push(t))}getNode(t){const e=this.nodes.findIndex(e=>e.pos.x===t.x&&e.pos.y===t.y);return[e,this.nodes[e]]}isOutOfBounds(t){return t.x>=this.size.x||t.x<0||t.y>=this.size.y||t.y<0}findStartNode(){const t=this.nodes.findIndex(t=>"start"===t.type);return[t,this.nodes[t]]}findEndNode(){const t=this.nodes.findIndex(t=>"end"===t.type);return[t,this.nodes[t]]}draw(t,e){this.pathFinder.draw(t,e),this.boardLines.forEach(i=>i.draw(t,e)),this.nodes.forEach(i=>i.draw(t,e))}}{constructor(t){super(t),this.currentKey="",this.factories={start:{label:"Start Point",factory:t=>new p(t)},end:{label:"End Point",factory:t=>new y(t)},wall:{label:"Wall",factory:t=>new m(t)},water:{label:"Water",factory:t=>new w(t)}};const e=document.getElementById("toplace-selector");if(null!=e)for(let t of Object.keys(this.factories)){const i=document.createElement("input");i.type="radio",i.name="toplace",i.id="toplace-"+t,i.className="custom-control-input",i.addEventListener("change",()=>{this.currentKey=t});const s=document.createElement("label");s.className="custom-control-label",s.htmlFor="toplace-"+t,s.innerHTML=this.factories[t].label;const n=document.createElement("div");n.className="custom-control custom-radio",n.appendChild(i),n.appendChild(s),e.appendChild(n)}}onClick(t){const e={x:Math.floor(t.offsetX/this.squareSize),y:Math.floor(t.offsetY/this.squareSize)};if(this.currentKey in this.factories)switch(t.buttons){case 1:this.addNode(this.factories[this.currentKey].factory(e)),this.pathFinder.start();break;case 2:this.removeNode(e)}}removeNode(t){const[e]=this.getNode(t);-1!==e&&this.nodes.splice(e,1)}}class v{constructor(t){this.ctx=t,this.components=[],this.lastTime=0;const e=new S({x:26,y:22});t.canvas.width=e.size.x*e.squareSize,t.canvas.height=e.size.y*e.squareSize,t.canvas.addEventListener("contextmenu",t=>{t.preventDefault()}),t.canvas.addEventListener("mousemove",e.onClick.bind(e)),t.canvas.addEventListener("mousedown",e.onClick.bind(e)),this.addComponent(e)}addComponent(t){this.components.push(t)}draw(t){const e=this.ctx,i=t-this.lastTime;e.fillStyle="white",e.fillRect(0,0,e.canvas.width,e.canvas.height),this.components.forEach(t=>{t.draw(i,e)}),this.lastTime=t}}const F=document.getElementById("game-canvas").getContext("2d");if(null!=F){F.imageSmoothingEnabled=!1;const t=new v(F),e=i=>{t.draw(i),window.requestAnimationFrame(e)};e(0)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvcG9zc2libGVNb3Zlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9wYXRoRmluZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2JvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL25vZGVzL3dhbGwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvbm9kZXMvc3RhcnRwb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy9lbmRwb2ludC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ub2Rlcy93YXRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9ib2FyZExvZ2ljLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL2NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJQb3NzaWJsZU1vdmVzIiwiY29udGFpbnRlciIsImRpcmVjdGlvbnMiLCJzcXVhcmVTaXplIiwiY2FudmFzIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwid2lkdGgiLCJ0aGlzIiwiaGVpZ2h0IiwiYXBwZW5kQ2hpbGQiLCJhZGRFdmVudExpc3RlbmVyIiwib25DbGljayIsImRyYXdlciIsIlBvc3NpYmxlTW92ZXNEcmF3ZXIiLCJkcmF3IiwiZSIsInNxdWFyZSIsIk1hdGgiLCJmbG9vciIsIm9mZnNldFgiLCJvZmZzZXRZIiwiY29uc29sZSIsImxvZyIsInRvUmV0dXJuIiwieCIsInkiLCJwdXNoIiwicGFyZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiYmVnaW5QYXRoIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJhcmMiLCJmaWxsIiwiZ2V0RGlyZWN0aW9ucyIsImZvckVhY2giLCJkaXJlY3Rpb24iLCJwb3MiLCJib2FyZCIsInN0ZXBJbnRlcnZhbFNlbGVjdG9yQ29udGFpbmVyIiwibWF4U3RlcCIsIm1pblN0ZXAiLCJzdGVwSW50ZXJ2YWwiLCJvcGVuIiwiY2xvc2VkIiwiZW5kTm9kZSIsImJyZWFrQWxsIiwicG9zc2libGVNb3ZlcyIsImdldEVsZW1lbnRCeUlkIiwic3RlcEludGVydmFsU2VsZWN0b3IiLCJ0eXBlIiwiY2xhc3NOYW1lIiwibWluIiwiU3RyaW5nIiwibWF4IiwidmFsIiwidGFyZ2V0Iiwic3RlcEludGVydmFsTGFiZWwiLCJpbm5lckhUTUwiLCJjYWxjdWxhdGUiLCJ0aGVuIiwiZGVsdGFUaW1lIiwibGluZUNhcCIsIm5vZGUiLCJkcmF3Qm94IiwiZHJhd0xpbmUiLCJmb3JjZUJyZWFrIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzdGFydEluZGV4Iiwic3RhcnROb2RlIiwiZmluZFN0YXJ0Tm9kZSIsImVuZEluZGV4IiwiZmluZEVuZE5vZGUiLCJQYXRoRmluZGVyTm9kZSIsInNldFRpbWVvdXQiLCJjdXJyZW50Tm9kZUluZGV4IiwiY3VycmVudE5vZGUiLCJsb3dlc3RGSW5PcGVuTGlzdCIsInNwbGljZSIsImNoZWNrRGlyZWN0aW9uIiwibmV3UG9zIiwiY3VycmVudEJvYXJkTm9kZUluZGV4IiwiY3VycmVudEJvYXJkTm9kZSIsImdldE5vZGUiLCJzdGVwTXVsdGlwbGllciIsIkluZmluaXR5IiwiaXNPdXRPZkJvdW5kcyIsImluQ2xvc2VkTGlzdCIsImluT3Blbkxpc3RJbmRleCIsImluT3Blbkxpc3QiLCJkaXN0YW5jZUZyb21TdGFydCIsIm5ld05vZGUiLCJwYXJlbnROb2RlIiwiZW5kUG9zIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibG93ZXN0IiwibG93ZXN0RiIsImNhbGN1bGF0ZUYiLCJpbmRleCIsIm5vZGVGIiwiZmluZEluZGV4IiwiX3BvcyIsImFuaW1hdGlvbkZyYW1lIiwibGluZURyYXdlciIsIlBhdGhGaW5kZXJOb2RlTGluZURyYXdlciIsImJveERyYXdlciIsIlBhdGhGaW5kZXJOb2RlQm94RHJhd2VyIiwiZGlzdGFuY2VFc3RpbWF0ZVNxdWFyZWQiLCJwb3ciLCJzcXJ0IiwibmV4dFBvcyIsImFuaW1hdGlvblRpbWUiLCJhbmltYXRpb25NdWx0aXBsaWVyIiwidHJhY2UiLCJmYWxsRG93blRpbWUiLCJmYWxsRG93bk11bHRpcGxpZXIiLCJOb2RlIiwiX2JvYXJkIiwiQm9hcmRMaW5lIiwiZnJvbSIsInRvIiwicmFuZG9tIiwic3VwZXIiLCJhbmltYXRvciIsIldhbGxBbmltYXRpb24iLCJTdGFydFBvaW50QW5pbWF0aW9uIiwibm9kZXMiLCJ3b3JsZFBhdGgiLCJzaW4iLCJQSSIsImFicyIsImNvcyIsIm1hcCIsInBvaW50IiwicG9zSW5TcXVhcmVUb1dvcmxkIiwiY2xvc2VQYXRoIiwiRW5kUG9pbnRBbmltYXRpb24iLCJXYXRlckFuaW1hdGlvbiIsInNpemUiLCJib2FyZExpbmVzIiwiYWRkTGluZXMiLCJwYXRoRmluZGVyIiwiZW50ZXIiLCJsaW5lIiwiX3NpemUiLCJjdXJyZW50S2V5IiwiZmFjdG9yaWVzIiwic3RhcnQiLCJsYWJlbCIsImZhY3RvcnkiLCJwb3NpdGlvbiIsImVuZCIsIndhbGwiLCJ3YXRlciIsInRvUGxhY2UiLCJrZXlzIiwibmV3RWxlbWVudCIsImlkIiwibGFiZWxFbGVtZW50IiwiaHRtbEZvciIsImRpdkVsZW1lbnQiLCJidXR0b25zIiwiYWRkTm9kZSIsInJlbW92ZU5vZGUiLCJjb21wb25lbnRzIiwibGFzdFRpbWUiLCJwcmV2ZW50RGVmYXVsdCIsImFkZENvbXBvbmVudCIsImNvbXBvbmVudCIsInRpbWUiLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJjb250cm9sbGVyIiwidXBkYXRlIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFV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QUEwQixHQUMxQixLQUFBQyxTQUFtQixFQUdqQixNQUFNakksRUFBUSxJQUFJLEVBQ2hCLENBQUNwQixFQUFHLEdBQUlDLEVBQUcsS0FHYkcsRUFBSXpCLE9BQU9HLE1BQVFzQyxFQUFNc0csS0FBSzFILEVBQUlvQixFQUFNMUMsV0FDeEMwQixFQUFJekIsT0FBT0ssT0FBU29DLEVBQU1zRyxLQUFLekgsRUFBSW1CLEVBQU0xQyxXQUV6QzBCLEVBQUl6QixPQUFPTyxpQkFBaUIsY0FBZ0JLLElBQVFBLEVBQUUrSixtQkFFdERsSixFQUFJekIsT0FBT08saUJBQWlCLFlBQWFrQyxFQUFNakMsUUFBUXBCLEtBQUtxRCxJQUM1RGhCLEVBQUl6QixPQUFPTyxpQkFBaUIsWUFBYWtDLEVBQU1qQyxRQUFRcEIsS0FBS3FELElBRzVEckMsS0FBS3dLLGFBQWFuSSxHQUdwQixhQUFhb0ksR0FDWHpLLEtBQUtxSyxXQUFXbEosS0FBS3NKLEdBR3ZCLEtBQUtDLEdBQ0gsTUFBTXJKLEVBQU1yQixLQUFLcUIsSUFFWHVDLEVBQVk4RyxFQUFLMUssS0FBS3NLLFNBRzVCakosRUFBSUUsVUFBWSxRQUNoQkYsRUFBSUcsU0FBUyxFQUFHLEVBQUdILEVBQUl6QixPQUFPRyxNQUFPc0IsRUFBSXpCLE9BQU9LLFFBRWhERCxLQUFLcUssV0FBV25JLFFBQVF1SSxJQUN0QkEsRUFBVWxLLEtBQUtxRCxFQUFXdkMsS0FHNUJyQixLQUFLc0ssU0FBVUksR0N2Q25CLE1BQ00sRUFENEI3SyxTQUFTa0QsZUFBZSxlQUN2Q3pCLFdBQVcsTUFFOUIsR0FBVSxNQUFQLEVBQWEsQ0FDZCxFQUFJcUosdUJBQXdCLEVBQzVCLE1BQU1DLEVBQWEsSUFBSSxFQUFXLEdBRTVCQyxFQUFVSCxJQUNkRSxFQUFXckssS0FBS21LLEdBQ2hCSSxPQUFPQyxzQkFBc0JGLElBRy9CQSxFQUFPIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tIFwiLi4vZ2FtZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9zc2libGVNb3ZlcyB7XHJcbiAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudFxyXG4gIGRyYXdlcjogUG9zc2libGVNb3Zlc0RyYXdlclxyXG5cclxuICBkaXJlY3Rpb25zID0gW1xyXG4gICAgW3RydWUsIHRydWUsIHRydWVdLFxyXG4gICAgW3RydWUsIGZhbHNlLCB0cnVlXSxcclxuICAgIFt0cnVlLCB0cnVlLCB0cnVlXVxyXG4gIF1cclxuXHJcbiAgcmVhZG9ubHkgc3F1YXJlU2l6ZSA9IDQwXHJcblxyXG4gIGNvbnN0cnVjdG9yKGNvbnRhaW50ZXI6IEhUTUxEaXZFbGVtZW50KSB7XHJcbiAgICBjb25zdCBjYW52YXMgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJylcclxuICAgIGNhbnZhcy53aWR0aCA9IHRoaXMuc3F1YXJlU2l6ZSAqIDNcclxuICAgIGNhbnZhcy5oZWlnaHQgPSB0aGlzLnNxdWFyZVNpemUgKiAzXHJcblxyXG4gICAgY29udGFpbnRlci5hcHBlbmRDaGlsZChjYW52YXMpXHJcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vbkNsaWNrLmJpbmQodGhpcykpXHJcblxyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXNcclxuXHJcbiAgICB0aGlzLmRyYXdlciA9IG5ldyBQb3NzaWJsZU1vdmVzRHJhd2VyKHRoaXMpXHJcbiAgICB0aGlzLmRyYXdlci5kcmF3KClcclxuICB9XHJcblxyXG4gIG9uQ2xpY2soZTogTW91c2VFdmVudCkge1xyXG4gICAgY29uc3Qgc3F1YXJlID0ge1xyXG4gICAgICB4OiBNYXRoLmZsb29yKGUub2Zmc2V0WCAvIHRoaXMuc3F1YXJlU2l6ZSksXHJcbiAgICAgIHk6IE1hdGguZmxvb3IoZS5vZmZzZXRZIC8gdGhpcy5zcXVhcmVTaXplKVxyXG4gICAgfVxyXG5cclxuICAgIGlmKHNxdWFyZS54ID09PSAxICYmIHNxdWFyZS55ID09PSAxKSB7IFxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmRpcmVjdGlvbnNbc3F1YXJlLnldW3NxdWFyZS54XSA9ICF0aGlzLmRpcmVjdGlvbnNbc3F1YXJlLnldW3NxdWFyZS54XVxyXG4gICAgdGhpcy5kcmF3ZXIuZHJhdygpXHJcbiAgICBjb25zb2xlLmxvZyh0aGlzKVxyXG4gIH1cclxuXHJcbiAgZ2V0RGlyZWN0aW9ucygpOiBDb29yZGluYXRlW10ge1xyXG4gICAgbGV0IHRvUmV0dXJuOiBDb29yZGluYXRlW10gPSBbXVxyXG5cclxuICAgIGZvcihsZXQgeCA9IDA7IHggPCAzOyB4KyspIHtcclxuICAgICAgZm9yKGxldCB5ID0gMDsgeSA8IDM7IHkrKykge1xyXG4gICAgICAgIGlmKHRoaXMuZGlyZWN0aW9uc1t5XVt4XSkge1xyXG4gICAgICAgICAgdG9SZXR1cm4ucHVzaCh7XHJcbiAgICAgICAgICAgIHg6IHggLSAxLFxyXG4gICAgICAgICAgICB5OiB5IC0gMVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdG9SZXR1cm5cclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFBvc3NpYmxlTW92ZXNEcmF3ZXIge1xyXG4gIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcGFyZW50OiBQb3NzaWJsZU1vdmVzKSB7XHJcbiAgICB0aGlzLmN0eCA9IDxDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ+cGFyZW50LmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXHJcbiAgfVxyXG5cclxuICBkcmF3KCkge1xyXG4gICAgY29uc3QgY3R4ID0gdGhpcy5jdHhcclxuXHJcbiAgICAvLyBjbGVhclxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICd3aGl0ZSdcclxuICAgIGN0eC5maWxsUmVjdCgwLCAwLCBjdHguY2FudmFzLndpZHRoLCBjdHguY2FudmFzLmhlaWdodClcclxuXHJcbiAgICAvLyBsaW5lc1xyXG4gICAgY3R4LmJlZ2luUGF0aCgpXHJcbiAgICBjdHguc3Ryb2tlU3R5bGU9J2JsYWNrJ1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDFcclxuICAgIGZvcihsZXQgeCA9IDA7IHggPCA0OyB4KyspIHtcclxuICAgICAgY3R4Lm1vdmVUbyh4ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZSwgMClcclxuICAgICAgY3R4LmxpbmVUbyh4ICogdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZSwgY3R4LmNhbnZhcy5oZWlnaHQpXHJcbiAgICB9XHJcbiAgICBmb3IobGV0IHkgPSAwOyB5IDwgNDsgeSsrKSB7XHJcbiAgICAgIGN0eC5tb3ZlVG8oMCwgeSAqIHRoaXMucGFyZW50LnNxdWFyZVNpemUpXHJcbiAgICAgIGN0eC5saW5lVG8oY3R4LmNhbnZhcy53aWR0aCwgeSAqIHRoaXMucGFyZW50LnNxdWFyZVNpemUpXHJcbiAgICB9XHJcbiAgICBjdHguc3Ryb2tlKClcclxuXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ2JsdWUnXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuICAgIGN0eC5hcmMoY3R4LmNhbnZhcy53aWR0aC8yLCBjdHguY2FudmFzLmhlaWdodC8yLCB0aGlzLnBhcmVudC5zcXVhcmVTaXplLzMsIDAsIDM2MClcclxuICAgIGN0eC5maWxsKClcclxuXHJcbiAgICB0aGlzLnBhcmVudC5nZXREaXJlY3Rpb25zKCkuZm9yRWFjaChkaXJlY3Rpb24gPT4ge1xyXG4gICAgICBjb25zdCBwb3MgPSB7XHJcbiAgICAgICAgeDogY3R4LmNhbnZhcy53aWR0aC8yICsgZGlyZWN0aW9uLnggKiB0aGlzLnBhcmVudC5zcXVhcmVTaXplLFxyXG4gICAgICAgIHk6IGN0eC5jYW52YXMuaGVpZ2h0LzIgKyBkaXJlY3Rpb24ueSAqIHRoaXMucGFyZW50LnNxdWFyZVNpemVcclxuICAgICAgfVxyXG5cclxuICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZWQnXHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKVxyXG4gICAgICBjdHguYXJjKHBvcy54LCBwb3MueSwgdGhpcy5wYXJlbnQuc3F1YXJlU2l6ZS80LCAwLCAzNjApXHJcbiAgICAgIGN0eC5maWxsKClcclxuICAgIH0pXHJcbiAgfVxyXG59IiwiaW1wb3J0IEJvYXJkIGZyb20gXCIuL2JvYXJkXCI7XHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tIFwiLi4vZ2FtZVwiO1xyXG5pbXBvcnQgUG9zc2libGVNb3ZlcyBmcm9tIFwiLi9wb3NzaWJsZU1vdmVzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXRoRmluZGVyIHtcclxuICByZWFkb25seSBtYXhTdGVwID0gMTAwXHJcbiAgcmVhZG9ubHkgbWluU3RlcCA9IDBcclxuICBzdGVwSW50ZXJ2YWw6IG51bWJlciA9IDUwXHJcblxyXG4gIG9wZW46IFBhdGhGaW5kZXJOb2RlW10gPSBbXVxyXG4gIGNsb3NlZDogUGF0aEZpbmRlck5vZGVbXSA9IFtdXHJcblxyXG4gIGVuZE5vZGU6IFBhdGhGaW5kZXJOb2RlIHwgbnVsbCA9IG51bGxcclxuICBicmVha0FsbDogKCgpID0+IHZvaWQpIHwgbnVsbCA9IG51bGxcclxuICBcclxuICBwb3NzaWJsZU1vdmVzOiBQb3NzaWJsZU1vdmVzID0gbmV3IFBvc3NpYmxlTW92ZXMoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3NzaWJsZS1tb3Zlcy1zZWxlY3RvcicpKVxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgYm9hcmQ6IEJvYXJkLCBzdGVwSW50ZXJ2YWxTZWxlY3RvckNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpIHtcclxuICAgIGNvbnN0IHN0ZXBJbnRlcnZhbFNlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3IudHlwZSA9ICdyYW5nZSdcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yLmNsYXNzTmFtZSA9ICdjdXN0b20tcmFuZ2UnXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3Rvci5taW4gPSBTdHJpbmcodGhpcy5taW5TdGVwKVxyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3IubWF4ID0gU3RyaW5nKHRoaXMubWF4U3RlcClcclxuICAgIHN0ZXBJbnRlcnZhbFNlbGVjdG9yLnZhbHVlID0gU3RyaW5nKHRoaXMuc3RlcEludGVydmFsKVxyXG4gICAgc3RlcEludGVydmFsU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKHZhbCkgPT4ge1xyXG4gICAgICB0aGlzLnN0ZXBJbnRlcnZhbCA9ICsoPEhUTUxJbnB1dEVsZW1lbnQ+dmFsLnRhcmdldCkudmFsdWVcclxuICAgIH0pXHJcblxyXG4gICAgY29uc3Qgc3RlcEludGVydmFsTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXHJcbiAgICBzdGVwSW50ZXJ2YWxMYWJlbC5pbm5lckhUTUwgPSAnU3BlZWQnXHJcblxyXG4gICAgc3RlcEludGVydmFsTGFiZWwuYXBwZW5kQ2hpbGQoc3RlcEludGVydmFsU2VsZWN0b3IpXHJcbiAgICBzdGVwSW50ZXJ2YWxTZWxlY3RvckNvbnRhaW5lci5hcHBlbmRDaGlsZChzdGVwSW50ZXJ2YWxMYWJlbClcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzdGFydCgpIHtcclxuICAgIHRoaXMuY2FsY3VsYXRlKCkudGhlbihlbmROb2RlID0+IHRoaXMuZW5kTm9kZSA9IGVuZE5vZGUpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLmJvYXJkLnNxdWFyZVNpemUgLyA0XHJcbiAgICBjdHgubGluZUNhcCA9ICdyb3VuZCdcclxuXHJcbiAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMTAwLCAxMDAsIDEwMCwgMC4yKSdcclxuICAgIHRoaXMuY2xvc2VkLmZvckVhY2gobm9kZSA9PiBub2RlLmRyYXdCb3goZGVsdGFUaW1lLCBjdHgpKVxyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLCAzMiwgMjU1LCAwLjIpJ1xyXG4gICAgdGhpcy5vcGVuLmZvckVhY2gobm9kZSA9PiBub2RlLmRyYXdCb3goZGVsdGFUaW1lLCBjdHgpKVxyXG5cclxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZWQnXHJcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy5ib2FyZC5zcXVhcmVTaXplIC8gM1xyXG4gICAgaWYodGhpcy5lbmROb2RlICE9IG51bGwpe1xyXG4gICAgICB0aGlzLmVuZE5vZGUuZHJhd0xpbmUoZGVsdGFUaW1lLCBjdHgpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGNhbGN1bGF0ZSgpOiBQcm9taXNlPFBhdGhGaW5kZXJOb2RlIHwgbnVsbD4ge1xyXG4gICAgaWYodGhpcy5icmVha0FsbCAhPSBudWxsKSB7XHJcbiAgICAgIHRoaXMuYnJlYWtBbGwoKVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBmb3JjZUJyZWFrID0gZmFsc2VcclxuICAgIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gdGhpcy5icmVha0FsbCA9IHJlc29sdmUpLnRoZW4oKCk9PiB7IGZvcmNlQnJlYWsgPSB0cnVlIH0pXHJcblxyXG4gICAgY29uc3QgW3N0YXJ0SW5kZXgsIHN0YXJ0Tm9kZV0gPSB0aGlzLmJvYXJkLmZpbmRTdGFydE5vZGUoKVxyXG4gICAgY29uc3QgW2VuZEluZGV4LCBlbmROb2RlXSA9IHRoaXMuYm9hcmQuZmluZEVuZE5vZGUoKVxyXG5cclxuICAgIHRoaXMub3BlbiA9IFtdXHJcbiAgICB0aGlzLmNsb3NlZCA9IFtdXHJcbiAgICB0aGlzLmVuZE5vZGUgPSBudWxsXHJcblxyXG4gICAgaWYoc3RhcnROb2RlID09IG51bGwgfHwgZW5kTm9kZSA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5vcGVuLnB1c2gobmV3IFBhdGhGaW5kZXJOb2RlKHRoaXMsIHN0YXJ0Tm9kZS5wb3MpKVxyXG5cclxuICAgIC8vIHJlcGVhdFxyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IDEwMDA7IGkrKykge1xyXG4gICAgICBpZihmb3JjZUJyZWFrKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgfVxyXG5cclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsICh0aGlzLm1heFN0ZXAtdGhpcy5zdGVwSW50ZXJ2YWwpKSlcclxuXHJcbiAgICAgIGNvbnN0IFtjdXJyZW50Tm9kZUluZGV4LCBjdXJyZW50Tm9kZV0gPSB0aGlzLmxvd2VzdEZJbk9wZW5MaXN0KGVuZE5vZGUucG9zKVxyXG4gICAgICBpZihjdXJyZW50Tm9kZSA9PSBudWxsKSB7XHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgdGhpcy5jbG9zZWQucHVzaChjdXJyZW50Tm9kZSlcclxuICAgICAgdGhpcy5vcGVuLnNwbGljZShjdXJyZW50Tm9kZUluZGV4LCAxKVxyXG5cclxuICAgICAgaWYoY3VycmVudE5vZGUucG9zLnggPT09IGVuZE5vZGUucG9zLnggJiYgY3VycmVudE5vZGUucG9zLnkgPT09IGVuZE5vZGUucG9zLnkpIHtcclxuICAgICAgICByZXR1cm4gY3VycmVudE5vZGVcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5wb3NzaWJsZU1vdmVzLmdldERpcmVjdGlvbnMoKS5mb3JFYWNoKChkaXJlY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmNoZWNrRGlyZWN0aW9uKGN1cnJlbnROb2RlLCBkaXJlY3Rpb24pXHJcbiAgICAgIH0pXHJcbiAgICB9XHJcbiAgICAvLyAtLS1cclxuXHJcbiAgICB0aGlzLmJyZWFrQWxsID0gbnVsbFxyXG4gICAgcmV0dXJuIG51bGxcclxuICB9XHJcblxyXG4gIHByaXZhdGUgY2hlY2tEaXJlY3Rpb24oY3VycmVudE5vZGU6IFBhdGhGaW5kZXJOb2RlLCBkaXJlY3Rpb246IENvb3JkaW5hdGUpIHtcclxuICAgIGNvbnN0IG5ld1BvczogQ29vcmRpbmF0ZSA9IHsgeDogZGlyZWN0aW9uLnggKyBjdXJyZW50Tm9kZS5wb3MueCwgeTogZGlyZWN0aW9uLnkgKyBjdXJyZW50Tm9kZS5wb3MueSB9XHJcblxyXG4gICAgY29uc3QgW2N1cnJlbnRCb2FyZE5vZGVJbmRleCwgY3VycmVudEJvYXJkTm9kZV0gPSB0aGlzLmJvYXJkLmdldE5vZGUobmV3UG9zKVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIHdhbGthYmxlXHJcbiAgICBpZihjdXJyZW50Qm9hcmROb2RlPy5zdGVwTXVsdGlwbGllciA9PT0gSW5maW5pdHkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgb3V0IG9mIGJvdW5kc1xyXG4gICAgaWYodGhpcy5ib2FyZC5pc091dE9mQm91bmRzKG5ld1BvcykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgaWYgaW4gY2xvc2VkIGxpc3RcclxuICAgIGNvbnN0IGluQ2xvc2VkTGlzdCA9IHRoaXMuaW5DbG9zZWRMaXN0KG5ld1BvcylbMV1cclxuICAgIGlmKGluQ2xvc2VkTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIC8vIGNoZWNrIGlmIGluIG9wZW4gbGlzdFxyXG4gICAgY29uc3QgW2luT3Blbkxpc3RJbmRleCwgaW5PcGVuTGlzdF0gPSB0aGlzLmluT3Blbkxpc3QobmV3UG9zKVxyXG4gICAgaWYoaW5PcGVuTGlzdCAhPSBudWxsKSB7XHJcbiAgICAgIGlmKGN1cnJlbnROb2RlLmRpc3RhbmNlRnJvbVN0YXJ0IDwgaW5PcGVuTGlzdC5kaXN0YW5jZUZyb21TdGFydCkge1xyXG4gICAgICAgIHRoaXMub3Blbi5zcGxpY2UoaW5PcGVuTGlzdEluZGV4LCAxKVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgbmV3Tm9kZSA9IG5ldyBQYXRoRmluZGVyTm9kZSh0aGlzLCBuZXdQb3MpXHJcbiAgICBuZXdOb2RlLnBhcmVudE5vZGUgPSBjdXJyZW50Tm9kZVxyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSBkaXN0YW5jZVxyXG4gICAgbGV0IGRpc3RhbmNlRnJvbVN0YXJ0ID0gY3VycmVudE5vZGUuZGlzdGFuY2VGcm9tU3RhcnRcclxuICAgIGlmKGN1cnJlbnRCb2FyZE5vZGUgIT0gbnVsbCkge1xyXG4gICAgICBkaXN0YW5jZUZyb21TdGFydCArPSBjdXJyZW50Qm9hcmROb2RlLnN0ZXBNdWx0aXBsaWVyXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgZGlzdGFuY2VGcm9tU3RhcnQgKz0gMVxyXG4gICAgfVxyXG5cclxuICAgIG5ld05vZGUuZGlzdGFuY2VGcm9tU3RhcnQgPSBkaXN0YW5jZUZyb21TdGFydFxyXG5cclxuICAgIHRoaXMub3Blbi5wdXNoKG5ld05vZGUpXHJcbiAgICByZXR1cm4gbmV3Tm9kZVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBsb3dlc3RGSW5PcGVuTGlzdChlbmRQb3M6IENvb3JkaW5hdGUpOiBbbnVtYmVyLCBQYXRoRmluZGVyTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgaWYodGhpcy5vcGVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gWy0xLCB1bmRlZmluZWRdXHJcbiAgICB9XHJcblxyXG4gICAgbGV0IGxvd2VzdCA9IDBcclxuICAgIGxldCBsb3dlc3RGID0gdGhpcy5vcGVuW2xvd2VzdF0uY2FsY3VsYXRlRihlbmRQb3MpXHJcbiAgICB0aGlzLm9wZW4uZm9yRWFjaCgobm9kZSwgaW5kZXgpID0+IHtcclxuICAgICAgY29uc3Qgbm9kZUYgPSBub2RlLmNhbGN1bGF0ZUYoZW5kUG9zKVxyXG4gICAgICBpZihub2RlRiA8IGxvd2VzdEYpIHtcclxuICAgICAgICBsb3dlc3QgPSBpbmRleFxyXG4gICAgICAgIGxvd2VzdEYgPSBub2RlRlxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHJldHVybiBbbG93ZXN0LCB0aGlzLm9wZW5bbG93ZXN0XV1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgaW5PcGVuTGlzdChwb3M6IENvb3JkaW5hdGUpOiBbbnVtYmVyLCBQYXRoRmluZGVyTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm9wZW4uZmluZEluZGV4KG5vZGUgPT4gKG5vZGUucG9zLnggPT09IHBvcy54ICYmIG5vZGUucG9zLnkgPT09IHBvcy55KSlcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMub3BlbltpbmRleF1dXHJcbiAgfVxyXG4gIHByaXZhdGUgaW5DbG9zZWRMaXN0KHBvczogQ29vcmRpbmF0ZSk6IFtudW1iZXIsIFBhdGhGaW5kZXJOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuY2xvc2VkLmZpbmRJbmRleChub2RlID0+IChub2RlLnBvcy54ID09PSBwb3MueCAmJiBub2RlLnBvcy55ID09PSBwb3MueSkpXHJcbiAgICByZXR1cm4gW2luZGV4LCB0aGlzLmNsb3NlZFtpbmRleF1dXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXRoRmluZGVyTm9kZSB7XHJcbiAgcHVibGljIGRpc3RhbmNlRnJvbVN0YXJ0OiBudW1iZXIgPSAwXHJcbiAgcHVibGljIHBhcmVudE5vZGU6IFBhdGhGaW5kZXJOb2RlIHwgbnVsbCA9IG51bGxcclxuICBwdWJsaWMgbGluZURyYXdlcjogUGF0aEZpbmRlck5vZGVMaW5lRHJhd2VyXHJcbiAgcHVibGljIGJveERyYXdlcjogUGF0aEZpbmRlck5vZGVCb3hEcmF3ZXJcclxuXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZSA9IDBcclxuICBcclxuICBwb3M6IENvb3JkaW5hdGVcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHBhcmVudDogUGF0aEZpbmRlciwgX3BvczogQ29vcmRpbmF0ZSl7XHJcbiAgICB0aGlzLnBvcyA9IHsuLi5fcG9zfVxyXG4gICAgXHJcbiAgICB0aGlzLmxpbmVEcmF3ZXIgPSBuZXcgUGF0aEZpbmRlck5vZGVMaW5lRHJhd2VyKHRoaXMpXHJcbiAgICB0aGlzLmJveERyYXdlciA9IG5ldyBQYXRoRmluZGVyTm9kZUJveERyYXdlcih0aGlzKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGNhbGN1bGF0ZUYoZW5kUG9zOiBDb29yZGluYXRlKSB7XHJcbiAgICBjb25zdCBkaXN0YW5jZUVzdGltYXRlU3F1YXJlZCA9IE1hdGgucG93KGVuZFBvcy54IC0gdGhpcy5wb3MueCwgMikgKyBNYXRoLnBvdyhlbmRQb3MueSAtIHRoaXMucG9zLnksIDIpXHJcbiAgICBjb25zdCBkaXN0YW5jZUVzdGltYXRlID0gTWF0aC5zcXJ0KGRpc3RhbmNlRXN0aW1hdGVTcXVhcmVkKVxyXG4gICAgcmV0dXJuIGRpc3RhbmNlRXN0aW1hdGUgKyB0aGlzLmRpc3RhbmNlRnJvbVN0YXJ0XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhd0xpbmUoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICB0aGlzLmxpbmVEcmF3ZXIuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3Qm94KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgdGhpcy5ib3hEcmF3ZXIuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFBhdGhGaW5kZXJOb2RlTGluZURyYXdlciB7XHJcbiAgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHBhcmVudDogUGF0aEZpbmRlck5vZGUpe1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIHRyYWNlKGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgaWYodGhpcy5wYXJlbnQgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYodGhpcy5wYXJlbnQucGFyZW50Tm9kZSA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIFxyXG4gICAgY29uc3QgbmV4dFBvcyA9IHRoaXMucGFyZW50LnBhcmVudE5vZGUucG9zXHJcbiAgICBjb25zdCBzcXVhcmVTaXplID0gdGhpcy5wYXJlbnQucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIGNvbnN0IGFuaW1hdGlvblRpbWUgPSBNYXRoLm1heCh0aGlzLnBhcmVudC5wYXJlbnQubWF4U3RlcCAtIHRoaXMucGFyZW50LnBhcmVudC5zdGVwSW50ZXJ2YWwsIDAuMDEpXHJcblxyXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IE1hdGgubWluKGFuaW1hdGlvblRpbWUsIHRoaXMuYW5pbWF0aW9uRnJhbWUpXHJcbiAgICBjb25zdCBhbmltYXRpb25NdWx0aXBsaWVyID0gdGhpcy5hbmltYXRpb25GcmFtZSAvIGFuaW1hdGlvblRpbWVcclxuXHJcbiAgICBjdHgubGluZVRvKFxyXG4gICAgICAoKDEtYW5pbWF0aW9uTXVsdGlwbGllcikqdGhpcy5wYXJlbnQucG9zLnggKyBuZXh0UG9zLnggKiBhbmltYXRpb25NdWx0aXBsaWVyKSAqIHNxdWFyZVNpemUgKyBzcXVhcmVTaXplLzIsIFxyXG4gICAgICAoKDEtYW5pbWF0aW9uTXVsdGlwbGllcikqdGhpcy5wYXJlbnQucG9zLnkgKyBuZXh0UG9zLnkgKiBhbmltYXRpb25NdWx0aXBsaWVyKSAqIHNxdWFyZVNpemUgKyBzcXVhcmVTaXplLzJcclxuICAgIClcclxuXHJcbiAgICBpZih0aGlzLmFuaW1hdGlvbkZyYW1lIDwgYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgdGhpcy5wYXJlbnQucGFyZW50Tm9kZS5saW5lRHJhd2VyLnRyYWNlKGRlbHRhVGltZSwgY3R4KVxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLnBhcmVudC5wYXJlbnRcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSBwYXJlbnQuYm9hcmQuc3F1YXJlU2l6ZVxyXG5cclxuICAgIGlmKHRoaXMucGFyZW50LnBhcmVudE5vZGUgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuXHJcbiAgICBjdHgubW92ZVRvKFxyXG4gICAgICB0aGlzLnBhcmVudC5wb3MueCAqIHNxdWFyZVNpemUgKyBzcXVhcmVTaXplLzIsIFxyXG4gICAgICB0aGlzLnBhcmVudC5wb3MueSAqIHNxdWFyZVNpemUgKyBzcXVhcmVTaXplLzJcclxuICAgIClcclxuXHJcbiAgICB0aGlzLnBhcmVudC5saW5lRHJhd2VyLnRyYWNlKGRlbHRhVGltZSwgY3R4KVxyXG4gICAgY3R4LnN0cm9rZSgpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBQYXRoRmluZGVyTm9kZUJveERyYXdlciB7XHJcbiAgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBmYWxsRG93blRpbWU6IG51bWJlciA9IDEwMFxyXG4gIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMDBcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIHBhcmVudDogUGF0aEZpbmRlck5vZGUpe1xyXG5cclxuICB9XHJcblxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBjb25zdCBzcXVhcmVTaXplID0gdGhpcy5wYXJlbnQucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG5cclxuICAgIGlmKHRoaXMuYW5pbWF0aW9uRnJhbWUgPCB0aGlzLmFuaW1hdGlvblRpbWUpIHtcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IE1hdGgubWluKHRoaXMuYW5pbWF0aW9uRnJhbWUsIHRoaXMuYW5pbWF0aW9uVGltZSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmYWxsRG93bk11bHRpcGxpZXIgPSBNYXRoLm1pbigxLCB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5mYWxsRG93blRpbWUpXHJcbiAgICBjb25zdCBhbmltYXRpb25NdWx0aXBsaWVyID0gdGhpcy5hbmltYXRpb25GcmFtZSAvIHRoaXMuYW5pbWF0aW9uVGltZVxyXG5cclxuICAgIGN0eC5maWxsU3R5bGUgPSBgcmdiYSgxNTAsIDAsIDI1NSwgJHsxLjItYW5pbWF0aW9uTXVsdGlwbGllcn1gXHJcbiAgICBjdHguZmlsbFJlY3QoXHJcbiAgICAgIHBvcy54ICogc3F1YXJlU2l6ZSAtICgoc3F1YXJlU2l6ZS80KSAqICgxLWZhbGxEb3duTXVsdGlwbGllcikpLFxyXG4gICAgICBwb3MueSAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1mYWxsRG93bk11bHRpcGxpZXIpKSxcclxuICAgICAgc3F1YXJlU2l6ZSxcclxuICAgICAgc3F1YXJlU2l6ZVxyXG4gICAgKVxyXG4gIH1cclxufSIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudFwiXHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tIFwiLi4vZ2FtZVwiXHJcbmltcG9ydCBTdGFydFBvaW50IGZyb20gXCIuL25vZGVzL3N0YXJ0cG9pbnRcIlxyXG5pbXBvcnQgUGF0aEZpbmRlciBmcm9tIFwiLi9wYXRoRmluZGVyXCJcclxuXHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTm9kZSB7XHJcbiAgYWJzdHJhY3QgdHlwZTogc3RyaW5nXHJcbiAgYWJzdHJhY3QgcG9zOiBDb29yZGluYXRlXHJcbiAgcHVibGljIHN0ZXBNdWx0aXBsaWVyOiBudW1iZXJcclxuICBwdWJsaWMgYm9hcmQ6IEJvYXJkIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gSW5maW5pdHlcclxuICB9XHJcblxyXG4gIGVudGVyKF9ib2FyZDogQm9hcmQpOiB2b2lkIHtcclxuICAgIHRoaXMuYm9hcmQgPSBfYm9hcmRcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhYnN0cmFjdCBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWJzdHJhY3QgY2xhc3MgQm9hcmQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gIHNxdWFyZVNpemU6IG51bWJlciA9IDMyXHJcblxyXG4gIGJvYXJkTGluZXM6IEJvYXJkTGluZVtdID0gW11cclxuXHJcbiAgbm9kZXM6IE5vZGVbXSA9IFtdXHJcbiAgcGF0aEZpbmRlcjogUGF0aEZpbmRlclxyXG5cclxuICBjb25zdHJ1Y3RvcihwdWJsaWMgc2l6ZTogQ29vcmRpbmF0ZSkge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMuYWRkTGluZXMoKVxyXG4gICAgdGhpcy5wYXRoRmluZGVyID0gbmV3IFBhdGhGaW5kZXIodGhpcywgPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVlZC1zZWxlY3RvcicpKVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBhZGRMaW5lcygpIHtcclxuICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy5zaXplLnggKyAxOyB4KyspIHtcclxuICAgICAgdGhpcy5ib2FyZExpbmVzLnB1c2gobmV3IEJvYXJkTGluZSh7XHJcbiAgICAgICAgeDogeCAqIHRoaXMuc3F1YXJlU2l6ZSxcclxuICAgICAgICB5OiAwXHJcbiAgICAgIH0sIHtcclxuICAgICAgICB4OiB4ICogdGhpcy5zcXVhcmVTaXplLFxyXG4gICAgICAgIHk6IHRoaXMuc2l6ZS55ICogdGhpcy5zcXVhcmVTaXplXHJcbiAgICAgIH0pKVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCB0aGlzLnNpemUueSArIDE7IHkrKykge1xyXG4gICAgICB0aGlzLmJvYXJkTGluZXMucHVzaChuZXcgQm9hcmRMaW5lKHtcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IHkgKiB0aGlzLnNxdWFyZVNpemUsXHJcbiAgICAgIH0sIHtcclxuICAgICAgICB4OiB0aGlzLnNpemUueCAqIHRoaXMuc3F1YXJlU2l6ZSxcclxuICAgICAgICB5OiB5ICogdGhpcy5zcXVhcmVTaXplXHJcbiAgICAgIH0pKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFkZE5vZGUobm9kZTogTm9kZSkge1xyXG4gICAgY29uc3QgW2luZGV4XSA9IHRoaXMuZ2V0Tm9kZShub2RlLnBvcylcclxuICAgIGlmKGluZGV4ID49IDApIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaWYodGhpcy5pc091dE9mQm91bmRzKG5vZGUucG9zKSkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICBub2RlLmVudGVyKHRoaXMpXHJcblxyXG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0Tm9kZShwb3M6IENvb3JkaW5hdGUpOiBbbnVtYmVyLCBOb2RlIHwgdW5kZWZpbmVkXSB7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMubm9kZXMuZmluZEluZGV4KG5vZGUgPT4gKG5vZGUucG9zLnggPT09IHBvcy54ICYmIG5vZGUucG9zLnkgPT09IHBvcy55KSlcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMubm9kZXNbaW5kZXhdXVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGlzT3V0T2ZCb3VuZHMocG9zOiBDb29yZGluYXRlKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gcG9zLnggPj0gdGhpcy5zaXplLnggfHwgcG9zLnggPCAwIHx8IHBvcy55ID49IHRoaXMuc2l6ZS55IHx8IHBvcy55IDwgMFxyXG4gIH1cclxuXHJcbiAgcHVibGljIGZpbmRTdGFydE5vZGUoKTogW251bWJlciwgTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUudHlwZSA9PT0gJ3N0YXJ0JylcclxuICAgIHJldHVybiBbaW5kZXgsIHRoaXMubm9kZXNbaW5kZXhdXVxyXG4gIH1cclxuICBwdWJsaWMgZmluZEVuZE5vZGUoKTogW251bWJlciwgTm9kZSB8IHVuZGVmaW5lZF0ge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLm5vZGVzLmZpbmRJbmRleChub2RlID0+IG5vZGUudHlwZSA9PT0gJ2VuZCcpXHJcbiAgICByZXR1cm4gW2luZGV4LCB0aGlzLm5vZGVzW2luZGV4XV1cclxuICB9XHJcblxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICB0aGlzLnBhdGhGaW5kZXIuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICAgIHRoaXMuYm9hcmRMaW5lcy5mb3JFYWNoKGxpbmUgPT4gbGluZS5kcmF3KGRlbHRhVGltZSwgY3R4KSlcclxuICAgIHRoaXMubm9kZXMuZm9yRWFjaChub2RlID0+IG5vZGUuZHJhdyhkZWx0YVRpbWUsIGN0eCkpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBCb2FyZExpbmUge1xyXG4gIC8vIEFuaW1hdGlvblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBwcml2YXRlIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMDBcclxuXHJcbiAgY29uc3RydWN0b3IocmVhZG9ubHkgZnJvbTogQ29vcmRpbmF0ZSwgcmVhZG9ubHkgdG86IENvb3JkaW5hdGUpIHtcclxuICAgIHRoaXMuYW5pbWF0aW9uVGltZSA9IE1hdGgucmFuZG9tKCkgKiAxMzAwICsgMjAwXHJcbiAgfVxyXG5cclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgaWYodGhpcy5hbmltYXRpb25GcmFtZSA8IHRoaXMuYW5pbWF0aW9uVGltZSkge1xyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lID0gTWF0aC5taW4odGhpcy5hbmltYXRpb25UaW1lLCB0aGlzLmFuaW1hdGlvbkZyYW1lKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcblxyXG4gICAgLy8gc3R5bGluZ1xyXG4gICAgY3R4LmxpbmVXaWR0aD0xXHJcbiAgICBjdHguc3Ryb2tlU3R5bGU9YHJnYmEoMCwgMCwgMCwgJHthbmltYXRpb25NdWx0aXBsaWVyICogMC41fSlgXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuXHJcbiAgICBjdHgubW92ZVRvKHRoaXMuZnJvbS54LCB0aGlzLmZyb20ueSlcclxuICAgIGN0eC5saW5lVG8oXHJcbiAgICAgICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpICogdGhpcy5mcm9tLnggKyBhbmltYXRpb25NdWx0aXBsaWVyICogdGhpcy50by54LFxyXG4gICAgICAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSAqIHRoaXMuZnJvbS55ICsgYW5pbWF0aW9uTXVsdGlwbGllciAqIHRoaXMudG8ueVxyXG4gICAgKVxyXG5cclxuICAgIGN0eC5zdHJva2UoKVxyXG4gIH1cclxufSIsImltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi9ib2FyZCdcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2dhbWUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXYWxsIGV4dGVuZHMgTm9kZSB7XHJcbiAgdHlwZTogc3RyaW5nID0gJ3dhbGwnXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcbiAgYW5pbWF0b3I6IFdhbGxBbmltYXRpb25cclxuXHJcbiAgY29uc3RydWN0b3IoX3BvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgc3VwZXIoKVxyXG5cclxuICAgIHRoaXMucG9zID0gX3Bvc1xyXG4gICAgdGhpcy5hbmltYXRvciA9IG5ldyBXYWxsQW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5pbWF0b3IuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFdhbGxBbmltYXRpb24ge1xyXG4gIC8vIEFuaW1hdGlvblxyXG4gIHByaXZhdGUgYW5pbWF0aW9uRnJhbWU6IG51bWJlciA9IDBcclxuICBwcml2YXRlIGFuaW1hdGlvblRpbWU6IG51bWJlciA9IDEwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogV2FsbCkge1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLnBhcmVudC5ib2FyZCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZih0aGlzLmFuaW1hdGlvbkZyYW1lIDwgdGhpcy5hbmltYXRpb25UaW1lKSB7XHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgKz0gZGVsdGFUaW1lXHJcbiAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgPSBNYXRoLm1pbih0aGlzLmFuaW1hdGlvblRpbWUsIHRoaXMuYW5pbWF0aW9uRnJhbWUpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcbiAgICBjb25zdCBwb3MgPSB0aGlzLnBhcmVudC5wb3NcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5ib2FyZC5zcXVhcmVTaXplXHJcbiAgICBcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snXHJcblxyXG4gICAgY3R4LmZpbGxSZWN0KFxyXG4gICAgICBwb3MueCAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHBvcy55ICogc3F1YXJlU2l6ZSAtICgoc3F1YXJlU2l6ZS80KSAqICgxLWFuaW1hdGlvbk11bHRpcGxpZXIpKSxcclxuICAgICAgc3F1YXJlU2l6ZSxcclxuICAgICAgc3F1YXJlU2l6ZVxyXG4gICAgKVxyXG4gIH1cclxufSIsImltcG9ydCBCb2FyZCwgeyBOb2RlIH0gZnJvbSAnLi4vYm9hcmQnXHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9nYW1lJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhcnRQb2ludCBleHRlbmRzIE5vZGUge1xyXG4gIHR5cGU6IHN0cmluZyA9ICdzdGFydCdcclxuICBwb3M6IENvb3JkaW5hdGVcclxuICBhbmltYXRvcjogU3RhcnRQb2ludEFuaW1hdGlvblxyXG5cclxuICBjb25zdHJ1Y3RvcihfcG9zOiBDb29yZGluYXRlKSB7XHJcbiAgICBzdXBlcigpXHJcblxyXG4gICAgdGhpcy5zdGVwTXVsdGlwbGllciA9IDFcclxuICAgIHRoaXMucG9zID0gX3Bvc1xyXG4gICAgdGhpcy5hbmltYXRvciA9IG5ldyBTdGFydFBvaW50QW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBlbnRlcihfYm9hcmQ6IEJvYXJkKSB7XHJcbiAgICB0aGlzLmJvYXJkID0gX2JvYXJkXHJcblxyXG4gICAgLy8gcmVtb3ZlIGFueSBvdGhlciBzdGFydCBwb2ludHNcclxuICAgIGNvbnN0IFtpbmRleF0gPSB0aGlzLmJvYXJkLmZpbmRTdGFydE5vZGUoKVxyXG4gICAgaWYoaW5kZXggPj0gMCkge1xyXG4gICAgICB0aGlzLmJvYXJkLm5vZGVzLnNwbGljZShpbmRleCwgMSlcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgdGhpcy5hbmltYXRvci5kcmF3KGRlbHRhVGltZSwgY3R4KVxyXG4gIH1cclxufVxyXG5cclxuY2xhc3MgU3RhcnRQb2ludEFuaW1hdGlvbiB7XHJcbiAgLy8gQW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gNDAwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogU3RhcnRQb2ludCkge1xyXG4gICAgXHJcbiAgfVxyXG4gIFxyXG4gIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICBpZih0aGlzLnBhcmVudC5ib2FyZCA9PSBudWxsKSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0aGlzLmFuaW1hdGlvbkZyYW1lICs9IGRlbHRhVGltZVxyXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSAlPSB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdncmVlbidcclxuICAgIGN0eC5saW5lV2lkdGggPSAxXHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAnYmxhY2snXHJcblxyXG4gICAgY29uc3QgcG9zSW5TcXVhcmVUb1dvcmxkID0gKF9wb3M6IENvb3JkaW5hdGUpOiBDb29yZGluYXRlID0+ICh7XHJcbiAgICAgIHg6IChfcG9zLnggKyBwb3MueCkgKiBzcXVhcmVTaXplLFxyXG4gICAgICB5OiAoX3Bvcy55ICsgcG9zLnkpICogc3F1YXJlU2l6ZVxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBwYXRoOiBDb29yZGluYXRlW10gPSBbXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjggfSxcclxuICAgICAgeyB4OiAwLjYsIHk6IDAuOCB9LFxyXG4gICAgICB7IHg6IDAuNiwgeTogMC4yIH0sXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjIgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuMjUgfSxcclxuICAgICAgeyB4OiAwLjIgKyAoMC4xICogTWF0aC5zaW4oYW5pbWF0aW9uTXVsdGlwbGllciAqIE1hdGguUEkgKiAyKSksIHk6IDAuNCArICgwLjA1ICogTWF0aC5hYnMoTWF0aC5jb3MoYW5pbWF0aW9uTXVsdGlwbGllciAqIE1hdGguUEkgKiAyKSkpIH0sXHJcbiAgICAgIHsgeDogMC40LCB5OiAwLjU1IH1cclxuICAgIF1cclxuICAgIGNvbnN0IHdvcmxkUGF0aCA9IHBhdGgubWFwKHBvaW50ID0+IHBvc0luU3F1YXJlVG9Xb3JsZChwb2ludCkpXHJcblxyXG4gICAgY3R4LmJlZ2luUGF0aCgpXHJcbiAgICBjdHgubW92ZVRvKHdvcmxkUGF0aFswXS54LCB3b3JsZFBhdGhbMF0ueSlcclxuICAgIHdvcmxkUGF0aC5mb3JFYWNoKHBvaW50ID0+IHtcclxuICAgICAgY3R4LmxpbmVUbyhwb2ludC54LCBwb2ludC55KVxyXG4gICAgfSlcclxuICAgIGN0eC5jbG9zZVBhdGgoKVxyXG4gICAgY3R4LmZpbGwoKVxyXG4gICAgY3R4LnN0cm9rZSgpXHJcbiAgfVxyXG59IiwiaW1wb3J0IEJvYXJkLCB7IE5vZGUgfSBmcm9tICcuLi9ib2FyZCdcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gJy4uLy4uL2dhbWUnXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFbmRQb2ludCBleHRlbmRzIE5vZGUge1xyXG4gIHR5cGU6IHN0cmluZyA9ICdlbmQnXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcbiAgYW5pbWF0b3I6IEVuZFBvaW50QW5pbWF0aW9uXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9wb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIHN1cGVyKClcclxuXHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gMVxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IEVuZFBvaW50QW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBlbnRlcihfYm9hcmQ6IEJvYXJkKSB7XHJcbiAgICB0aGlzLmJvYXJkID0gX2JvYXJkXHJcblxyXG4gICAgLy8gcmVtb3ZlIGFueSBvdGhlciBlbmQgcG9pbnRzXHJcbiAgICBjb25zdCBbaW5kZXhdID0gdGhpcy5ib2FyZC5maW5kRW5kTm9kZSgpXHJcbiAgICBpZihpbmRleCA+PSAwKSB7XHJcbiAgICAgIHRoaXMuYm9hcmQubm9kZXMuc3BsaWNlKGluZGV4LCAxKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICB0aGlzLmFuaW1hdG9yLmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgfVxyXG59XHJcblxyXG5jbGFzcyBFbmRQb2ludEFuaW1hdGlvbiB7XHJcbiAgLy8gQW5pbWF0aW9uXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25GcmFtZTogbnVtYmVyID0gMFxyXG4gIHByaXZhdGUgYW5pbWF0aW9uVGltZTogbnVtYmVyID0gNDAwMFxyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKHJlYWRvbmx5IHBhcmVudDogRW5kUG9pbnQpIHtcclxuICAgIFxyXG4gIH1cclxuICBcclxuICBkcmF3KGRlbHRhVGltZTogbnVtYmVyLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgaWYodGhpcy5wYXJlbnQuYm9hcmQgPT0gbnVsbCkge1xyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgIHRoaXMuYW5pbWF0aW9uRnJhbWUgJT0gdGhpcy5hbmltYXRpb25UaW1lXHJcbiAgICBcclxuICAgIGNvbnN0IGFuaW1hdGlvbk11bHRpcGxpZXIgPSB0aGlzLmFuaW1hdGlvbkZyYW1lIC8gdGhpcy5hbmltYXRpb25UaW1lXHJcbiAgICBjb25zdCBwb3MgPSB0aGlzLnBhcmVudC5wb3NcclxuICAgIGNvbnN0IHNxdWFyZVNpemUgPSB0aGlzLnBhcmVudC5ib2FyZC5zcXVhcmVTaXplXHJcbiAgICBcclxuICAgIGN0eC5maWxsU3R5bGUgPSAncmVkJ1xyXG4gICAgY3R4LmxpbmVXaWR0aCA9IDFcclxuICAgIGN0eC5zdHJva2VTdHlsZSA9ICdibGFjaydcclxuXHJcbiAgICBjb25zdCBwb3NJblNxdWFyZVRvV29ybGQgPSAoX3BvczogQ29vcmRpbmF0ZSk6IENvb3JkaW5hdGUgPT4gKHtcclxuICAgICAgeDogKF9wb3MueCArIHBvcy54KSAqIHNxdWFyZVNpemUsXHJcbiAgICAgIHk6IChfcG9zLnkgKyBwb3MueSkgKiBzcXVhcmVTaXplXHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IHBhdGg6IENvb3JkaW5hdGVbXSA9IFtcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuOCB9LFxyXG4gICAgICB7IHg6IDAuNiwgeTogMC44IH0sXHJcbiAgICAgIHsgeDogMC42LCB5OiAwLjIgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuMiB9LFxyXG4gICAgICB7IHg6IDAuNCwgeTogMC4yNSB9LFxyXG4gICAgICB7IHg6IDAuMiArICgwLjEgKiBNYXRoLnNpbihhbmltYXRpb25NdWx0aXBsaWVyICogTWF0aC5QSSAqIDIpKSwgeTogMC40ICsgKDAuMDUgKiBNYXRoLmFicyhNYXRoLmNvcyhhbmltYXRpb25NdWx0aXBsaWVyICogTWF0aC5QSSAqIDIpKSkgfSxcclxuICAgICAgeyB4OiAwLjQsIHk6IDAuNTUgfVxyXG4gICAgXVxyXG4gICAgY29uc3Qgd29ybGRQYXRoID0gcGF0aC5tYXAocG9pbnQgPT4gcG9zSW5TcXVhcmVUb1dvcmxkKHBvaW50KSlcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKClcclxuICAgIGN0eC5tb3ZlVG8od29ybGRQYXRoWzBdLngsIHdvcmxkUGF0aFswXS55KVxyXG4gICAgd29ybGRQYXRoLmZvckVhY2gocG9pbnQgPT4ge1xyXG4gICAgICBjdHgubGluZVRvKHBvaW50LngsIHBvaW50LnkpXHJcbiAgICB9KVxyXG4gICAgY3R4LmNsb3NlUGF0aCgpXHJcbiAgICBjdHguZmlsbCgpXHJcbiAgICBjdHguc3Ryb2tlKClcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi4vYm9hcmQnXHJcbmltcG9ydCB7IENvb3JkaW5hdGUgfSBmcm9tICcuLi8uLi9nYW1lJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV2F0ZXIgZXh0ZW5kcyBOb2RlIHtcclxuICB0eXBlOiBzdHJpbmcgPSAnd2F0ZXInXHJcbiAgcG9zOiBDb29yZGluYXRlXHJcbiAgYW5pbWF0b3I6IFdhdGVyQW5pbWF0aW9uXHJcblxyXG4gIGNvbnN0cnVjdG9yKF9wb3M6IENvb3JkaW5hdGUpIHtcclxuICAgIHN1cGVyKClcclxuXHJcbiAgICB0aGlzLnN0ZXBNdWx0aXBsaWVyID0gMlxyXG4gICAgdGhpcy5wb3MgPSBfcG9zXHJcbiAgICB0aGlzLmFuaW1hdG9yID0gbmV3IFdhdGVyQW5pbWF0aW9uKHRoaXMpXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgIHRoaXMuYW5pbWF0b3IuZHJhdyhkZWx0YVRpbWUsIGN0eClcclxuICB9XHJcbn1cclxuXHJcbmNsYXNzIFdhdGVyQW5pbWF0aW9uIHtcclxuICAvLyBBbmltYXRpb25cclxuICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lOiBudW1iZXIgPSAwXHJcbiAgcHJpdmF0ZSBhbmltYXRpb25UaW1lOiBudW1iZXIgPSAxMDBcclxuICBcclxuICBjb25zdHJ1Y3RvcihyZWFkb25seSBwYXJlbnQ6IFdhdGVyKSB7XHJcbiAgICBcclxuICB9XHJcbiAgXHJcbiAgZHJhdyhkZWx0YVRpbWU6IG51bWJlciwgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGlmKHRoaXMucGFyZW50LmJvYXJkID09IG51bGwpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHRoaXMuYW5pbWF0aW9uRnJhbWUgPCB0aGlzLmFuaW1hdGlvblRpbWUpIHtcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSArPSBkZWx0YVRpbWVcclxuICAgICAgdGhpcy5hbmltYXRpb25GcmFtZSA9IE1hdGgubWluKHRoaXMuYW5pbWF0aW9uVGltZSwgdGhpcy5hbmltYXRpb25GcmFtZSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgYW5pbWF0aW9uTXVsdGlwbGllciA9IHRoaXMuYW5pbWF0aW9uRnJhbWUgLyB0aGlzLmFuaW1hdGlvblRpbWVcclxuICAgIGNvbnN0IHBvcyA9IHRoaXMucGFyZW50LnBvc1xyXG4gICAgY29uc3Qgc3F1YXJlU2l6ZSA9IHRoaXMucGFyZW50LmJvYXJkLnNxdWFyZVNpemVcclxuICAgIFxyXG4gICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDEwMCwgMTUwLCAwLjYpJ1xyXG5cclxuICAgIGN0eC5maWxsUmVjdChcclxuICAgICAgcG9zLnggKiBzcXVhcmVTaXplIC0gKChzcXVhcmVTaXplLzQpICogKDEtYW5pbWF0aW9uTXVsdGlwbGllcikpLFxyXG4gICAgICBwb3MueSAqIHNxdWFyZVNpemUgLSAoKHNxdWFyZVNpemUvNCkgKiAoMS1hbmltYXRpb25NdWx0aXBsaWVyKSksXHJcbiAgICAgIHNxdWFyZVNpemUsXHJcbiAgICAgIHNxdWFyZVNpemVcclxuICAgIClcclxuICB9XHJcbn0iLCJpbXBvcnQgQm9hcmQsIHsgTm9kZSB9IGZyb20gXCIuL2JvYXJkXCJcclxuaW1wb3J0IHsgQ29vcmRpbmF0ZSB9IGZyb20gXCIuLi9nYW1lXCJcclxuaW1wb3J0IFdhbGwgZnJvbSBcIi4vbm9kZXMvd2FsbFwiXHJcbmltcG9ydCBTdGFydFBvaW50IGZyb20gXCIuL25vZGVzL3N0YXJ0cG9pbnRcIlxyXG5pbXBvcnQgRW5kUG9pbnQgZnJvbSBcIi4vbm9kZXMvZW5kcG9pbnRcIlxyXG5pbXBvcnQgV2F0ZXIgZnJvbSBcIi4vbm9kZXMvd2F0ZXJcIlxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJvYXJkTG9naWMgZXh0ZW5kcyBCb2FyZCB7XHJcbiAgZmFjdG9yaWVzOiB7IFtrZXk6IHN0cmluZ106IHsgbGFiZWw6IHN0cmluZywgZmFjdG9yeTogKHBvczogQ29vcmRpbmF0ZSkgPT4gTm9kZSB9IH1cclxuICBjdXJyZW50S2V5OiBzdHJpbmcgPSAnJ1xyXG5cclxuICBjb25zdHJ1Y3Rvcihfc2l6ZTogQ29vcmRpbmF0ZSkge1xyXG4gICAgc3VwZXIoX3NpemUpXHJcblxyXG5cclxuICAgIHRoaXMuZmFjdG9yaWVzID0ge1xyXG4gICAgICBzdGFydDogeyBsYWJlbDogJ1N0YXJ0IFBvaW50JywgZmFjdG9yeTogcG9zaXRpb24gPT4gbmV3IFN0YXJ0UG9pbnQocG9zaXRpb24pIH0sXHJcbiAgICAgIGVuZDogeyBsYWJlbDogJ0VuZCBQb2ludCcsIGZhY3Rvcnk6IHBvc2l0aW9uID0+IG5ldyBFbmRQb2ludChwb3NpdGlvbikgfSxcclxuICAgICAgd2FsbDogeyBsYWJlbDogJ1dhbGwnLCBmYWN0b3J5OiBwb3NpdGlvbiA9PiBuZXcgV2FsbChwb3NpdGlvbikgfSxcclxuICAgICAgd2F0ZXI6IHsgbGFiZWw6ICdXYXRlcicsIGZhY3Rvcnk6IHBvc2l0aW9uID0+IG5ldyBXYXRlcihwb3NpdGlvbikgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCB0b1BsYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvcGxhY2Utc2VsZWN0b3InKVxyXG4gICAgaWYodG9QbGFjZSAhPSBudWxsKXtcclxuICAgICAgZm9yKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcy5mYWN0b3JpZXMpKSB7XHJcbiAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcclxuICAgICAgICBuZXdFbGVtZW50LnR5cGUgPSAncmFkaW8nXHJcbiAgICAgICAgbmV3RWxlbWVudC5uYW1lID0gJ3RvcGxhY2UnXHJcbiAgICAgICAgbmV3RWxlbWVudC5pZCA9ICd0b3BsYWNlLScgKyBrZXlcclxuICAgICAgICBuZXdFbGVtZW50LmNsYXNzTmFtZSA9ICdjdXN0b20tY29udHJvbC1pbnB1dCdcclxuICAgICAgICBuZXdFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgIHRoaXMuY3VycmVudEtleSA9IGtleVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxyXG4gICAgICAgIGxhYmVsRWxlbWVudC5jbGFzc05hbWUgPSAnY3VzdG9tLWNvbnRyb2wtbGFiZWwnXHJcbiAgICAgICAgbGFiZWxFbGVtZW50Lmh0bWxGb3IgPSAndG9wbGFjZS0nICsga2V5XHJcbiAgICAgICAgbGFiZWxFbGVtZW50LmlubmVySFRNTCA9IHRoaXMuZmFjdG9yaWVzW2tleV0ubGFiZWxcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9ICdjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW8nXHJcbiAgICAgICAgZGl2RWxlbWVudC5hcHBlbmRDaGlsZChuZXdFbGVtZW50KVxyXG4gICAgICAgIGRpdkVsZW1lbnQuYXBwZW5kQ2hpbGQobGFiZWxFbGVtZW50KVxyXG4gIFxyXG4gICAgICAgIHRvUGxhY2UuYXBwZW5kQ2hpbGQoZGl2RWxlbWVudClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uQ2xpY2soZTogTW91c2VFdmVudCkge1xyXG4gICAgY29uc3QgcG9zaXRpb246IENvb3JkaW5hdGUgPSB7XHJcbiAgICAgIHg6IE1hdGguZmxvb3IoZS5vZmZzZXRYL3RoaXMuc3F1YXJlU2l6ZSksXHJcbiAgICAgIHk6IE1hdGguZmxvb3IoZS5vZmZzZXRZL3RoaXMuc3F1YXJlU2l6ZSlcclxuICAgIH1cclxuXHJcbiAgICBpZighKHRoaXMuY3VycmVudEtleSBpbiB0aGlzLmZhY3RvcmllcykpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN3aXRjaChlLmJ1dHRvbnMpIHtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIHRoaXMuYWRkTm9kZSh0aGlzLmZhY3Rvcmllc1t0aGlzLmN1cnJlbnRLZXldLmZhY3RvcnkocG9zaXRpb24pKVxyXG4gICAgICAgIHRoaXMucGF0aEZpbmRlci5zdGFydCgpXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIHRoaXMucmVtb3ZlTm9kZShwb3NpdGlvbilcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSByZW1vdmVOb2RlKHBvczogQ29vcmRpbmF0ZSkge1xyXG4gICAgY29uc3QgW2luZGV4XSA9IHRoaXMuZ2V0Tm9kZShwb3MpXHJcbiAgICBpZihpbmRleCA9PT0gLTEpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5ub2Rlcy5zcGxpY2UoaW5kZXgsIDEpXHJcbiAgfVxyXG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgcHVibGljIGFic3RyYWN0IGRyYXcoZGVsdGFUaW1lOiBudW1iZXIsIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZDtcclxufSIsImltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvY29tcG9uZW50XCI7XHJcbmltcG9ydCBCb2FyZExvZ2ljIGZyb20gXCIuL2NvbXBvbmVudHMvYm9hcmRMb2dpY1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbGxlciB7XHJcbiAgY29tcG9uZW50czogQ29tcG9uZW50W10gPSBbXVxyXG4gIGxhc3RUaW1lOiBudW1iZXIgPSAwXHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgIGNvbnN0IGJvYXJkID0gbmV3IEJvYXJkTG9naWMoXHJcbiAgICAgIHt4OiAyNiwgeTogMjJ9XHJcbiAgICApXHJcblxyXG4gICAgY3R4LmNhbnZhcy53aWR0aCA9IGJvYXJkLnNpemUueCAqIGJvYXJkLnNxdWFyZVNpemVcclxuICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gYm9hcmQuc2l6ZS55ICogYm9hcmQuc3F1YXJlU2l6ZVxyXG5cclxuICAgIGN0eC5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4geyBlLnByZXZlbnREZWZhdWx0KCkgfSlcclxuXHJcbiAgICBjdHguY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGJvYXJkLm9uQ2xpY2suYmluZChib2FyZCkpXHJcbiAgICBjdHguY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGJvYXJkLm9uQ2xpY2suYmluZChib2FyZCkpXHJcbiAgICBcclxuXHJcbiAgICB0aGlzLmFkZENvbXBvbmVudChib2FyZClcclxuICB9XHJcblxyXG4gIGFkZENvbXBvbmVudChjb21wb25lbnQ6IENvbXBvbmVudCkge1xyXG4gICAgdGhpcy5jb21wb25lbnRzLnB1c2goY29tcG9uZW50KVxyXG4gIH1cclxuXHJcbiAgZHJhdyh0aW1lOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGN0eCA9IHRoaXMuY3R4XHJcblxyXG4gICAgY29uc3QgZGVsdGFUaW1lID0gdGltZS10aGlzLmxhc3RUaW1lXHJcblxyXG4gICAgLy8gQ2xlYXJcclxuICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnXHJcbiAgICBjdHguZmlsbFJlY3QoMCwgMCwgY3R4LmNhbnZhcy53aWR0aCwgY3R4LmNhbnZhcy5oZWlnaHQpXHJcblxyXG4gICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goY29tcG9uZW50ID0+IHtcclxuICAgICAgY29tcG9uZW50LmRyYXcoZGVsdGFUaW1lLCBjdHgpXHJcbiAgICB9KVxyXG5cclxuICAgIHRoaXMubGFzdFRpbWU9IHRpbWVcclxuICB9XHJcbn0iLCJpbXBvcnQgQ29udHJvbGxlciBmcm9tIFwiLi9jb250cm9sbGVyXCJcclxuXHJcbmNvbnN0IGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZS1jYW52YXMnKVxyXG5jb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxyXG5cclxuaWYoY3R4ICE9IG51bGwpIHtcclxuICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2VcclxuICBjb25zdCBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIoY3R4KVxyXG5cclxuICBjb25zdCB1cGRhdGUgPSAodGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICBjb250cm9sbGVyLmRyYXcodGltZSlcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKVxyXG4gIH1cclxuXHJcbiAgdXBkYXRlKDApXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9